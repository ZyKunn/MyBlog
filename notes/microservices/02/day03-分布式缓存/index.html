<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="./img/logo.png"><title>day03-åˆ†å¸ƒå¼ç¼“å­˜ | ZyKunã®Blog</title><meta name="description" content="">
    <link rel="preload" href="/MyBlog/assets/style-57272a59.css" as="style"><link rel="stylesheet" href="/MyBlog/assets/style-57272a59.css">
    <link rel="modulepreload" href="/MyBlog/assets/app-a153c100.js"><link rel="modulepreload" href="/MyBlog/assets/index.html-e1615934.js"><link rel="modulepreload" href="/MyBlog/assets/index.html-67b1b38e.js"><link rel="prefetch" href="/MyBlog/assets/index.html-ab0151fa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1249ab5a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4d02565e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1c68c797.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-93acf26d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2bc953d6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0c526d7c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-636c9f52.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d4177c6b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7624decc.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d0b4a798.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-aa378d7b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ddd44d65.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-adbb7f41.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-34576599.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1079a374.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-88d4ebe7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5e927142.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9a6f13b8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4c85da23.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-69e813d7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-545062a2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bd7a4fcb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-910949e0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-459b0c71.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9a036060.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f62ffe74.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-841a86c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b31c8bb6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-85bae056.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-73555735.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6d5456cd.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d2dfbeec.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-746091c2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9cc627ff.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d411448a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4454f425.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-57aa84f4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2ce52087.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-76657200.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-90d9409e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4d6ba5e7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-41bc7856.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6140daf4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ea30461d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-00114784.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f3fa86cb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-386f0bd2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b46ac77e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-256a258e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4ebf55b3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7268161e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5a8852c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-19373782.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4e33bb6b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-de5ff178.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fd5da14a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-dbee5a73.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-64025c89.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9bd15ac7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4812edff.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1f3f5c2b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3f85e131.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1d66d048.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-17f10f72.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ad1b5dc8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b14e7669.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fa35810b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-acb9b7bf.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f2ba9a88.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-abdb28e5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b3cc33e9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ef13eee8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-73fa0dcc.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6f7449c7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3857ef8d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e5af1d8f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d5d14c1f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-94a8b9a2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3931e4d3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0978879b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-617bd5bf.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4fe008c8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0e33aa95.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-00725025.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8e05ec6e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-72ca6b4c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-427c5181.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3b3baf42.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-40a790c3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9709e7c9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8eb00d02.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0c849262.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-eda16f63.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-81242655.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2c9f6820.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-79188b74.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5775eee0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-eff0510c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-305de307.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e83a5de7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-761a9548.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c12ae66e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-87a73e5c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d720473a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b960b5b6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bbd98f93.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-76195dca.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3bd0cfa7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8c87d147.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bac2e853.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1ee6bc34.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ab7381d6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5b97f6b8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fd33ca6f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-684189de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-63731ad7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-895bfca1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6d1ff4c2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b71bf26f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ce6f983b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c185f9a2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-29c62d64.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-52c91de2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-55aa1c06.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c87ef63a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ff1d9f51.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a12aedeb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-298f19f2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f881f599.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2c32406a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d4217479.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7edb7ce1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8671126f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-da565d04.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f9deb3ec.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ee7cf1b5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-270d6327.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ec786b75.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e98adf02.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7233a0e2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-79c193cf.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9714081e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d5dea51d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a235e4bb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e3209a23.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cdce2101.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-389e66df.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-652ee4f6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-025e6f4e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-60711e70.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6edc93de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-11bd39b1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-53015219.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-74dcd8ae.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2dd727db.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-11b329fb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3b6f3614.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-70ce719f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f6ca4d92.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5a6833de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bf03220c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a2edab58.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f1e5cf7a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-21d4e18d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5235fca9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2dc704c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-57630906.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ff165209.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6ec253a3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f9e4f0c3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-664b232d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-adf015a3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4667c0e6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cc407710.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1752d212.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9b5d99c4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-43c48ae2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e8a616b7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-93e7405b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-22a72a56.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-42ce3023.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f8eeab22.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-dd50991a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-af520db8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5ab2bfac.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-965bc04f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-81ebef01.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-79d19f4d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9600bdfb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-560df48d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4fb22a4f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bd4caa82.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-370323f9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f673ebfa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-78d88460.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8b54347c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d30f0340.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e26bc4de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7d37b036.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3aa565ce.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4c69f238.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-76d60030.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7116a5e4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d8f649cc.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-adbbb7c9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-90bb86fd.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e23936a3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-19ad952b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-07245162.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-038b3afd.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-084fe5c1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-098421fe.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7baefce4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fffdfb9c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d8c9612c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-05c42fda.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-da824146.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fa2d32f0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-545dbea7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f3ca58cb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b9e2188a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4fc5f1f7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1ec5c70d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cbf2aa55.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8beb0c08.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ee54da9f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fd28b91d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-98aa51a1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-03f9381a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2c9009c5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-71b7cfbe.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1759170e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-aa84186f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-53160af7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-51b685b4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ecb8e229.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9c507901.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c6362722.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-faf67dd8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d7f20950.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a088985c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-93b7982c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b76e6179.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d976d39c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b16efd78.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1301757e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c3240cbe.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a2ddd21c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-74fb5e20.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-128f5026.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8fd9f38a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-82e84e23.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-007ef014.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f3dd860c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-382a2bae.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7b6beaec.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2eb17cfa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c6f50213.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0c8aef39.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-133f4d38.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cffd2be1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a798219d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6b5fde77.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-13275b71.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4b6a02c3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7f179a12.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f45bc33f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0574e5e5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0921816f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-631fbc02.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8586017d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c4dbf09b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-967486c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-aad17dde.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ff644d77.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-78a4df64.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8d2180e8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-53fbcd20.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a3387e5e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-979f5ac4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0938c506.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-51707e22.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b1e917a0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6b56a071.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d15eb498.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7b0a97c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fda196b5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bcc5faac.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-490c208f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-dce28479.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-62825d3c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b5a4af15.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-eb40da96.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8d6d1c61.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-618cf3f0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f2a35430.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-64f564d2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bca2187b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-85181f96.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7f689b28.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-62aa623a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b0c39cc5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-73b8fff0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5466ae58.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fbd0bcfa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/404.html-5f041a2b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/MyBlog/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/MyBlog/" class=""><!----><span class="site-name can-hide">ZyKunã®Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/MyBlog/" class="" aria-label="ğŸŒ±Home"><!--[--><!--]--> ğŸŒ±Home <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/01/" class="" aria-label="åŸºç¡€è¯­æ³•"><!--[--><!--]--> åŸºç¡€è¯­æ³• <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/02/" class="" aria-label="é¢å‘å¯¹è±¡ç¼–ç¨‹"><!--[--><!--]--> é¢å‘å¯¹è±¡ç¼–ç¨‹ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/03/" class="" aria-label="å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶"><!--[--><!--]--> å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/04/" class="" aria-label="JDBC"><!--[--><!--]--> JDBC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/05/" class="" aria-label="Javaé«˜çº§"><!--[--><!--]--> Javaé«˜çº§ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/06/" class="" aria-label="JavaWeb"><!--[--><!--]--> JavaWeb <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/python/01/" class="" aria-label="Pythonå…¥é—¨"><!--[--><!--]--> Pythonå…¥é—¨ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/01/" class="" aria-label="å®ç”¨ç¯‡"><!--[--><!--]--> å®ç”¨ç¯‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/02/" class="router-link-active" aria-label="é«˜çº§ç¯‡"><!--[--><!--]--> é«˜çº§ç¯‡ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/mysql/" class="" aria-label="ğŸ“Mysql"><!--[--><!--]--> ğŸ“Mysql <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/01/" class="" aria-label="HTML&amp;CSS"><!--[--><!--]--> HTML&amp;CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/02/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/03/" class="" aria-label="JQuery"><!--[--><!--]--> JQuery <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/04/" class="" aria-label="Layui"><!--[--><!--]--> Layui <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/05/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/01/" class="" aria-label="Reggie"><!--[--><!--]--> Reggie <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/02/" class="" aria-label="51XueCheng"><!--[--><!--]--> 51XueCheng <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/record/" class="" aria-label="ğŸéšç¬”"><!--[--><!--]--> ğŸéšç¬” <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/ZyKunn" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/MyBlog/" class="" aria-label="ğŸŒ±Home"><!--[--><!--]--> ğŸŒ±Home <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/01/" class="" aria-label="åŸºç¡€è¯­æ³•"><!--[--><!--]--> åŸºç¡€è¯­æ³• <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/02/" class="" aria-label="é¢å‘å¯¹è±¡ç¼–ç¨‹"><!--[--><!--]--> é¢å‘å¯¹è±¡ç¼–ç¨‹ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/03/" class="" aria-label="å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶"><!--[--><!--]--> å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/04/" class="" aria-label="JDBC"><!--[--><!--]--> JDBC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/05/" class="" aria-label="Javaé«˜çº§"><!--[--><!--]--> Javaé«˜çº§ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/06/" class="" aria-label="JavaWeb"><!--[--><!--]--> JavaWeb <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/python/01/" class="" aria-label="Pythonå…¥é—¨"><!--[--><!--]--> Pythonå…¥é—¨ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/01/" class="" aria-label="å®ç”¨ç¯‡"><!--[--><!--]--> å®ç”¨ç¯‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/02/" class="router-link-active" aria-label="é«˜çº§ç¯‡"><!--[--><!--]--> é«˜çº§ç¯‡ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/mysql/" class="" aria-label="ğŸ“Mysql"><!--[--><!--]--> ğŸ“Mysql <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/01/" class="" aria-label="HTML&amp;CSS"><!--[--><!--]--> HTML&amp;CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/02/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/03/" class="" aria-label="JQuery"><!--[--><!--]--> JQuery <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/04/" class="" aria-label="Layui"><!--[--><!--]--> Layui <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/05/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/01/" class="" aria-label="Reggie"><!--[--><!--]--> Reggie <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/02/" class="" aria-label="51XueCheng"><!--[--><!--]--> 51XueCheng <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/record/" class="" aria-label="ğŸéšç¬”"><!--[--><!--]--> ğŸéšç¬” <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/ZyKunn" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/MyBlog/notes/microservices/02/" class="router-link-active sidebar-item sidebar-heading active" aria-label="é«˜ç´šç¯‡"><!--[--><!--]--> é«˜ç´šç¯‡ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/MyBlog/notes/microservices/02/day01-%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BF%9D%E6%8A%A4/" class="sidebar-item" aria-label="day01-å¾®æœåŠ¡ä¿æŠ¤"><!--[--><!--]--> day01-å¾®æœåŠ¡ä¿æŠ¤ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/microservices/02/Jmeter%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8/" class="sidebar-item" aria-label="Jmeter å¿«é€Ÿå…¥é—¨ ğŸ§™"><!--[--><!--]--> Jmeter å¿«é€Ÿå…¥é—¨ ğŸ§™ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/microservices/02/sentinel%E8%A7%84%E5%88%99%E6%8C%81%E4%B9%85%E5%8C%96/" class="sidebar-item" aria-label="Sentinel è§„åˆ™æŒä¹…åŒ– ğŸ§™"><!--[--><!--]--> Sentinel è§„åˆ™æŒä¹…åŒ– ğŸ§™ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/microservices/02/day02-%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1/" class="sidebar-item" aria-label="day02-åˆ†å¸ƒå¼äº‹åŠ¡"><!--[--><!--]--> day02-åˆ†å¸ƒå¼äº‹åŠ¡ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/microservices/02/seata%E7%9A%84%E9%83%A8%E7%BD%B2%E5%92%8C%E9%9B%86%E6%88%90/" class="sidebar-item" aria-label="seata çš„éƒ¨ç½²å’Œé›†æˆ ğŸ§™"><!--[--><!--]--> seata çš„éƒ¨ç½²å’Œé›†æˆ ğŸ§™ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="day03-åˆ†å¸ƒå¼ç¼“å­˜"><!--[--><!--]--> day03-åˆ†å¸ƒå¼ç¼“å­˜ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-rdb-æŒä¹…åŒ–" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1.RDB æŒä¹…åŒ–"><!--[--><!--]--> 1.1.RDB æŒä¹…åŒ– <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-1-æ‰§è¡Œæ—¶æœº" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1.1.æ‰§è¡Œæ—¶æœº"><!--[--><!--]--> 1.1.1.æ‰§è¡Œæ—¶æœº <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-2-rdb-åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1.2.RDB åŸç†"><!--[--><!--]--> 1.1.2.RDB åŸç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-3-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1.3.å°ç»“"><!--[--><!--]--> 1.1.3.å°ç»“ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-aof-æŒä¹…åŒ–" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.AOF æŒä¹…åŒ–"><!--[--><!--]--> 1.2.AOF æŒä¹…åŒ– <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-1-aof-åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.1.AOF åŸç†"><!--[--><!--]--> 1.2.1.AOF åŸç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-2-aof-é…ç½®" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.2.AOF é…ç½®"><!--[--><!--]--> 1.2.2.AOF é…ç½® <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-3-aof-æ–‡ä»¶é‡å†™" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2.3.AOF æ–‡ä»¶é‡å†™"><!--[--><!--]--> 1.2.3.AOF æ–‡ä»¶é‡å†™ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-3-rdb-ä¸-aof-å¯¹æ¯”" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3.RDB ä¸ AOF å¯¹æ¯”"><!--[--><!--]--> 1.3.RDB ä¸ AOF å¯¹æ¯” <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-1-æ­å»ºä¸»ä»æ¶æ„" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1.æ­å»ºä¸»ä»æ¶æ„"><!--[--><!--]--> 2.1.æ­å»ºä¸»ä»æ¶æ„ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-ä¸»ä»æ•°æ®åŒæ­¥åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.ä¸»ä»æ•°æ®åŒæ­¥åŸç†"><!--[--><!--]--> 2.2.ä¸»ä»æ•°æ®åŒæ­¥åŸç† <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-1-å…¨é‡åŒæ­¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.1.å…¨é‡åŒæ­¥"><!--[--><!--]--> 2.2.1.å…¨é‡åŒæ­¥ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-2-å¢é‡åŒæ­¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.2.å¢é‡åŒæ­¥"><!--[--><!--]--> 2.2.2.å¢é‡åŒæ­¥ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-3-repl-backlog-åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.3.repl_backlog åŸç†"><!--[--><!--]--> 2.2.3.repl_backlog åŸç† <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-3-ä¸»ä»åŒæ­¥ä¼˜åŒ–" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3.ä¸»ä»åŒæ­¥ä¼˜åŒ–"><!--[--><!--]--> 2.3.ä¸»ä»åŒæ­¥ä¼˜åŒ– <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-4-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.å°ç»“"><!--[--><!--]--> 2.4.å°ç»“ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-å“¨å…µåŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.å“¨å…µåŸç†"><!--[--><!--]--> 3.1.å“¨å…µåŸç† <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-1-é›†ç¾¤ç»“æ„å’Œä½œç”¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.1.é›†ç¾¤ç»“æ„å’Œä½œç”¨"><!--[--><!--]--> 3.1.1.é›†ç¾¤ç»“æ„å’Œä½œç”¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-2-é›†ç¾¤ç›‘æ§åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.2.é›†ç¾¤ç›‘æ§åŸç†"><!--[--><!--]--> 3.1.2.é›†ç¾¤ç›‘æ§åŸç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-3-é›†ç¾¤æ•…éšœæ¢å¤åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.3.é›†ç¾¤æ•…éšœæ¢å¤åŸç†"><!--[--><!--]--> 3.1.3.é›†ç¾¤æ•…éšœæ¢å¤åŸç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-4-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.1.4.å°ç»“"><!--[--><!--]--> 3.1.4.å°ç»“ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-2-æ­å»ºå“¨å…µé›†ç¾¤" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.2.æ­å»ºå“¨å…µé›†ç¾¤"><!--[--><!--]--> 3.2.æ­å»ºå“¨å…µé›†ç¾¤ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-redistemplate" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3.RedisTemplate"><!--[--><!--]--> 3.3.RedisTemplate <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-1-å¯¼å…¥-demo-å·¥ç¨‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3.1.å¯¼å…¥ Demo å·¥ç¨‹"><!--[--><!--]--> 3.3.1.å¯¼å…¥ Demo å·¥ç¨‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-2-å¼•å…¥ä¾èµ–" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3.2.å¼•å…¥ä¾èµ–"><!--[--><!--]--> 3.3.2.å¼•å…¥ä¾èµ– <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-3-é…ç½®-redis-åœ°å€" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3.3.é…ç½® Redis åœ°å€"><!--[--><!--]--> 3.3.3.é…ç½® Redis åœ°å€ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-4-é…ç½®è¯»å†™åˆ†ç¦»" class="router-link-active router-link-exact-active sidebar-item" aria-label="3.3.4.é…ç½®è¯»å†™åˆ†ç¦»"><!--[--><!--]--> 3.3.4.é…ç½®è¯»å†™åˆ†ç¦» <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-1-æ­å»ºåˆ†ç‰‡é›†ç¾¤" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.1.æ­å»ºåˆ†ç‰‡é›†ç¾¤"><!--[--><!--]--> 4.1.æ­å»ºåˆ†ç‰‡é›†ç¾¤ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-2-æ•£åˆ—æ’æ§½" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2.æ•£åˆ—æ’æ§½"><!--[--><!--]--> 4.2.æ•£åˆ—æ’æ§½ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-2-1-æ’æ§½åŸç†" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2.1.æ’æ§½åŸç†"><!--[--><!--]--> 4.2.1.æ’æ§½åŸç† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-2-1-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.2.1.å°ç»“"><!--[--><!--]--> 4.2.1.å°ç»“ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-é›†ç¾¤ä¼¸ç¼©" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.é›†ç¾¤ä¼¸ç¼©"><!--[--><!--]--> 4.3.é›†ç¾¤ä¼¸ç¼© <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-1-éœ€æ±‚åˆ†æ" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.1.éœ€æ±‚åˆ†æ"><!--[--><!--]--> 4.3.1.éœ€æ±‚åˆ†æ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-2-åˆ›å»ºæ–°çš„-redis-å®ä¾‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.2.åˆ›å»ºæ–°çš„ redis å®ä¾‹"><!--[--><!--]--> 4.3.2.åˆ›å»ºæ–°çš„ redis å®ä¾‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-3-æ·»åŠ æ–°èŠ‚ç‚¹åˆ°-redis" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.3.æ·»åŠ æ–°èŠ‚ç‚¹åˆ° redis"><!--[--><!--]--> 4.3.3.æ·»åŠ æ–°èŠ‚ç‚¹åˆ° redis <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-4-è½¬ç§»æ’æ§½" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.3.4.è½¬ç§»æ’æ§½"><!--[--><!--]--> 4.3.4.è½¬ç§»æ’æ§½ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-4-æ•…éšœè½¬ç§»" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4.æ•…éšœè½¬ç§»"><!--[--><!--]--> 4.4.æ•…éšœè½¬ç§» <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-4-1-è‡ªåŠ¨æ•…éšœè½¬ç§»" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4.1.è‡ªåŠ¨æ•…éšœè½¬ç§»"><!--[--><!--]--> 4.4.1.è‡ªåŠ¨æ•…éšœè½¬ç§» <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-4-2-æ‰‹åŠ¨æ•…éšœè½¬ç§»" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.4.2.æ‰‹åŠ¨æ•…éšœè½¬ç§»"><!--[--><!--]--> 4.4.2.æ‰‹åŠ¨æ•…éšœè½¬ç§» <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-5-redistemplate-è®¿é—®åˆ†ç‰‡é›†ç¾¤" class="router-link-active router-link-exact-active sidebar-item" aria-label="4.5.RedisTemplate è®¿é—®åˆ†ç‰‡é›†ç¾¤"><!--[--><!--]--> 4.5.RedisTemplate è®¿é—®åˆ†ç‰‡é›†ç¾¤ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/MyBlog/notes/microservices/02/Redis%E9%9B%86%E7%BE%A4/" class="sidebar-item" aria-label="Redis é›†ç¾¤ ğŸ§™"><!--[--><!--]--> Redis é›†ç¾¤ ğŸ§™ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/microservices/02/day05-MQ%E9%AB%98%E7%BA%A7/" class="sidebar-item" aria-label="day05-æœåŠ¡å¼‚æ­¥é€šä¿¡-é«˜çº§ç¯‡"><!--[--><!--]--> day05-æœåŠ¡å¼‚æ­¥é€šä¿¡-é«˜çº§ç¯‡ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/microservices/02/RabbitMQ%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97/" class="sidebar-item" aria-label="RabbitMQ éƒ¨ç½²æŒ‡å— ğŸ§™"><!--[--><!--]--> RabbitMQ éƒ¨ç½²æŒ‡å— ğŸ§™ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="day03-åˆ†å¸ƒå¼ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#day03-åˆ†å¸ƒå¼ç¼“å­˜" aria-hidden="true">#</a> day03-åˆ†å¸ƒå¼ç¼“å­˜</h1><nav class="table-of-contents"><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-rdb-æŒä¹…åŒ–" class="router-link-active router-link-exact-active">1.1.RDB æŒä¹…åŒ–</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-1-æ‰§è¡Œæ—¶æœº" class="router-link-active router-link-exact-active">1.1.1.æ‰§è¡Œæ—¶æœº</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-2-rdb-åŸç†" class="router-link-active router-link-exact-active">1.1.2.RDB åŸç†</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-1-3-å°ç»“" class="router-link-active router-link-exact-active">1.1.3.å°ç»“</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-aof-æŒä¹…åŒ–" class="router-link-active router-link-exact-active">1.2.AOF æŒä¹…åŒ–</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-1-aof-åŸç†" class="router-link-active router-link-exact-active">1.2.1.AOF åŸç†</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-2-aof-é…ç½®" class="router-link-active router-link-exact-active">1.2.2.AOF é…ç½®</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-2-3-aof-æ–‡ä»¶é‡å†™" class="router-link-active router-link-exact-active">1.2.3.AOF æ–‡ä»¶é‡å†™</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_1-3-rdb-ä¸-aof-å¯¹æ¯”" class="router-link-active router-link-exact-active">1.3.RDB ä¸ AOF å¯¹æ¯”</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-1-æ­å»ºä¸»ä»æ¶æ„" class="router-link-active router-link-exact-active">2.1.æ­å»ºä¸»ä»æ¶æ„</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-ä¸»ä»æ•°æ®åŒæ­¥åŸç†" class="router-link-active router-link-exact-active">2.2.ä¸»ä»æ•°æ®åŒæ­¥åŸç†</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-1-å…¨é‡åŒæ­¥" class="router-link-active router-link-exact-active">2.2.1.å…¨é‡åŒæ­¥</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-2-å¢é‡åŒæ­¥" class="router-link-active router-link-exact-active">2.2.2.å¢é‡åŒæ­¥</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-2-3-repl-backlog-åŸç†" class="router-link-active router-link-exact-active">2.2.3.repl_backlog åŸç†</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-3-ä¸»ä»åŒæ­¥ä¼˜åŒ–" class="router-link-active router-link-exact-active">2.3.ä¸»ä»åŒæ­¥ä¼˜åŒ–</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_2-4-å°ç»“" class="router-link-active router-link-exact-active">2.4.å°ç»“</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-å“¨å…µåŸç†" class="router-link-active router-link-exact-active">3.1.å“¨å…µåŸç†</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-1-é›†ç¾¤ç»“æ„å’Œä½œç”¨" class="router-link-active router-link-exact-active">3.1.1.é›†ç¾¤ç»“æ„å’Œä½œç”¨</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-2-é›†ç¾¤ç›‘æ§åŸç†" class="router-link-active router-link-exact-active">3.1.2.é›†ç¾¤ç›‘æ§åŸç†</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-3-é›†ç¾¤æ•…éšœæ¢å¤åŸç†" class="router-link-active router-link-exact-active">3.1.3.é›†ç¾¤æ•…éšœæ¢å¤åŸç†</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-1-4-å°ç»“" class="router-link-active router-link-exact-active">3.1.4.å°ç»“</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-2-æ­å»ºå“¨å…µé›†ç¾¤" class="router-link-active router-link-exact-active">3.2.æ­å»ºå“¨å…µé›†ç¾¤</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-redistemplate" class="router-link-active router-link-exact-active">3.3.RedisTemplate</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-1-å¯¼å…¥-demo-å·¥ç¨‹" class="router-link-active router-link-exact-active">3.3.1.å¯¼å…¥ Demo å·¥ç¨‹</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-2-å¼•å…¥ä¾èµ–" class="router-link-active router-link-exact-active">3.3.2.å¼•å…¥ä¾èµ–</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-3-é…ç½®-redis-åœ°å€" class="router-link-active router-link-exact-active">3.3.3.é…ç½® Redis åœ°å€</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_3-3-4-é…ç½®è¯»å†™åˆ†ç¦»" class="router-link-active router-link-exact-active">3.3.4.é…ç½®è¯»å†™åˆ†ç¦»</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-1-æ­å»ºåˆ†ç‰‡é›†ç¾¤" class="router-link-active router-link-exact-active">4.1.æ­å»ºåˆ†ç‰‡é›†ç¾¤</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-2-æ•£åˆ—æ’æ§½" class="router-link-active router-link-exact-active">4.2.æ•£åˆ—æ’æ§½</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-2-1-æ’æ§½åŸç†" class="router-link-active router-link-exact-active">4.2.1.æ’æ§½åŸç†</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-2-1-å°ç»“" class="router-link-active router-link-exact-active">4.2.1.å°ç»“</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-é›†ç¾¤ä¼¸ç¼©" class="router-link-active router-link-exact-active">4.3.é›†ç¾¤ä¼¸ç¼©</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-1-éœ€æ±‚åˆ†æ" class="router-link-active router-link-exact-active">4.3.1.éœ€æ±‚åˆ†æ</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-2-åˆ›å»ºæ–°çš„-redis-å®ä¾‹" class="router-link-active router-link-exact-active">4.3.2.åˆ›å»ºæ–°çš„ redis å®ä¾‹</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-3-æ·»åŠ æ–°èŠ‚ç‚¹åˆ°-redis" class="router-link-active router-link-exact-active">4.3.3.æ·»åŠ æ–°èŠ‚ç‚¹åˆ° redis</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-3-4-è½¬ç§»æ’æ§½" class="router-link-active router-link-exact-active">4.3.4.è½¬ç§»æ’æ§½</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-4-æ•…éšœè½¬ç§»" class="router-link-active router-link-exact-active">4.4.æ•…éšœè½¬ç§»</a><ul><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-4-1-è‡ªåŠ¨æ•…éšœè½¬ç§»" class="router-link-active router-link-exact-active">4.4.1.è‡ªåŠ¨æ•…éšœè½¬ç§»</a></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-4-2-æ‰‹åŠ¨æ•…éšœè½¬ç§»" class="router-link-active router-link-exact-active">4.4.2.æ‰‹åŠ¨æ•…éšœè½¬ç§»</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/microservices/02/day03-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98/#_4-5-redistemplate-è®¿é—®åˆ†ç‰‡é›†ç¾¤" class="router-link-active router-link-exact-active">4.5.RedisTemplate è®¿é—®åˆ†ç‰‡é›†ç¾¤</a></li></ul></nav><p>-- åŸºäº Redis é›†ç¾¤è§£å†³å•æœº Redis å­˜åœ¨çš„é—®é¢˜</p><p>å•æœºçš„ Redis å­˜åœ¨å››å¤§é—®é¢˜ï¼š</p><p><img src="/MyBlog/assets/image-20210725144240631-7098511e.png" alt="image-20210725144240631"></p><h1 id="_0-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#_0-å­¦ä¹ ç›®æ ‡" aria-hidden="true">#</a> 0.å­¦ä¹ ç›®æ ‡</h1><h1 id="_1-redis-æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-redis-æŒä¹…åŒ–" aria-hidden="true">#</a> 1.Redis æŒä¹…åŒ–</h1><p>Redis æœ‰ä¸¤ç§æŒä¹…åŒ–æ–¹æ¡ˆï¼š</p><ul><li>RDB æŒä¹…åŒ–</li><li>AOF æŒä¹…åŒ–</li></ul><h2 id="_1-1-rdb-æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-1-rdb-æŒä¹…åŒ–" aria-hidden="true">#</a> 1.1.RDB æŒä¹…åŒ–</h2><p>RDB å…¨ç§° Redis Database Backup fileï¼ˆRedis æ•°æ®å¤‡ä»½æ–‡ä»¶ï¼‰ï¼Œä¹Ÿè¢«å«åš Redis æ•°æ®å¿«ç…§ã€‚ç®€å•æ¥è¯´å°±æ˜¯æŠŠå†…å­˜ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½è®°å½•åˆ°ç£ç›˜ä¸­ã€‚å½“ Redis å®ä¾‹æ•…éšœé‡å¯åï¼Œä»ç£ç›˜è¯»å–å¿«ç…§æ–‡ä»¶ï¼Œæ¢å¤æ•°æ®ã€‚å¿«ç…§æ–‡ä»¶ç§°ä¸º RDB æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ä¿å­˜åœ¨å½“å‰è¿è¡Œç›®å½•ã€‚</p><h3 id="_1-1-1-æ‰§è¡Œæ—¶æœº" tabindex="-1"><a class="header-anchor" href="#_1-1-1-æ‰§è¡Œæ—¶æœº" aria-hidden="true">#</a> 1.1.1.æ‰§è¡Œæ—¶æœº</h3><p>RDB æŒä¹…åŒ–åœ¨å››ç§æƒ…å†µä¸‹ä¼šæ‰§è¡Œï¼š</p><ul><li>æ‰§è¡Œ save å‘½ä»¤</li><li>æ‰§è¡Œ bgsave å‘½ä»¤</li><li>Redis åœæœºæ—¶</li><li>è§¦å‘ RDB æ¡ä»¶æ—¶</li></ul><p><strong>1ï¼‰save å‘½ä»¤</strong></p><p>æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥ç«‹å³æ‰§è¡Œä¸€æ¬¡ RDBï¼š</p><p><img src="/MyBlog/assets/image-20210725144536958-981d82c0.png" alt="image-20210725144536958"></p><p>save å‘½ä»¤ä¼šå¯¼è‡´ä¸»è¿›ç¨‹æ‰§è¡Œ RDBï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­å…¶å®ƒæ‰€æœ‰å‘½ä»¤éƒ½ä¼šè¢«é˜»å¡ã€‚åªæœ‰åœ¨æ•°æ®è¿ç§»æ—¶å¯èƒ½ç”¨åˆ°ã€‚</p><p><strong>2ï¼‰bgsave å‘½ä»¤</strong></p><p>ä¸‹é¢çš„å‘½ä»¤å¯ä»¥å¼‚æ­¥æ‰§è¡Œ RDBï¼š</p><p><img src="/MyBlog/assets/image-20210725144725943-25f555fc.png" alt="image-20210725144725943"></p><p>è¿™ä¸ªå‘½ä»¤æ‰§è¡Œåä¼šå¼€å¯ç‹¬ç«‹è¿›ç¨‹å®Œæˆ RDBï¼Œä¸»è¿›ç¨‹å¯ä»¥æŒç»­å¤„ç†ç”¨æˆ·è¯·æ±‚ï¼Œä¸å—å½±å“ã€‚</p><p><strong>3ï¼‰åœæœºæ—¶</strong></p><p>Redis åœæœºæ—¶ä¼šæ‰§è¡Œä¸€æ¬¡ save å‘½ä»¤ï¼Œå®ç° RDB æŒä¹…åŒ–ã€‚</p><p><strong>4ï¼‰è§¦å‘ RDB æ¡ä»¶</strong></p><p>Redis å†…éƒ¨æœ‰è§¦å‘ RDB çš„æœºåˆ¶ï¼Œå¯ä»¥åœ¨ redis.conf æ–‡ä»¶ä¸­æ‰¾åˆ°ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># 900ç§’å†…ï¼Œå¦‚æœè‡³å°‘æœ‰1ä¸ªkeyè¢«ä¿®æ”¹ï¼Œåˆ™æ‰§è¡Œbgsave ï¼Œ å¦‚æœæ˜¯save &quot;&quot; åˆ™è¡¨ç¤ºç¦ç”¨RDB</span>
<span class="token key attr-name">save</span> <span class="token value attr-value">900 1</span>
<span class="token key attr-name">save</span> <span class="token value attr-value">300 10</span>
<span class="token key attr-name">save</span> <span class="token value attr-value">60 10000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>RDB çš„å…¶å®ƒé…ç½®ä¹Ÿå¯ä»¥åœ¨ redis.conf æ–‡ä»¶ä¸­è®¾ç½®ï¼š</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># æ˜¯å¦å‹ç¼© ,å»ºè®®ä¸å¼€å¯ï¼Œå‹ç¼©ä¹Ÿä¼šæ¶ˆè€—cpuï¼Œç£ç›˜çš„è¯ä¸å€¼é’±</span>
<span class="token key attr-name">rdbcompression</span> <span class="token value attr-value">yes</span>

<span class="token comment"># RDBæ–‡ä»¶åç§°</span>
<span class="token key attr-name">dbfilename</span> <span class="token value attr-value">dump.rdb</span>

<span class="token comment"># æ–‡ä»¶ä¿å­˜çš„è·¯å¾„ç›®å½•</span>
<span class="token key attr-name">dir</span> <span class="token value attr-value">./</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-1-2-rdb-åŸç†" tabindex="-1"><a class="header-anchor" href="#_1-1-2-rdb-åŸç†" aria-hidden="true">#</a> 1.1.2.RDB åŸç†</h3><p>bgsave å¼€å§‹æ—¶ä¼š fork ä¸»è¿›ç¨‹å¾—åˆ°å­è¿›ç¨‹ï¼Œå­è¿›ç¨‹å…±äº«ä¸»è¿›ç¨‹çš„å†…å­˜æ•°æ®ã€‚å®Œæˆ fork åè¯»å–å†…å­˜æ•°æ®å¹¶å†™å…¥ RDB æ–‡ä»¶ã€‚</p><p>fork é‡‡ç”¨çš„æ˜¯ copy-on-write æŠ€æœ¯ï¼š</p><ul><li>å½“ä¸»è¿›ç¨‹æ‰§è¡Œè¯»æ“ä½œæ—¶ï¼Œè®¿é—®å…±äº«å†…å­˜ï¼›</li><li>å½“ä¸»è¿›ç¨‹æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œåˆ™ä¼šæ‹·è´ä¸€ä»½æ•°æ®ï¼Œæ‰§è¡Œå†™æ“ä½œã€‚</li></ul><p><img src="/MyBlog/assets/image-20210725151319695-ac3eab79.png" alt="image-20210725151319695"></p><h3 id="_1-1-3-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_1-1-3-å°ç»“" aria-hidden="true">#</a> 1.1.3.å°ç»“</h3><p>RDB æ–¹å¼ bgsave çš„åŸºæœ¬æµç¨‹ï¼Ÿ</p><ul><li>fork ä¸»è¿›ç¨‹å¾—åˆ°ä¸€ä¸ªå­è¿›ç¨‹ï¼Œå…±äº«å†…å­˜ç©ºé—´</li><li>å­è¿›ç¨‹è¯»å–å†…å­˜æ•°æ®å¹¶å†™å…¥æ–°çš„ RDB æ–‡ä»¶</li><li>ç”¨æ–° RDB æ–‡ä»¶æ›¿æ¢æ—§çš„ RDB æ–‡ä»¶</li></ul><p>RDB ä¼šåœ¨ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Ÿsave 60 1000 ä»£è¡¨ä»€ä¹ˆå«ä¹‰ï¼Ÿ</p><ul><li>é»˜è®¤æ˜¯æœåŠ¡åœæ­¢æ—¶</li><li>ä»£è¡¨ 60 ç§’å†…è‡³å°‘æ‰§è¡Œ 1000 æ¬¡ä¿®æ”¹åˆ™è§¦å‘ RDB</li></ul><p>RDB çš„ç¼ºç‚¹ï¼Ÿ</p><ul><li>RDB æ‰§è¡Œé—´éš”æ—¶é—´é•¿ï¼Œä¸¤æ¬¡ RDB ä¹‹é—´å†™å…¥æ•°æ®æœ‰ä¸¢å¤±çš„é£é™©</li><li>fork å­è¿›ç¨‹ã€å‹ç¼©ã€å†™å‡º RDB æ–‡ä»¶éƒ½æ¯”è¾ƒè€—æ—¶</li></ul><h2 id="_1-2-aof-æŒä¹…åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-2-aof-æŒä¹…åŒ–" aria-hidden="true">#</a> 1.2.AOF æŒä¹…åŒ–</h2><h3 id="_1-2-1-aof-åŸç†" tabindex="-1"><a class="header-anchor" href="#_1-2-1-aof-åŸç†" aria-hidden="true">#</a> 1.2.1.AOF åŸç†</h3><p>AOF å…¨ç§°ä¸º Append Only Fileï¼ˆè¿½åŠ æ–‡ä»¶ï¼‰ã€‚Redis å¤„ç†çš„æ¯ä¸€ä¸ªå†™å‘½ä»¤éƒ½ä¼šè®°å½•åœ¨ AOF æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åšæ˜¯å‘½ä»¤æ—¥å¿—æ–‡ä»¶ã€‚</p><p><img src="/MyBlog/assets/image-20210725151543640-eeea19b7.png" alt="image-20210725151543640"></p><h3 id="_1-2-2-aof-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-2-2-aof-é…ç½®" aria-hidden="true">#</a> 1.2.2.AOF é…ç½®</h3><p>AOF é»˜è®¤æ˜¯å…³é—­çš„ï¼Œéœ€è¦ä¿®æ”¹ redis.conf é…ç½®æ–‡ä»¶æ¥å¼€å¯ AOFï¼š</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># æ˜¯å¦å¼€å¯AOFåŠŸèƒ½ï¼Œé»˜è®¤æ˜¯no</span>
<span class="token key attr-name">appendonly</span> <span class="token value attr-value">yes</span>
<span class="token comment"># AOFæ–‡ä»¶çš„åç§°</span>
<span class="token key attr-name">appendfilename</span> <span class="token value attr-value">&quot;appendonly.aof&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>AOF çš„å‘½ä»¤è®°å½•çš„é¢‘ç‡ä¹Ÿå¯ä»¥é€šè¿‡ redis.conf æ–‡ä»¶æ¥é…ï¼š</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># è¡¨ç¤ºæ¯æ‰§è¡Œä¸€æ¬¡å†™å‘½ä»¤ï¼Œç«‹å³è®°å½•åˆ°AOFæ–‡ä»¶</span>
<span class="token key attr-name">appendfsync</span> <span class="token value attr-value">always</span>
<span class="token comment"># å†™å‘½ä»¤æ‰§è¡Œå®Œå…ˆæ”¾å…¥AOFç¼“å†²åŒºï¼Œç„¶åè¡¨ç¤ºæ¯éš”1ç§’å°†ç¼“å†²åŒºæ•°æ®å†™åˆ°AOFæ–‡ä»¶ï¼Œæ˜¯é»˜è®¤æ–¹æ¡ˆ</span>
<span class="token key attr-name">appendfsync</span> <span class="token value attr-value">everysec</span>
<span class="token comment"># å†™å‘½ä»¤æ‰§è¡Œå®Œå…ˆæ”¾å…¥AOFç¼“å†²åŒºï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶å°†ç¼“å†²åŒºå†…å®¹å†™å›ç£ç›˜</span>
<span class="token key attr-name">appendfsync</span> <span class="token value attr-value">no</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‰ç§ç­–ç•¥å¯¹æ¯”ï¼š</p><p><img src="/MyBlog/assets/image-20210725151654046-f9697d10.png" alt="image-20210725151654046"></p><h3 id="_1-2-3-aof-æ–‡ä»¶é‡å†™" tabindex="-1"><a class="header-anchor" href="#_1-2-3-aof-æ–‡ä»¶é‡å†™" aria-hidden="true">#</a> 1.2.3.AOF æ–‡ä»¶é‡å†™</h3><p>å› ä¸ºæ˜¯è®°å½•å‘½ä»¤ï¼ŒAOF æ–‡ä»¶ä¼šæ¯” RDB æ–‡ä»¶å¤§çš„å¤šã€‚è€Œä¸” AOF ä¼šè®°å½•å¯¹åŒä¸€ä¸ª key çš„å¤šæ¬¡å†™æ“ä½œï¼Œä½†åª bg æœ‰æœ€åä¸€æ¬¡å†™æ“ä½œæ‰æœ‰æ„ä¹‰ã€‚é€šè¿‡æ‰§è¡Œ bgrewriteaof å‘½ä»¤ï¼Œå¯ä»¥è®© AOF æ–‡ä»¶æ‰§è¡Œé‡å†™åŠŸèƒ½ï¼Œç”¨æœ€å°‘çš„å‘½ä»¤è¾¾åˆ°ç›¸åŒæ•ˆæœã€‚</p><p><img src="/MyBlog/assets/image-20210725151729118-d827d93a.png" alt="image-20210725151729118"></p><p>å¦‚å›¾ï¼ŒAOF åŸæœ¬æœ‰ä¸‰ä¸ªå‘½ä»¤ï¼Œä½†æ˜¯<code>set num 123 å’Œ set num 666</code>éƒ½æ˜¯å¯¹ num çš„æ“ä½œï¼Œç¬¬äºŒæ¬¡ä¼šè¦†ç›–ç¬¬ä¸€æ¬¡çš„å€¼ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªå‘½ä»¤è®°å½•ä¸‹æ¥æ²¡æœ‰æ„ä¹‰ã€‚</p><p>æ‰€ä»¥é‡å†™å‘½ä»¤åï¼ŒAOF æ–‡ä»¶å†…å®¹å°±æ˜¯ï¼š<code>mset name jack num 666</code></p><p>Redis ä¹Ÿä¼šåœ¨è§¦å‘é˜ˆå€¼æ—¶è‡ªåŠ¨å»é‡å†™ AOF æ–‡ä»¶ã€‚é˜ˆå€¼ä¹Ÿå¯ä»¥åœ¨ redis.conf ä¸­é…ç½®ï¼š</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># AOFæ–‡ä»¶æ¯”ä¸Šæ¬¡æ–‡ä»¶ å¢é•¿è¶…è¿‡å¤šå°‘ç™¾åˆ†æ¯”åˆ™è§¦å‘é‡å†™</span>
<span class="token key attr-name">auto-aof-rewrite-percentage</span> <span class="token value attr-value">100</span>
<span class="token comment"># AOFæ–‡ä»¶ä½“ç§¯æœ€å°å¤šå¤§ä»¥ä¸Šæ‰è§¦å‘é‡å†™</span>
<span class="token key attr-name">auto-aof-rewrite-min-size</span> <span class="token value attr-value">64mb</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-3-rdb-ä¸-aof-å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#_1-3-rdb-ä¸-aof-å¯¹æ¯”" aria-hidden="true">#</a> 1.3.RDB ä¸ AOF å¯¹æ¯”</h2><p>RDB å’Œ AOF å„æœ‰è‡ªå·±çš„ä¼˜ç¼ºç‚¹ï¼Œå¦‚æœå¯¹æ•°æ®å®‰å…¨æ€§è¦æ±‚è¾ƒé«˜ï¼Œåœ¨å®é™…å¼€å‘ä¸­å¾€å¾€ä¼š<strong>ç»“åˆ</strong>ä¸¤è€…æ¥ä½¿ç”¨ã€‚</p><p><img src="/MyBlog/assets/image-20210725151940515-33dd1bef.png" alt="image-20210725151940515"></p><h1 id="_2-redis-ä¸»ä»" tabindex="-1"><a class="header-anchor" href="#_2-redis-ä¸»ä»" aria-hidden="true">#</a> 2.Redis ä¸»ä»</h1><h2 id="_2-1-æ­å»ºä¸»ä»æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_2-1-æ­å»ºä¸»ä»æ¶æ„" aria-hidden="true">#</a> 2.1.æ­å»ºä¸»ä»æ¶æ„</h2><p>å•èŠ‚ç‚¹ Redis çš„å¹¶å‘èƒ½åŠ›æ˜¯æœ‰ä¸Šé™çš„ï¼Œè¦è¿›ä¸€æ­¥æé«˜ Redis çš„å¹¶å‘èƒ½åŠ›ï¼Œå°±éœ€è¦æ­å»ºä¸»ä»é›†ç¾¤ï¼Œå®ç°è¯»å†™åˆ†ç¦»ã€‚</p><p><img src="/MyBlog/assets/image-20210725152037611-36202b4d.png" alt="image-20210725152037611"></p><p>å…·ä½“æ­å»ºæµç¨‹å‚è€ƒè¯¾å‰èµ„æ–™ã€ŠRedis é›†ç¾¤.mdã€‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725152052501-b8a7a9fb.png" alt="image-20210725152052501"></p><h2 id="_2-2-ä¸»ä»æ•°æ®åŒæ­¥åŸç†" tabindex="-1"><a class="header-anchor" href="#_2-2-ä¸»ä»æ•°æ®åŒæ­¥åŸç†" aria-hidden="true">#</a> 2.2.ä¸»ä»æ•°æ®åŒæ­¥åŸç†</h2><h3 id="_2-2-1-å…¨é‡åŒæ­¥" tabindex="-1"><a class="header-anchor" href="#_2-2-1-å…¨é‡åŒæ­¥" aria-hidden="true">#</a> 2.2.1.å…¨é‡åŒæ­¥</h3><p>ä¸»ä»ç¬¬ä¸€æ¬¡å»ºç«‹è¿æ¥æ—¶ï¼Œä¼šæ‰§è¡Œ<strong>å…¨é‡åŒæ­¥</strong>ï¼Œå°† master èŠ‚ç‚¹çš„æ‰€æœ‰æ•°æ®éƒ½æ‹·è´ç»™ slave èŠ‚ç‚¹ï¼Œæµç¨‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725152222497-d2223f19.png" alt="image-20210725152222497"></p><p>è¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œmaster å¦‚ä½•å¾—çŸ¥ salve æ˜¯ç¬¬ä¸€æ¬¡æ¥è¿æ¥å‘¢ï¼Ÿï¼Ÿ</p><p>æœ‰å‡ ä¸ªæ¦‚å¿µï¼Œå¯ä»¥ä½œä¸ºåˆ¤æ–­ä¾æ®ï¼š</p><ul><li><strong>Replication Id</strong>ï¼šç®€ç§° replidï¼Œæ˜¯æ•°æ®é›†çš„æ ‡è®°ï¼Œid ä¸€è‡´åˆ™è¯´æ˜æ˜¯åŒä¸€æ•°æ®é›†ã€‚æ¯ä¸€ä¸ª master éƒ½æœ‰å”¯ä¸€çš„ replidï¼Œslave åˆ™ä¼šç»§æ‰¿ master èŠ‚ç‚¹çš„ replid</li><li><strong>offset</strong>ï¼šåç§»é‡ï¼Œéšç€è®°å½•åœ¨ repl_baklog ä¸­çš„æ•°æ®å¢å¤šè€Œé€æ¸å¢å¤§ã€‚slave å®ŒæˆåŒæ­¥æ—¶ä¹Ÿä¼šè®°å½•å½“å‰åŒæ­¥çš„ offsetã€‚å¦‚æœ slave çš„ offset å°äº master çš„ offsetï¼Œè¯´æ˜ slave æ•°æ®è½åäº masterï¼Œéœ€è¦æ›´æ–°ã€‚</li></ul><p>å› æ­¤ slave åšæ•°æ®åŒæ­¥ï¼Œå¿…é¡»å‘ master å£°æ˜è‡ªå·±çš„ replication id å’Œ offsetï¼Œmaster æ‰å¯ä»¥åˆ¤æ–­åˆ°åº•éœ€è¦åŒæ­¥å“ªäº›æ•°æ®ã€‚</p><p>å› ä¸º slave åŸæœ¬ä¹Ÿæ˜¯ä¸€ä¸ª masterï¼Œæœ‰è‡ªå·±çš„ replid å’Œ offsetï¼Œå½“ç¬¬ä¸€æ¬¡å˜æˆ slaveï¼Œä¸ master å»ºç«‹è¿æ¥æ—¶ï¼Œå‘é€çš„ replid å’Œ offset æ˜¯è‡ªå·±çš„ replid å’Œ offsetã€‚</p><p>master åˆ¤æ–­å‘ç° slave å‘é€æ¥çš„ replid ä¸è‡ªå·±çš„ä¸ä¸€è‡´ï¼Œè¯´æ˜è¿™æ˜¯ä¸€ä¸ªå…¨æ–°çš„ slaveï¼Œå°±çŸ¥é“è¦åšå…¨é‡åŒæ­¥äº†ã€‚</p><p>master ä¼šå°†è‡ªå·±çš„ replid å’Œ offset éƒ½å‘é€ç»™è¿™ä¸ª slaveï¼Œslave ä¿å­˜è¿™äº›ä¿¡æ¯ã€‚ä»¥å slave çš„ replid å°±ä¸ master ä¸€è‡´äº†ã€‚</p><p>å› æ­¤ï¼Œ<strong>master åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹æ˜¯å¦æ˜¯ç¬¬ä¸€æ¬¡åŒæ­¥çš„ä¾æ®ï¼Œå°±æ˜¯çœ‹ replid æ˜¯å¦ä¸€è‡´</strong>ã€‚</p><p>å¦‚å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20210725152700914-0d6d2065.png" alt="image-20210725152700914"></p><p>å®Œæ•´æµç¨‹æè¿°ï¼š</p><ul><li>slave èŠ‚ç‚¹è¯·æ±‚å¢é‡åŒæ­¥</li><li>master èŠ‚ç‚¹åˆ¤æ–­ replidï¼Œå‘ç°ä¸ä¸€è‡´ï¼Œæ‹’ç»å¢é‡åŒæ­¥</li><li>master å°†å®Œæ•´å†…å­˜æ•°æ®ç”Ÿæˆ RDBï¼Œå‘é€ RDB åˆ° slave</li><li>slave æ¸…ç©ºæœ¬åœ°æ•°æ®ï¼ŒåŠ è½½ master çš„ RDB</li><li>master å°† RDB æœŸé—´çš„å‘½ä»¤è®°å½•åœ¨ repl_baklogï¼Œå¹¶æŒç»­å°† log ä¸­çš„å‘½ä»¤å‘é€ç»™ slave</li><li>slave æ‰§è¡Œæ¥æ”¶åˆ°çš„å‘½ä»¤ï¼Œä¿æŒä¸ master ä¹‹é—´çš„åŒæ­¥</li></ul><h3 id="_2-2-2-å¢é‡åŒæ­¥" tabindex="-1"><a class="header-anchor" href="#_2-2-2-å¢é‡åŒæ­¥" aria-hidden="true">#</a> 2.2.2.å¢é‡åŒæ­¥</h3><p>å…¨é‡åŒæ­¥éœ€è¦å…ˆåš RDBï¼Œç„¶åå°† RDB æ–‡ä»¶é€šè¿‡ç½‘ç»œä¼ è¾“ä¸ª slaveï¼Œæˆæœ¬å¤ªé«˜äº†ã€‚å› æ­¤é™¤äº†ç¬¬ä¸€æ¬¡åšå…¨é‡åŒæ­¥ï¼Œå…¶å®ƒå¤§å¤šæ•°æ—¶å€™ slave ä¸ master éƒ½æ˜¯åš<strong>å¢é‡åŒæ­¥</strong>ã€‚</p><p>ä»€ä¹ˆæ˜¯å¢é‡åŒæ­¥ï¼Ÿå°±æ˜¯åªæ›´æ–° slave ä¸ master å­˜åœ¨å·®å¼‚çš„éƒ¨åˆ†æ•°æ®ã€‚å¦‚å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20210725153201086-ba535b71.png" alt="image-20210725153201086"></p><p>é‚£ä¹ˆ master æ€ä¹ˆçŸ¥é“ slave ä¸è‡ªå·±çš„æ•°æ®å·®å¼‚åœ¨å“ªé‡Œå‘¢?</p><h3 id="_2-2-3-repl-backlog-åŸç†" tabindex="-1"><a class="header-anchor" href="#_2-2-3-repl-backlog-åŸç†" aria-hidden="true">#</a> 2.2.3.repl_backlog åŸç†</h3><p>master æ€ä¹ˆçŸ¥é“ slave ä¸è‡ªå·±çš„æ•°æ®å·®å¼‚åœ¨å“ªé‡Œå‘¢?</p><p>è¿™å°±è¦è¯´åˆ°å…¨é‡åŒæ­¥æ—¶çš„ repl_baklog æ–‡ä»¶äº†ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶æ˜¯ä¸€ä¸ªå›ºå®šå¤§å°çš„æ•°ç»„ï¼Œåªä¸è¿‡æ•°ç»„æ˜¯ç¯å½¢ï¼Œä¹Ÿå°±æ˜¯è¯´<strong>è§’æ ‡åˆ°è¾¾æ•°ç»„æœ«å°¾åï¼Œä¼šå†æ¬¡ä» 0 å¼€å§‹è¯»å†™</strong>ï¼Œè¿™æ ·æ•°ç»„å¤´éƒ¨çš„æ•°æ®å°±ä¼šè¢«è¦†ç›–ã€‚</p><p>repl_baklog ä¸­ä¼šè®°å½• Redis å¤„ç†è¿‡çš„å‘½ä»¤æ—¥å¿—åŠ offsetï¼ŒåŒ…æ‹¬ master å½“å‰çš„ offsetï¼Œå’Œ slave å·²ç»æ‹·è´åˆ°çš„ offsetï¼š</p><p><img src="/MyBlog/assets/image-20210725153359022-435875fd.png" alt="image-20210725153359022"></p><p>slave ä¸ master çš„ offset ä¹‹é—´çš„å·®å¼‚ï¼Œå°±æ˜¯ salve éœ€è¦å¢é‡æ‹·è´çš„æ•°æ®äº†ã€‚</p><p>éšç€ä¸æ–­æœ‰æ•°æ®å†™å…¥ï¼Œmaster çš„ offset é€æ¸å˜å¤§ï¼Œslave ä¹Ÿä¸æ–­çš„æ‹·è´ï¼Œè¿½èµ¶ master çš„ offsetï¼š</p><p><img src="/MyBlog/assets/image-20210725153524190-b370fb4c.png" alt="image-20210725153524190"></p><p>ç›´åˆ°æ•°ç»„è¢«å¡«æ»¡ï¼š</p><p><img src="/MyBlog/assets/image-20210725153715910-6e3ac8b0.png" alt="image-20210725153715910"></p><p>æ­¤æ—¶ï¼Œå¦‚æœæœ‰æ–°çš„æ•°æ®å†™å…¥ï¼Œå°±ä¼šè¦†ç›–æ•°ç»„ä¸­çš„æ—§æ•°æ®ã€‚ä¸è¿‡ï¼Œæ—§çš„æ•°æ®åªè¦æ˜¯ç»¿è‰²çš„ï¼Œè¯´æ˜æ˜¯å·²ç»è¢«åŒæ­¥åˆ° slave çš„æ•°æ®ï¼Œå³ä¾¿è¢«è¦†ç›–äº†ä¹Ÿæ²¡ä»€ä¹ˆå½±å“ã€‚å› ä¸ºæœªåŒæ­¥çš„ä»…ä»…æ˜¯çº¢è‰²éƒ¨åˆ†ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœ slave å‡ºç°ç½‘ç»œé˜»å¡ï¼Œå¯¼è‡´ master çš„ offset è¿œè¿œè¶…è¿‡äº† slave çš„ offsetï¼š</p><p><img src="/MyBlog/assets/image-20210725153937031-15526cc6.png" alt="image-20210725153937031"></p><p>å¦‚æœ master ç»§ç»­å†™å…¥æ–°æ•°æ®ï¼Œå…¶ offset å°±ä¼šè¦†ç›–æ—§çš„æ•°æ®ï¼Œç›´åˆ°å°† slave ç°åœ¨çš„ offset ä¹Ÿè¦†ç›–ï¼š</p><p><img src="/MyBlog/assets/image-20210725154155984-9ebea34f.png" alt="image-20210725154155984"></p><p>æ£•è‰²æ¡†ä¸­çš„çº¢è‰²éƒ¨åˆ†ï¼Œå°±æ˜¯å°šæœªåŒæ­¥ï¼Œä½†æ˜¯å´å·²ç»è¢«è¦†ç›–çš„æ•°æ®ã€‚æ­¤æ—¶å¦‚æœ slave æ¢å¤ï¼Œéœ€è¦åŒæ­¥ï¼Œå´å‘ç°è‡ªå·±çš„ offset éƒ½æ²¡æœ‰äº†ï¼Œæ— æ³•å®Œæˆå¢é‡åŒæ­¥äº†ã€‚åªèƒ½åšå…¨é‡åŒæ­¥ã€‚</p><p><img src="/MyBlog/assets/image-20210725154216392-9b347241.png" alt="image-20210725154216392"></p><h2 id="_2-3-ä¸»ä»åŒæ­¥ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_2-3-ä¸»ä»åŒæ­¥ä¼˜åŒ–" aria-hidden="true">#</a> 2.3.ä¸»ä»åŒæ­¥ä¼˜åŒ–</h2><p>ä¸»ä»åŒæ­¥å¯ä»¥ä¿è¯ä¸»ä»æ•°æ®çš„ä¸€è‡´æ€§ï¼Œéå¸¸é‡è¦ã€‚</p><p>å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥ä¼˜åŒ– Redis ä¸»ä»å°±é›†ç¾¤ï¼š</p><ul><li>åœ¨ master ä¸­é…ç½® repl-diskless-sync yes å¯ç”¨æ— ç£ç›˜å¤åˆ¶ï¼Œé¿å…å…¨é‡åŒæ­¥æ—¶çš„ç£ç›˜ IOã€‚</li><li>Redis å•èŠ‚ç‚¹ä¸Šçš„å†…å­˜å ç”¨ä¸è¦å¤ªå¤§ï¼Œå‡å°‘ RDB å¯¼è‡´çš„è¿‡å¤šç£ç›˜ IO</li><li>é€‚å½“æé«˜ repl_baklog çš„å¤§å°ï¼Œå‘ç° slave å®•æœºæ—¶å°½å¿«å®ç°æ•…éšœæ¢å¤ï¼Œå°½å¯èƒ½é¿å…å…¨é‡åŒæ­¥</li><li>é™åˆ¶ä¸€ä¸ª master ä¸Šçš„ slave èŠ‚ç‚¹æ•°é‡ï¼Œå¦‚æœå®åœ¨æ˜¯å¤ªå¤š slaveï¼Œåˆ™å¯ä»¥é‡‡ç”¨ä¸»-ä»-ä»é“¾å¼ç»“æ„ï¼Œå‡å°‘ master å‹åŠ›</li></ul><p>ä¸»ä»ä»æ¶æ„å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20210725154405899-841f6635.png" alt="image-20210725154405899"></p><h2 id="_2-4-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_2-4-å°ç»“" aria-hidden="true">#</a> 2.4.å°ç»“</h2><p>ç®€è¿°å…¨é‡åŒæ­¥å’Œå¢é‡åŒæ­¥åŒºåˆ«ï¼Ÿ</p><ul><li>å…¨é‡åŒæ­¥ï¼šmaster å°†å®Œæ•´å†…å­˜æ•°æ®ç”Ÿæˆ RDBï¼Œå‘é€ RDB åˆ° slaveã€‚åç»­å‘½ä»¤åˆ™è®°å½•åœ¨ repl_baklogï¼Œé€ä¸ªå‘é€ç»™ slaveã€‚</li><li>å¢é‡åŒæ­¥ï¼šslave æäº¤è‡ªå·±çš„ offset åˆ° masterï¼Œmaster è·å– repl_baklog ä¸­ä» offset ä¹‹åçš„å‘½ä»¤ç»™ slave</li></ul><p>ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå…¨é‡åŒæ­¥ï¼Ÿ</p><ul><li>slave èŠ‚ç‚¹ç¬¬ä¸€æ¬¡è¿æ¥ master èŠ‚ç‚¹æ—¶</li><li>slave èŠ‚ç‚¹æ–­å¼€æ—¶é—´å¤ªä¹…ï¼Œrepl_baklog ä¸­çš„ offset å·²ç»è¢«è¦†ç›–æ—¶</li></ul><p>ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå¢é‡åŒæ­¥ï¼Ÿ</p><ul><li>slave èŠ‚ç‚¹æ–­å¼€åˆæ¢å¤ï¼Œå¹¶ä¸”åœ¨ repl_baklog ä¸­èƒ½æ‰¾åˆ° offset æ—¶</li></ul><h1 id="_3-redis-å“¨å…µ" tabindex="-1"><a class="header-anchor" href="#_3-redis-å“¨å…µ" aria-hidden="true">#</a> 3.Redis å“¨å…µ</h1><p>Redis æä¾›äº†å“¨å…µï¼ˆSentinelï¼‰æœºåˆ¶æ¥å®ç°ä¸»ä»é›†ç¾¤çš„è‡ªåŠ¨æ•…éšœæ¢å¤ã€‚</p><h2 id="_3-1-å“¨å…µåŸç†" tabindex="-1"><a class="header-anchor" href="#_3-1-å“¨å…µåŸç†" aria-hidden="true">#</a> 3.1.å“¨å…µåŸç†</h2><h3 id="_3-1-1-é›†ç¾¤ç»“æ„å’Œä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_3-1-1-é›†ç¾¤ç»“æ„å’Œä½œç”¨" aria-hidden="true">#</a> 3.1.1.é›†ç¾¤ç»“æ„å’Œä½œç”¨</h3><p>å“¨å…µçš„ç»“æ„å¦‚å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20210725154528072-0ba9baca.png" alt="image-20210725154528072"></p><p>å“¨å…µçš„ä½œç”¨å¦‚ä¸‹ï¼š</p><ul><li><strong>ç›‘æ§</strong>ï¼šSentinel ä¼šä¸æ–­æ£€æŸ¥æ‚¨çš„ master å’Œ slave æ˜¯å¦æŒ‰é¢„æœŸå·¥ä½œ</li><li><strong>è‡ªåŠ¨æ•…éšœæ¢å¤</strong>ï¼šå¦‚æœ master æ•…éšœï¼ŒSentinel ä¼šå°†ä¸€ä¸ª slave æå‡ä¸º masterã€‚å½“æ•…éšœå®ä¾‹æ¢å¤åä¹Ÿä»¥æ–°çš„ master ä¸ºä¸»</li><li><strong>é€šçŸ¥</strong>ï¼šSentinel å……å½“ Redis å®¢æˆ·ç«¯çš„æœåŠ¡å‘ç°æ¥æºï¼Œå½“é›†ç¾¤å‘ç”Ÿæ•…éšœè½¬ç§»æ—¶ï¼Œä¼šå°†æœ€æ–°ä¿¡æ¯æ¨é€ç»™ Redis çš„å®¢æˆ·ç«¯</li></ul><h3 id="_3-1-2-é›†ç¾¤ç›‘æ§åŸç†" tabindex="-1"><a class="header-anchor" href="#_3-1-2-é›†ç¾¤ç›‘æ§åŸç†" aria-hidden="true">#</a> 3.1.2.é›†ç¾¤ç›‘æ§åŸç†</h3><p>Sentinel åŸºäºå¿ƒè·³æœºåˆ¶ç›‘æµ‹æœåŠ¡çŠ¶æ€ï¼Œæ¯éš” 1 ç§’å‘é›†ç¾¤çš„æ¯ä¸ªå®ä¾‹å‘é€ ping å‘½ä»¤ï¼š</p><p>â€¢ä¸»è§‚ä¸‹çº¿ï¼šå¦‚æœæŸ sentinel èŠ‚ç‚¹å‘ç°æŸå®ä¾‹æœªåœ¨è§„å®šæ—¶é—´å“åº”ï¼Œåˆ™è®¤ä¸ºè¯¥å®ä¾‹<strong>ä¸»è§‚ä¸‹çº¿</strong>ã€‚</p><p>â€¢å®¢è§‚ä¸‹çº¿ï¼šè‹¥è¶…è¿‡æŒ‡å®šæ•°é‡ï¼ˆquorumï¼‰çš„ sentinel éƒ½è®¤ä¸ºè¯¥å®ä¾‹ä¸»è§‚ä¸‹çº¿ï¼Œåˆ™è¯¥å®ä¾‹<strong>å®¢è§‚ä¸‹çº¿</strong>ã€‚quorum å€¼æœ€å¥½è¶…è¿‡ Sentinel å®ä¾‹æ•°é‡çš„ä¸€åŠã€‚</p><p><img src="/MyBlog/assets/image-20210725154632354-028b8f0f.png" alt="image-20210725154632354"></p><h3 id="_3-1-3-é›†ç¾¤æ•…éšœæ¢å¤åŸç†" tabindex="-1"><a class="header-anchor" href="#_3-1-3-é›†ç¾¤æ•…éšœæ¢å¤åŸç†" aria-hidden="true">#</a> 3.1.3.é›†ç¾¤æ•…éšœæ¢å¤åŸç†</h3><p>ä¸€æ—¦å‘ç° master æ•…éšœï¼Œsentinel éœ€è¦åœ¨ salve ä¸­é€‰æ‹©ä¸€ä¸ªä½œä¸ºæ–°çš„ masterï¼Œé€‰æ‹©ä¾æ®æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>é¦–å…ˆä¼šåˆ¤æ–­ slave èŠ‚ç‚¹ä¸ master èŠ‚ç‚¹æ–­å¼€æ—¶é—´é•¿çŸ­ï¼Œå¦‚æœè¶…è¿‡æŒ‡å®šå€¼ï¼ˆdown-after-milliseconds * 10ï¼‰åˆ™ä¼šæ’é™¤è¯¥ slave èŠ‚ç‚¹</li><li>ç„¶ååˆ¤æ–­ slave èŠ‚ç‚¹çš„ slave-priority å€¼ï¼Œè¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå¦‚æœæ˜¯ 0 åˆ™æ°¸ä¸å‚ä¸é€‰ä¸¾</li><li>å¦‚æœ slave-prority ä¸€æ ·ï¼Œåˆ™åˆ¤æ–­ slave èŠ‚ç‚¹çš„ offset å€¼ï¼Œè¶Šå¤§è¯´æ˜æ•°æ®è¶Šæ–°ï¼Œä¼˜å…ˆçº§è¶Šé«˜</li><li>æœ€åæ˜¯åˆ¤æ–­ slave èŠ‚ç‚¹çš„è¿è¡Œ id å¤§å°ï¼Œè¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‚</li></ul><p>å½“é€‰å‡ºä¸€ä¸ªæ–°çš„ master åï¼Œè¯¥å¦‚ä½•å®ç°åˆ‡æ¢å‘¢ï¼Ÿ</p><p>æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>sentinel ç»™å¤‡é€‰çš„ slave1 èŠ‚ç‚¹å‘é€ slaveof no one å‘½ä»¤ï¼Œè®©è¯¥èŠ‚ç‚¹æˆä¸º master</li><li>sentinel ç»™æ‰€æœ‰å…¶å®ƒ slave å‘é€ slaveof 192.168.150.101 7002 å‘½ä»¤ï¼Œè®©è¿™äº› slave æˆä¸ºæ–° master çš„ä»èŠ‚ç‚¹ï¼Œå¼€å§‹ä»æ–°çš„ master ä¸ŠåŒæ­¥æ•°æ®ã€‚</li><li>æœ€åï¼Œsentinel å°†æ•…éšœèŠ‚ç‚¹æ ‡è®°ä¸º slaveï¼Œå½“æ•…éšœèŠ‚ç‚¹æ¢å¤åä¼šè‡ªåŠ¨æˆä¸ºæ–°çš„ master çš„ slave èŠ‚ç‚¹</li></ul><p><img src="/MyBlog/assets/image-20210725154816841-42f84e57.png" alt="image-20210725154816841"></p><h3 id="_3-1-4-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_3-1-4-å°ç»“" aria-hidden="true">#</a> 3.1.4.å°ç»“</h3><p>Sentinel çš„ä¸‰ä¸ªä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>ç›‘æ§</li><li>æ•…éšœè½¬ç§»</li><li>é€šçŸ¥</li></ul><p>Sentinel å¦‚ä½•åˆ¤æ–­ä¸€ä¸ª redis å®ä¾‹æ˜¯å¦å¥åº·ï¼Ÿ</p><ul><li>æ¯éš” 1 ç§’å‘é€ä¸€æ¬¡ ping å‘½ä»¤ï¼Œå¦‚æœè¶…è¿‡ä¸€å®šæ—¶é—´æ²¡æœ‰ç›¸å‘åˆ™è®¤ä¸ºæ˜¯ä¸»è§‚ä¸‹çº¿</li><li>å¦‚æœå¤§å¤šæ•° sentinel éƒ½è®¤ä¸ºå®ä¾‹ä¸»è§‚ä¸‹çº¿ï¼Œåˆ™åˆ¤å®šæœåŠ¡ä¸‹çº¿</li></ul><p>æ•…éšœè½¬ç§»æ­¥éª¤æœ‰å“ªäº›ï¼Ÿ</p><ul><li>é¦–å…ˆé€‰å®šä¸€ä¸ª slave ä½œä¸ºæ–°çš„ masterï¼Œæ‰§è¡Œ slaveof no one</li><li>ç„¶åè®©æ‰€æœ‰èŠ‚ç‚¹éƒ½æ‰§è¡Œ slaveof æ–° master</li><li>ä¿®æ”¹æ•…éšœèŠ‚ç‚¹é…ç½®ï¼Œæ·»åŠ  slaveof æ–° master</li></ul><h2 id="_3-2-æ­å»ºå“¨å…µé›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_3-2-æ­å»ºå“¨å…µé›†ç¾¤" aria-hidden="true">#</a> 3.2.æ­å»ºå“¨å…µé›†ç¾¤</h2><p>å…·ä½“æ­å»ºæµç¨‹å‚è€ƒè¯¾å‰èµ„æ–™ã€ŠRedis é›†ç¾¤.mdã€‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725152052501-b8a7a9fb.png" alt="image-20210725155019276"></p><h2 id="_3-3-redistemplate" tabindex="-1"><a class="header-anchor" href="#_3-3-redistemplate" aria-hidden="true">#</a> 3.3.RedisTemplate</h2><p>åœ¨ Sentinel é›†ç¾¤ç›‘ç®¡ä¸‹çš„ Redis ä¸»ä»é›†ç¾¤ï¼Œå…¶èŠ‚ç‚¹ä¼šå› ä¸ºè‡ªåŠ¨æ•…éšœè½¬ç§»è€Œå‘ç”Ÿå˜åŒ–ï¼ŒRedis çš„å®¢æˆ·ç«¯å¿…é¡»æ„ŸçŸ¥è¿™ç§å˜åŒ–ï¼ŒåŠæ—¶æ›´æ–°è¿æ¥ä¿¡æ¯ã€‚Spring çš„ RedisTemplate åº•å±‚åˆ©ç”¨ lettuce å®ç°äº†èŠ‚ç‚¹çš„æ„ŸçŸ¥å’Œè‡ªåŠ¨åˆ‡æ¢ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæµ‹è¯•æ¥å®ç° RedisTemplate é›†æˆå“¨å…µæœºåˆ¶ã€‚</p><h3 id="_3-3-1-å¯¼å…¥-demo-å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-3-1-å¯¼å…¥-demo-å·¥ç¨‹" aria-hidden="true">#</a> 3.3.1.å¯¼å…¥ Demo å·¥ç¨‹</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¼•å…¥è¯¾å‰èµ„æ–™æä¾›çš„ Demo å·¥ç¨‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725155124958-d4fba741.png" alt="image-20210725155124958"></p><h3 id="_3-3-2-å¼•å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_3-3-2-å¼•å…¥ä¾èµ–" aria-hidden="true">#</a> 3.3.2.å¼•å…¥ä¾èµ–</h3><p>åœ¨é¡¹ç›®çš„ pom æ–‡ä»¶ä¸­å¼•å…¥ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-3-é…ç½®-redis-åœ°å€" tabindex="-1"><a class="header-anchor" href="#_3-3-3-é…ç½®-redis-åœ°å€" aria-hidden="true">#</a> 3.3.3.é…ç½® Redis åœ°å€</h3><p>ç„¶ååœ¨é…ç½®æ–‡ä»¶ application.yml ä¸­æŒ‡å®š redis çš„ sentinel ç›¸å…³ä¿¡æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>spring<span class="token operator">:</span>
  redis<span class="token operator">:</span>
    sentinel<span class="token operator">:</span>
      master<span class="token operator">:</span> mymaster
      nodes<span class="token operator">:</span>
        <span class="token operator">-</span> <span class="token number">192.168</span><span class="token number">.126</span><span class="token number">.129</span><span class="token operator">:</span><span class="token number">27001</span>
        <span class="token operator">-</span> <span class="token number">192.168</span><span class="token number">.126</span><span class="token number">.129</span><span class="token operator">:</span><span class="token number">27002</span>
        <span class="token operator">-</span> <span class="token number">192.168</span><span class="token number">.126</span><span class="token number">.129</span><span class="token operator">:</span><span class="token number">27003</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-3-4-é…ç½®è¯»å†™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#_3-3-4-é…ç½®è¯»å†™åˆ†ç¦»" aria-hidden="true">#</a> 3.3.4.é…ç½®è¯»å†™åˆ†ç¦»</h3><p>åœ¨é¡¹ç›®çš„å¯åŠ¨ç±»ä¸­ï¼Œæ·»åŠ ä¸€ä¸ªæ–°çš„ beanï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">LettuceClientConfigurationBuilderCustomizer</span> <span class="token function">clientConfigurationBuilderCustomizer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> clientConfigurationBuilder <span class="token operator">-&gt;</span> clientConfigurationBuilder<span class="token punctuation">.</span><span class="token function">readFrom</span><span class="token punctuation">(</span><span class="token class-name">ReadFrom</span><span class="token punctuation">.</span><span class="token constant">REPLICA_PREFERRED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ª bean ä¸­é…ç½®çš„å°±æ˜¯è¯»å†™ç­–ç•¥ï¼ŒåŒ…æ‹¬å››ç§ï¼š</p><ul><li>MASTERï¼šä»ä¸»èŠ‚ç‚¹è¯»å–</li><li>MASTER_PREFERREDï¼šä¼˜å…ˆä» master èŠ‚ç‚¹è¯»å–ï¼Œmaster ä¸å¯ç”¨æ‰è¯»å– replica</li><li>REPLICAï¼šä» slaveï¼ˆreplicaï¼‰èŠ‚ç‚¹è¯»å–</li><li>REPLICA _PREFERREDï¼šä¼˜å…ˆä» slaveï¼ˆreplicaï¼‰èŠ‚ç‚¹è¯»å–ï¼Œæ‰€æœ‰çš„ slave éƒ½ä¸å¯ç”¨æ‰è¯»å– master</li></ul><h1 id="_4-redis-åˆ†ç‰‡é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_4-redis-åˆ†ç‰‡é›†ç¾¤" aria-hidden="true">#</a> 4.Redis åˆ†ç‰‡é›†ç¾¤</h1><h2 id="_4-1-æ­å»ºåˆ†ç‰‡é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_4-1-æ­å»ºåˆ†ç‰‡é›†ç¾¤" aria-hidden="true">#</a> 4.1.æ­å»ºåˆ†ç‰‡é›†ç¾¤</h2><p>ä¸»ä»å’Œå“¨å…µå¯ä»¥è§£å†³é«˜å¯ç”¨ã€é«˜å¹¶å‘è¯»çš„é—®é¢˜ã€‚ä½†æ˜¯ä¾ç„¶æœ‰ä¸¤ä¸ªé—®é¢˜æ²¡æœ‰è§£å†³ï¼š</p><ul><li><p>æµ·é‡æ•°æ®å­˜å‚¨é—®é¢˜</p></li><li><p>é«˜å¹¶å‘å†™çš„é—®é¢˜</p></li></ul><p>ä½¿ç”¨åˆ†ç‰‡é›†ç¾¤å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¦‚å›¾:</p><p><img src="/MyBlog/assets/image-20210725155747294-ed902a02.png" alt="image-20210725155747294"></p><p>åˆ†ç‰‡é›†ç¾¤ç‰¹å¾ï¼š</p><ul><li><p>é›†ç¾¤ä¸­æœ‰å¤šä¸ª masterï¼Œæ¯ä¸ª master ä¿å­˜ä¸åŒæ•°æ®</p></li><li><p>æ¯ä¸ª master éƒ½å¯ä»¥æœ‰å¤šä¸ª slave èŠ‚ç‚¹</p></li><li><p>master ä¹‹é—´é€šè¿‡ ping ç›‘æµ‹å½¼æ­¤å¥åº·çŠ¶æ€</p></li><li><p>å®¢æˆ·ç«¯è¯·æ±‚å¯ä»¥è®¿é—®é›†ç¾¤ä»»æ„èŠ‚ç‚¹ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«è½¬å‘åˆ°æ­£ç¡®èŠ‚ç‚¹</p></li></ul><p>å…·ä½“æ­å»ºæµç¨‹å‚è€ƒè¯¾å‰èµ„æ–™ã€ŠRedis é›†ç¾¤.mdã€‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725152052501-b8a7a9fb.png" alt="image-20210725155806288"></p><h2 id="_4-2-æ•£åˆ—æ’æ§½" tabindex="-1"><a class="header-anchor" href="#_4-2-æ•£åˆ—æ’æ§½" aria-hidden="true">#</a> 4.2.æ•£åˆ—æ’æ§½</h2><h3 id="_4-2-1-æ’æ§½åŸç†" tabindex="-1"><a class="header-anchor" href="#_4-2-1-æ’æ§½åŸç†" aria-hidden="true">#</a> 4.2.1.æ’æ§½åŸç†</h3><p>Redis ä¼šæŠŠæ¯ä¸€ä¸ª master èŠ‚ç‚¹æ˜ å°„åˆ° 0~16383 å…± 16384 ä¸ªæ’æ§½ï¼ˆhash slotï¼‰ä¸Šï¼ŒæŸ¥çœ‹é›†ç¾¤ä¿¡æ¯æ—¶å°±èƒ½çœ‹åˆ°ï¼š</p><p><img src="/MyBlog/assets/image-20210725155820320-9f23e1bb.png" alt="image-20210725155820320"></p><p>æ•°æ® key ä¸æ˜¯ä¸èŠ‚ç‚¹ç»‘å®šï¼Œè€Œæ˜¯ä¸æ’æ§½ç»‘å®šã€‚redis ä¼šæ ¹æ® key çš„æœ‰æ•ˆéƒ¨åˆ†è®¡ç®—æ’æ§½å€¼ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼š</p><ul><li>key ä¸­åŒ…å«&quot;{}&quot;ï¼Œä¸”â€œ{}â€ä¸­è‡³å°‘åŒ…å« 1 ä¸ªå­—ç¬¦ï¼Œâ€œ{}â€ä¸­çš„éƒ¨åˆ†æ˜¯æœ‰æ•ˆéƒ¨åˆ†</li><li>key ä¸­ä¸åŒ…å«â€œ{}â€ï¼Œæ•´ä¸ª key éƒ½æ˜¯æœ‰æ•ˆéƒ¨åˆ†</li></ul><p>ä¾‹å¦‚ï¼škey æ˜¯ numï¼Œé‚£ä¹ˆå°±æ ¹æ® num è®¡ç®—ï¼Œå¦‚æœæ˜¯{itcast}numï¼Œåˆ™æ ¹æ® itcast è®¡ç®—ã€‚è®¡ç®—æ–¹å¼æ˜¯åˆ©ç”¨ CRC16 ç®—æ³•å¾—åˆ°ä¸€ä¸ª hash å€¼ï¼Œç„¶åå¯¹ 16384 å–ä½™ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯ slot å€¼ã€‚</p><p><img src="/MyBlog/assets/image-20210725155850200-799238af.png" alt="image-20210725155850200"></p><p>å¦‚å›¾ï¼Œåœ¨ 7001 è¿™ä¸ªèŠ‚ç‚¹æ‰§è¡Œ set a 1 æ—¶ï¼Œå¯¹ a åš hash è¿ç®—ï¼Œå¯¹ 16384 å–ä½™ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ 15495ï¼Œå› æ­¤è¦å­˜å‚¨åˆ° 103 èŠ‚ç‚¹ã€‚</p><p>åˆ°äº† 7003 åï¼Œæ‰§è¡Œ<code>get num</code>æ—¶ï¼Œå¯¹ num åš hash è¿ç®—ï¼Œå¯¹ 16384 å–ä½™ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯ 2765ï¼Œå› æ­¤éœ€è¦åˆ‡æ¢åˆ° 7001 èŠ‚ç‚¹</p><h3 id="_4-2-1-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_4-2-1-å°ç»“" aria-hidden="true">#</a> 4.2.1.å°ç»“</h3><p>Redis å¦‚ä½•åˆ¤æ–­æŸä¸ª key åº”è¯¥åœ¨å“ªä¸ªå®ä¾‹ï¼Ÿ</p><ul><li>å°† 16384 ä¸ªæ’æ§½åˆ†é…åˆ°ä¸åŒçš„å®ä¾‹</li><li>æ ¹æ® key çš„æœ‰æ•ˆéƒ¨åˆ†è®¡ç®—å“ˆå¸Œå€¼ï¼Œå¯¹ 16384 å–ä½™</li><li>ä½™æ•°ä½œä¸ºæ’æ§½ï¼Œå¯»æ‰¾æ’æ§½æ‰€åœ¨å®ä¾‹å³å¯</li></ul><p>å¦‚ä½•å°†åŒä¸€ç±»æ•°æ®å›ºå®šçš„ä¿å­˜åœ¨åŒä¸€ä¸ª Redis å®ä¾‹ï¼Ÿ</p><ul><li>è¿™ä¸€ç±»æ•°æ®ä½¿ç”¨ç›¸åŒçš„æœ‰æ•ˆéƒ¨åˆ†ï¼Œä¾‹å¦‚ key éƒ½ä»¥{typeId}ä¸ºå‰ç¼€</li></ul><h2 id="_4-3-é›†ç¾¤ä¼¸ç¼©" tabindex="-1"><a class="header-anchor" href="#_4-3-é›†ç¾¤ä¼¸ç¼©" aria-hidden="true">#</a> 4.3.é›†ç¾¤ä¼¸ç¼©</h2><p>redis-cli --cluster æä¾›äº†å¾ˆå¤šæ“ä½œé›†ç¾¤çš„å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢æ–¹å¼æŸ¥çœ‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725160138290-8a6c83a9.png" alt="image-20210725160138290"></p><p>æ¯”å¦‚ï¼Œæ·»åŠ èŠ‚ç‚¹çš„å‘½ä»¤ï¼š</p><p><img src="/MyBlog/assets/image-20210725160448139-c77ca11f.png" alt="image-20210725160448139"></p><h3 id="_4-3-1-éœ€æ±‚åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4-3-1-éœ€æ±‚åˆ†æ" aria-hidden="true">#</a> 4.3.1.éœ€æ±‚åˆ†æ</h3><p>éœ€æ±‚ï¼šå‘é›†ç¾¤ä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„ master èŠ‚ç‚¹ï¼Œå¹¶å‘å…¶ä¸­å­˜å‚¨ num = 10</p><ul><li>å¯åŠ¨ä¸€ä¸ªæ–°çš„ redis å®ä¾‹ï¼Œç«¯å£ä¸º 7004</li><li>æ·»åŠ  7004 åˆ°ä¹‹å‰çš„é›†ç¾¤ï¼Œå¹¶ä½œä¸ºä¸€ä¸ª master èŠ‚ç‚¹</li><li>ç»™ 7004 èŠ‚ç‚¹åˆ†é…æ’æ§½ï¼Œä½¿å¾— num è¿™ä¸ª key å¯ä»¥å­˜å‚¨åˆ° 7004 å®ä¾‹</li></ul><p>è¿™é‡Œéœ€è¦ä¸¤ä¸ªæ–°çš„åŠŸèƒ½ï¼š</p><ul><li>æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹åˆ°é›†ç¾¤ä¸­</li><li>å°†éƒ¨åˆ†æ’æ§½åˆ†é…åˆ°æ–°æ’æ§½</li></ul><h3 id="_4-3-2-åˆ›å»ºæ–°çš„-redis-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_4-3-2-åˆ›å»ºæ–°çš„-redis-å®ä¾‹" aria-hidden="true">#</a> 4.3.2.åˆ›å»ºæ–°çš„ redis å®ä¾‹</h3><p>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token number">7004</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ‹·è´é…ç½®æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> redis.conf <span class="token number">7004</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">sed</span> <span class="token parameter variable">-i</span> s/6379/7004/g <span class="token number">7004</span>/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯åŠ¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>redis-server <span class="token number">7004</span>/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4-3-3-æ·»åŠ æ–°èŠ‚ç‚¹åˆ°-redis" tabindex="-1"><a class="header-anchor" href="#_4-3-3-æ·»åŠ æ–°èŠ‚ç‚¹åˆ°-redis" aria-hidden="true">#</a> 4.3.3.æ·»åŠ æ–°èŠ‚ç‚¹åˆ° redis</h3><p>æ·»åŠ èŠ‚ç‚¹çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725160448139-c77ca11f.png" alt="image-20210725160448139"></p><p>æ‰§è¡Œå‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>redis-cli <span class="token parameter variable">--cluster</span> add-node  <span class="token number">192.168</span>.126.129:7004 <span class="token number">192.168</span>.126.129:7001
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é€šè¿‡å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>redis-cli <span class="token parameter variable">-p</span> <span class="token number">7001</span> cluster nodes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚å›¾ï¼Œ7004 åŠ å…¥äº†é›†ç¾¤ï¼Œå¹¶ä¸”é»˜è®¤æ˜¯ä¸€ä¸ª master èŠ‚ç‚¹ï¼š</p><p><img src="/MyBlog/assets/image-20210725161007099-147c6794.png" alt="image-20210725161007099"></p><p>ä½†æ˜¯ï¼Œå¯ä»¥çœ‹åˆ° 7004 èŠ‚ç‚¹çš„æ’æ§½æ•°é‡ä¸º 0ï¼Œå› æ­¤æ²¡æœ‰ä»»ä½•æ•°æ®å¯ä»¥å­˜å‚¨åˆ° 7004 ä¸Š</p><h3 id="_4-3-4-è½¬ç§»æ’æ§½" tabindex="-1"><a class="header-anchor" href="#_4-3-4-è½¬ç§»æ’æ§½" aria-hidden="true">#</a> 4.3.4.è½¬ç§»æ’æ§½</h3><p>æˆ‘ä»¬è¦å°† num å­˜å‚¨åˆ° 7004 èŠ‚ç‚¹ï¼Œå› æ­¤éœ€è¦å…ˆçœ‹çœ‹ num çš„æ’æ§½æ˜¯å¤šå°‘ï¼š</p><p><img src="/MyBlog/assets/image-20210725161241793-2a08dbd3.png" alt="image-20210725161241793"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œnum çš„æ’æ§½ä¸º 2765.</p><p>æˆ‘ä»¬å¯ä»¥å°† 0~3000 çš„æ’æ§½ä» 7001 è½¬ç§»åˆ° 7004ï¼Œå‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725161401925-8b02a66b.png" alt="image-20210725161401925"></p><p>å…·ä½“å‘½ä»¤å¦‚ä¸‹ï¼š</p><p>å»ºç«‹è¿æ¥ï¼š</p><p><img src="/MyBlog/assets/image-20210725161506241-76ac78d7.png" alt="image-20210725161506241"></p><p>å¾—åˆ°ä¸‹é¢çš„åé¦ˆï¼š</p><p><img src="/MyBlog/assets/image-20210725161540841-763076e0.png" alt="image-20210725161540841"></p><p>è¯¢é—®è¦ç§»åŠ¨å¤šå°‘ä¸ªæ’æ§½ï¼Œæˆ‘ä»¬è®¡åˆ’æ˜¯ 3000 ä¸ªï¼š</p><p>æ–°çš„é—®é¢˜æ¥äº†ï¼š</p><p><img src="/MyBlog/assets/image-20210725161637152-56b30113.png" alt="image-20210725161637152"></p><p>é‚£ä¸ª node æ¥æ¥æ”¶è¿™äº›æ’æ§½ï¼Ÿï¼Ÿ</p><p>æ˜¾ç„¶æ˜¯ 7004ï¼Œé‚£ä¹ˆ 7004 èŠ‚ç‚¹çš„ id æ˜¯å¤šå°‘å‘¢ï¼Ÿ</p><p><img src="/MyBlog/assets/image-20210725161731738-0dd8b685.png" alt="image-20210725161731738"></p><p>å¤åˆ¶è¿™ä¸ª idï¼Œç„¶åæ‹·è´åˆ°åˆšæ‰çš„æ§åˆ¶å°åï¼š</p><p><img src="/MyBlog/assets/image-20210725161817642-0b3e5a8c.png" alt="image-20210725161817642"></p><p>è¿™é‡Œè¯¢é—®ï¼Œä½ çš„æ’æ§½æ˜¯ä»å“ªé‡Œç§»åŠ¨è¿‡æ¥çš„ï¼Ÿ</p><ul><li>allï¼šä»£è¡¨å…¨éƒ¨ï¼Œä¹Ÿå°±æ˜¯ä¸‰ä¸ªèŠ‚ç‚¹å„è½¬ç§»ä¸€éƒ¨åˆ†</li><li>å…·ä½“çš„ idï¼šç›®æ ‡èŠ‚ç‚¹çš„ id</li><li>doneï¼šæ²¡æœ‰äº†</li></ul><p>è¿™é‡Œæˆ‘ä»¬è¦ä» 7001 è·å–ï¼Œå› æ­¤å¡«å†™ 7001 çš„ idï¼š</p><p><img src="/MyBlog/assets/image-20210725162030478-80de5fa3.png" alt="image-20210725162030478"></p><p>å¡«å®Œåï¼Œç‚¹å‡» doneï¼Œè¿™æ ·æ’æ§½è½¬ç§»å°±å‡†å¤‡å¥½äº†ï¼š</p><p><img src="/MyBlog/assets/image-20210725162101228-b2e82cbd.png" alt="image-20210725162101228"></p><p>ç¡®è®¤è¦è½¬ç§»å—ï¼Ÿè¾“å…¥ yesï¼š</p><p>ç„¶åï¼Œé€šè¿‡å‘½ä»¤æŸ¥çœ‹ç»“æœï¼š</p><p><img src="/MyBlog/assets/image-20210725162145497-17930b14.png" alt="image-20210725162145497"></p><p>å¯ä»¥çœ‹åˆ°ï¼š</p><p><img src="/MyBlog/assets/image-20210725162224058-f4d2a452.png" alt="image-20210725162224058"></p><p>ç›®çš„è¾¾æˆã€‚</p><h2 id="_4-4-æ•…éšœè½¬ç§»" tabindex="-1"><a class="header-anchor" href="#_4-4-æ•…éšœè½¬ç§»" aria-hidden="true">#</a> 4.4.æ•…éšœè½¬ç§»</h2><p>é›†ç¾¤åˆè¯†çŠ¶æ€æ˜¯è¿™æ ·çš„ï¼š</p><p><img src="/MyBlog/assets/image-20210727161152065-8a322451.png" alt="image-20210727161152065"></p><p>å…¶ä¸­ 7001ã€7002ã€7003 éƒ½æ˜¯ masterï¼Œæˆ‘ä»¬è®¡åˆ’è®© 7002 å®•æœºã€‚</p><h3 id="_4-4-1-è‡ªåŠ¨æ•…éšœè½¬ç§»" tabindex="-1"><a class="header-anchor" href="#_4-4-1-è‡ªåŠ¨æ•…éšœè½¬ç§»" aria-hidden="true">#</a> 4.4.1.è‡ªåŠ¨æ•…éšœè½¬ç§»</h3><p>å½“é›†ç¾¤ä¸­æœ‰ä¸€ä¸ª master å®•æœºä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ</p><p>ç›´æ¥åœæ­¢ä¸€ä¸ª redis å®ä¾‹ï¼Œä¾‹å¦‚ 7002ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>redis-cli <span class="token parameter variable">-p</span> <span class="token number">7002</span> <span class="token function">shutdown</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>1ï¼‰é¦–å…ˆæ˜¯è¯¥å®ä¾‹ä¸å…¶å®ƒå®ä¾‹å¤±å»è¿æ¥</p><p>2ï¼‰ç„¶åæ˜¯ç–‘ä¼¼å®•æœºï¼š</p><p><img src="/MyBlog/assets/image-20210725162319490-a4d765bf.png" alt="image-20210725162319490"></p><p>3ï¼‰æœ€åæ˜¯ç¡®å®šä¸‹çº¿ï¼Œè‡ªåŠ¨æå‡ä¸€ä¸ª slave ä¸ºæ–°çš„ masterï¼š</p><p><img src="/MyBlog/assets/image-20210725162408979-44f1254b.png" alt="image-20210725162408979"></p><p>4ï¼‰å½“ 7002 å†æ¬¡å¯åŠ¨ï¼Œå°±ä¼šå˜ä¸ºä¸€ä¸ª slave èŠ‚ç‚¹äº†ï¼š</p><p><img src="/MyBlog/assets/image-20210727160803386-3c719a73.png" alt="image-20210727160803386"></p><h3 id="_4-4-2-æ‰‹åŠ¨æ•…éšœè½¬ç§»" tabindex="-1"><a class="header-anchor" href="#_4-4-2-æ‰‹åŠ¨æ•…éšœè½¬ç§»" aria-hidden="true">#</a> 4.4.2.æ‰‹åŠ¨æ•…éšœè½¬ç§»</h3><p>åˆ©ç”¨ cluster failover å‘½ä»¤å¯ä»¥æ‰‹åŠ¨è®©é›†ç¾¤ä¸­çš„æŸä¸ª master å®•æœºï¼Œåˆ‡æ¢åˆ°æ‰§è¡Œ cluster failover å‘½ä»¤çš„è¿™ä¸ª slave èŠ‚ç‚¹ï¼Œå®ç°æ— æ„ŸçŸ¥çš„æ•°æ®è¿ç§»ã€‚å…¶æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/MyBlog/assets/image-20210725162441407-234af58b.png" alt="image-20210725162441407"></p><p>è¿™ç§ failover å‘½ä»¤å¯ä»¥æŒ‡å®šä¸‰ç§æ¨¡å¼ï¼š</p><ul><li>ç¼ºçœï¼šé»˜è®¤çš„æµç¨‹ï¼Œå¦‚å›¾ 1~6 æ­©</li><li>forceï¼šçœç•¥äº†å¯¹ offset çš„ä¸€è‡´æ€§æ ¡éªŒ</li><li>takeoverï¼šç›´æ¥æ‰§è¡Œç¬¬ 5 æ­©ï¼Œå¿½ç•¥æ•°æ®ä¸€è‡´æ€§ã€å¿½ç•¥ master çŠ¶æ€å’Œå…¶å®ƒ master çš„æ„è§</li></ul><p><strong>æ¡ˆä¾‹éœ€æ±‚</strong>ï¼šåœ¨ 7002 è¿™ä¸ª slave èŠ‚ç‚¹æ‰§è¡Œæ‰‹åŠ¨æ•…éšœè½¬ç§»ï¼Œé‡æ–°å¤ºå› master åœ°ä½</p><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>1ï¼‰åˆ©ç”¨ redis-cli è¿æ¥ 7002 è¿™ä¸ªèŠ‚ç‚¹</p><p>2ï¼‰æ‰§è¡Œ cluster failover å‘½ä»¤</p><p>å¦‚å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20210727160037766-4a7b9e57.png" alt="image-20210727160037766"></p><p>æ•ˆæœï¼š</p><p><img src="/MyBlog/assets/image-20210727161152065-8a322451.png" alt="image-20210727161152065"></p><h2 id="_4-5-redistemplate-è®¿é—®åˆ†ç‰‡é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_4-5-redistemplate-è®¿é—®åˆ†ç‰‡é›†ç¾¤" aria-hidden="true">#</a> 4.5.RedisTemplate è®¿é—®åˆ†ç‰‡é›†ç¾¤</h2><p>RedisTemplate åº•å±‚åŒæ ·åŸºäº lettuce å®ç°äº†åˆ†ç‰‡é›†ç¾¤çš„æ”¯æŒï¼Œè€Œä½¿ç”¨çš„æ­¥éª¤ä¸å“¨å…µæ¨¡å¼åŸºæœ¬ä¸€è‡´ï¼š</p><p>1ï¼‰å¼•å…¥ redis çš„ starter ä¾èµ–</p><p>2ï¼‰é…ç½®åˆ†ç‰‡é›†ç¾¤åœ°å€</p><p>3ï¼‰é…ç½®è¯»å†™åˆ†ç¦»</p><p>ä¸å“¨å…µæ¨¡å¼ç›¸æ¯”ï¼Œå…¶ä¸­åªæœ‰åˆ†ç‰‡é›†ç¾¤çš„é…ç½®æ–¹å¼ç•¥æœ‰å·®å¼‚ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">cluster</span><span class="token punctuation">:</span>
      <span class="token key atrule">nodes</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> 192.168.150.101<span class="token punctuation">:</span><span class="token number">7001</span>
        <span class="token punctuation">-</span> 192.168.150.101<span class="token punctuation">:</span><span class="token number">7002</span>
        <span class="token punctuation">-</span> 192.168.150.101<span class="token punctuation">:</span><span class="token number">7003</span>
        <span class="token punctuation">-</span> 192.168.150.101<span class="token punctuation">:</span><span class="token number">8001</span>
        <span class="token punctuation">-</span> 192.168.150.101<span class="token punctuation">:</span><span class="token number">8002</span>
        <span class="token punctuation">-</span> 192.168.150.101<span class="token punctuation">:</span><span class="token number">8003</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/ZyKunn/edit/main/notes/microservices/02/day03-åˆ†å¸ƒå¼ç¼“å­˜/README.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 814342838@qq.com">ZyKun</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/MyBlog/notes/microservices/02/seata%E7%9A%84%E9%83%A8%E7%BD%B2%E5%92%8C%E9%9B%86%E6%88%90/" class="" aria-label="seata çš„éƒ¨ç½²å’Œé›†æˆ ğŸ§™"><!--[--><!--]--> seata çš„éƒ¨ç½²å’Œé›†æˆ ğŸ§™ <!--[--><!--]--></a></span><span class="next"><a href="/MyBlog/notes/microservices/02/Redis%E9%9B%86%E7%BE%A4/" class="" aria-label="Redis é›†ç¾¤ ğŸ§™"><!--[--><!--]--> Redis é›†ç¾¤ ğŸ§™ <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/MyBlog/assets/app-a153c100.js" defer></script>
  </body>
</html>
