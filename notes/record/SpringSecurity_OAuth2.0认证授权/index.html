<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.63">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="./img/logo.png"><title>Spring Security OAuth2.0 è®¤è¯æˆæƒ | ZyKunã®Blog</title><meta name="description" content="">
    <link rel="preload" href="/MyBlog/assets/style-57272a59.css" as="style"><link rel="stylesheet" href="/MyBlog/assets/style-57272a59.css">
    <link rel="modulepreload" href="/MyBlog/assets/app-a153c100.js"><link rel="modulepreload" href="/MyBlog/assets/index.html-fd5da14a.js"><link rel="modulepreload" href="/MyBlog/assets/index.html-07245162.js"><link rel="prefetch" href="/MyBlog/assets/index.html-ab0151fa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1249ab5a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4d02565e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1c68c797.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-93acf26d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2bc953d6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0c526d7c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-636c9f52.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d4177c6b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7624decc.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d0b4a798.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-aa378d7b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ddd44d65.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-adbb7f41.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-34576599.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1079a374.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-88d4ebe7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5e927142.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9a6f13b8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4c85da23.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-69e813d7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-545062a2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bd7a4fcb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-910949e0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-459b0c71.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9a036060.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f62ffe74.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-841a86c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b31c8bb6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-85bae056.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-73555735.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6d5456cd.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d2dfbeec.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-746091c2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9cc627ff.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d411448a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4454f425.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-57aa84f4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2ce52087.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-76657200.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-90d9409e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4d6ba5e7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-41bc7856.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6140daf4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ea30461d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-00114784.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f3fa86cb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-386f0bd2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b46ac77e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-256a258e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4ebf55b3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7268161e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5a8852c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-19373782.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4e33bb6b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-de5ff178.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-dbee5a73.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-64025c89.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9bd15ac7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4812edff.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1f3f5c2b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3f85e131.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1d66d048.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-67b1b38e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-17f10f72.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ad1b5dc8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b14e7669.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fa35810b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-acb9b7bf.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f2ba9a88.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-abdb28e5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b3cc33e9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ef13eee8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-73fa0dcc.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6f7449c7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3857ef8d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e5af1d8f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d5d14c1f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-94a8b9a2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3931e4d3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0978879b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-617bd5bf.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4fe008c8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0e33aa95.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-00725025.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8e05ec6e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-72ca6b4c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-427c5181.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3b3baf42.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-40a790c3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9709e7c9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8eb00d02.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0c849262.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-eda16f63.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-81242655.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2c9f6820.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-79188b74.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5775eee0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-eff0510c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-305de307.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e83a5de7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-761a9548.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c12ae66e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-87a73e5c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d720473a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b960b5b6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bbd98f93.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-76195dca.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3bd0cfa7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8c87d147.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bac2e853.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1ee6bc34.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ab7381d6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5b97f6b8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fd33ca6f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-684189de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-63731ad7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-895bfca1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6d1ff4c2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b71bf26f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ce6f983b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c185f9a2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-29c62d64.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-52c91de2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-55aa1c06.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c87ef63a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ff1d9f51.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a12aedeb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-298f19f2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f881f599.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2c32406a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d4217479.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7edb7ce1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8671126f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-da565d04.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f9deb3ec.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ee7cf1b5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-270d6327.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ec786b75.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e98adf02.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7233a0e2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-79c193cf.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9714081e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d5dea51d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a235e4bb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e3209a23.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cdce2101.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-389e66df.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-652ee4f6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-025e6f4e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-60711e70.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6edc93de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-11bd39b1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-53015219.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-74dcd8ae.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2dd727db.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-11b329fb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3b6f3614.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-70ce719f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f6ca4d92.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5a6833de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bf03220c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a2edab58.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f1e5cf7a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-21d4e18d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5235fca9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2dc704c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-57630906.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ff165209.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6ec253a3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f9e4f0c3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-664b232d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-adf015a3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4667c0e6.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cc407710.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1752d212.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9b5d99c4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-43c48ae2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e8a616b7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-93e7405b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-22a72a56.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-42ce3023.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f8eeab22.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-dd50991a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-af520db8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5ab2bfac.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-965bc04f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-81ebef01.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-79d19f4d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9600bdfb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-560df48d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4fb22a4f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bd4caa82.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-370323f9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f673ebfa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-78d88460.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8b54347c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d30f0340.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e26bc4de.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7d37b036.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-3aa565ce.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4c69f238.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-76d60030.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7116a5e4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d8f649cc.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-adbbb7c9.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-90bb86fd.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e23936a3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-19ad952b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-038b3afd.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-084fe5c1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-098421fe.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7baefce4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fffdfb9c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d8c9612c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-05c42fda.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-e1615934.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-da824146.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fa2d32f0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-545dbea7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f3ca58cb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b9e2188a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4fc5f1f7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1ec5c70d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cbf2aa55.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8beb0c08.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ee54da9f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fd28b91d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-98aa51a1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-03f9381a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2c9009c5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-71b7cfbe.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1759170e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-aa84186f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-53160af7.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-51b685b4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ecb8e229.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-9c507901.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c6362722.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-faf67dd8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d7f20950.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a088985c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-93b7982c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b76e6179.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d976d39c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b16efd78.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-1301757e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c3240cbe.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a2ddd21c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-74fb5e20.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-128f5026.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8fd9f38a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-82e84e23.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-007ef014.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f3dd860c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-382a2bae.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7b6beaec.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-2eb17cfa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c6f50213.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0c8aef39.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-133f4d38.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-cffd2be1.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a798219d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6b5fde77.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-13275b71.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-4b6a02c3.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7f179a12.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f45bc33f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0574e5e5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0921816f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-631fbc02.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8586017d.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-c4dbf09b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-967486c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-aad17dde.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-ff644d77.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-78a4df64.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8d2180e8.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-53fbcd20.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-a3387e5e.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-979f5ac4.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-0938c506.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-51707e22.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b1e917a0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-6b56a071.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-d15eb498.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7b0a97c0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fda196b5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bcc5faac.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-490c208f.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-dce28479.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-62825d3c.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b5a4af15.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-eb40da96.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-8d6d1c61.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-618cf3f0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-f2a35430.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-64f564d2.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-bca2187b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-85181f96.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-7f689b28.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-62aa623a.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-b0c39cc5.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-73b8fff0.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-5466ae58.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index.html-fbd0bcfa.js" as="script"><link rel="prefetch" href="/MyBlog/assets/404.html-5f041a2b.js" as="script"><link rel="prefetch" href="/MyBlog/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/MyBlog/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/MyBlog/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/MyBlog/" class=""><!----><span class="site-name can-hide">ZyKunã®Blog</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/MyBlog/" class="" aria-label="ğŸŒ±Home"><!--[--><!--]--> ğŸŒ±Home <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/01/" class="" aria-label="åŸºç¡€è¯­æ³•"><!--[--><!--]--> åŸºç¡€è¯­æ³• <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/02/" class="" aria-label="é¢å‘å¯¹è±¡ç¼–ç¨‹"><!--[--><!--]--> é¢å‘å¯¹è±¡ç¼–ç¨‹ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/03/" class="" aria-label="å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶"><!--[--><!--]--> å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/04/" class="" aria-label="JDBC"><!--[--><!--]--> JDBC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/05/" class="" aria-label="Javaé«˜çº§"><!--[--><!--]--> Javaé«˜çº§ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/06/" class="" aria-label="JavaWeb"><!--[--><!--]--> JavaWeb <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/python/01/" class="" aria-label="Pythonå…¥é—¨"><!--[--><!--]--> Pythonå…¥é—¨ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/01/" class="" aria-label="å®ç”¨ç¯‡"><!--[--><!--]--> å®ç”¨ç¯‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/02/" class="" aria-label="é«˜çº§ç¯‡"><!--[--><!--]--> é«˜çº§ç¯‡ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/mysql/" class="" aria-label="ğŸ“Mysql"><!--[--><!--]--> ğŸ“Mysql <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/01/" class="" aria-label="HTML&amp;CSS"><!--[--><!--]--> HTML&amp;CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/02/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/03/" class="" aria-label="JQuery"><!--[--><!--]--> JQuery <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/04/" class="" aria-label="Layui"><!--[--><!--]--> Layui <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/05/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/01/" class="" aria-label="Reggie"><!--[--><!--]--> Reggie <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/02/" class="" aria-label="51XueCheng"><!--[--><!--]--> 51XueCheng <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/record/" class="router-link-active" aria-label="ğŸéšç¬”"><!--[--><!--]--> ğŸéšç¬” <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/ZyKunn" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/MyBlog/" class="" aria-label="ğŸŒ±Home"><!--[--><!--]--> ğŸŒ±Home <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¥Java"><span class="title">ğŸ¥Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/01/" class="" aria-label="åŸºç¡€è¯­æ³•"><!--[--><!--]--> åŸºç¡€è¯­æ³• <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/02/" class="" aria-label="é¢å‘å¯¹è±¡ç¼–ç¨‹"><!--[--><!--]--> é¢å‘å¯¹è±¡ç¼–ç¨‹ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/03/" class="" aria-label="å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶"><!--[--><!--]--> å¸¸ç”¨ç±»&amp;é›†åˆæ¡†æ¶ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/04/" class="" aria-label="JDBC"><!--[--><!--]--> JDBC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/05/" class="" aria-label="Javaé«˜çº§"><!--[--><!--]--> Javaé«˜çº§ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/java/06/" class="" aria-label="JavaWeb"><!--[--><!--]--> JavaWeb <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸPython"><span class="title">ğŸPython</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/python/01/" class="" aria-label="Pythonå…¥é—¨"><!--[--><!--]--> Pythonå…¥é—¨ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸŒ‹å¾®æœåŠ¡"><span class="title">ğŸŒ‹å¾®æœåŠ¡</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/01/" class="" aria-label="å®ç”¨ç¯‡"><!--[--><!--]--> å®ç”¨ç¯‡ <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/microservices/02/" class="" aria-label="é«˜çº§ç¯‡"><!--[--><!--]--> é«˜çº§ç¯‡ <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/mysql/" class="" aria-label="ğŸ“Mysql"><!--[--><!--]--> ğŸ“Mysql <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤å‰ç«¯"><span class="title">ğŸ¤å‰ç«¯</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/01/" class="" aria-label="HTML&amp;CSS"><!--[--><!--]--> HTML&amp;CSS <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/02/" class="" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/03/" class="" aria-label="JQuery"><!--[--><!--]--> JQuery <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/04/" class="" aria-label="Layui"><!--[--><!--]--> Layui <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/front-end/05/" class="" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¢Project"><span class="title">ğŸ¢Project</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/01/" class="" aria-label="Reggie"><!--[--><!--]--> Reggie <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/MyBlog/notes/project/02/" class="" aria-label="51XueCheng"><!--[--><!--]--> 51XueCheng <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/MyBlog/notes/record/" class="router-link-active" aria-label="ğŸéšç¬”"><!--[--><!--]--> ğŸéšç¬” <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/ZyKunn" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/MyBlog/notes/record/" class="router-link-active sidebar-item sidebar-heading active" aria-label="éšç¬”ç¯‡"><!--[--><!--]--> éšç¬”ç¯‡ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a href="/MyBlog/notes/record/RKH81%E9%94%AE%E7%9B%98%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="sidebar-item" aria-label="ğŸŒ² RKH81 é”®ç›˜å¿«æ·é”® ï¼ˆè‡ªç”¨ç¬”è®°ï¼‰"><!--[--><!--]--> ğŸŒ² RKH81 é”®ç›˜å¿«æ·é”® ï¼ˆè‡ªç”¨ç¬”è®°ï¼‰ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Linux/" class="sidebar-item" aria-label="ğŸ¤”Linux"><!--[--><!--]--> ğŸ¤”Linux <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Linux%E9%85%8D%E7%BD%AEJava%E7%8E%AF%E5%A2%83/" class="sidebar-item" aria-label="ğŸ¤ Linux é…ç½® Java ç¯å¢ƒ"><!--[--><!--]--> ğŸ¤ Linux é…ç½® Java ç¯å¢ƒ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Git/" class="sidebar-item" aria-label="ğŸ‰Git"><!--[--><!--]--> ğŸ‰Git <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Typora%E7%BB%93%E5%90%88LightBox%E6%94%BE%E5%A4%A7%E6%9F%A5%E7%9C%8B%E5%9B%BE%E7%89%87/" class="sidebar-item" aria-label="ğŸ§©Typora ç»“åˆ LightBox æ”¾å¤§æŸ¥çœ‹å›¾ç‰‡"><!--[--><!--]--> ğŸ§©Typora ç»“åˆ LightBox æ”¾å¤§æŸ¥çœ‹å›¾ç‰‡ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Maven%E7%9A%84%E7%BB%A7%E6%89%BF%E4%B8%8E%E8%81%9A%E5%90%88/" class="sidebar-item" aria-label="ğŸˆ´Maven çš„ç»§æ‰¿ä¸èšåˆ"><!--[--><!--]--> ğŸˆ´Maven çš„ç»§æ‰¿ä¸èšåˆ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/MyBatis%E6%98%A0%E5%B0%84%E4%B9%8Bassociation%E5%92%8Ccollection%E8%AF%A6%E8%A7%A3/" class="sidebar-item" aria-label="ğŸ¦â€MyBatis æ˜ å°„ä¹‹ association å’Œ collection è¯¦è§£"><!--[--><!--]--> ğŸ¦â€MyBatis æ˜ å°„ä¹‹ association å’Œ collection è¯¦è§£ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/vue%E5%92%8Cnginx%E7%9A%84%E4%BB%A3%E7%90%86%E8%A7%A3%E6%9E%90/" class="sidebar-item" aria-label="ğŸ¬ï¸ æ€»ç»“ vue å’Œ nginx çš„ä»£ç†è§£æ"><!--[--><!--]--> ğŸ¬ï¸ æ€»ç»“ vue å’Œ nginx çš„ä»£ç†è§£æ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/docker%E4%B8%AD%E8%AE%BE%E7%BD%AEKibana%E4%B8%BA%E4%B8%AD%E6%96%87/" class="sidebar-item" aria-label="docker ä¸­è®¾ç½® Kibana ä¸ºä¸­æ–‡"><!--[--><!--]--> docker ä¸­è®¾ç½® Kibana ä¸ºä¸­æ–‡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Spring Security OAuth2.0 è®¤è¯æˆæƒ"><!--[--><!--]--> Spring Security OAuth2.0 è®¤è¯æˆæƒ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.åŸºæœ¬æ¦‚å¿µ"><!--[--><!--]--> 1.åŸºæœ¬æ¦‚å¿µ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-1-ä»€ä¹ˆæ˜¯è®¤è¯" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.1.ä»€ä¹ˆæ˜¯è®¤è¯"><!--[--><!--]--> 1.1.ä»€ä¹ˆæ˜¯è®¤è¯ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-2-ä»€ä¹ˆæ˜¯ä¼šè¯" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2 ä»€ä¹ˆæ˜¯ä¼šè¯"><!--[--><!--]--> 1.2 ä»€ä¹ˆæ˜¯ä¼šè¯ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-2-ä»€ä¹ˆæ˜¯æˆæƒ" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.2 ä»€ä¹ˆæ˜¯æˆæƒ"><!--[--><!--]--> 1.2 ä»€ä¹ˆæ˜¯æˆæƒ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-3-æˆæƒçš„æ•°æ®æ¨¡å‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.3 æˆæƒçš„æ•°æ®æ¨¡å‹"><!--[--><!--]--> 1.3 æˆæƒçš„æ•°æ®æ¨¡å‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-4-rbac" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.4 RBAC"><!--[--><!--]--> 1.4 RBAC <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-4-1-åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.4.1 åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶"><!--[--><!--]--> 1.4.1 åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-4-2-åŸºäºèµ„æºçš„è®¿é—®æ§åˆ¶" class="router-link-active router-link-exact-active sidebar-item" aria-label="1.4.2 åŸºäºèµ„æºçš„è®¿é—®æ§åˆ¶"><!--[--><!--]--> 1.4.2 åŸºäºèµ„æºçš„è®¿é—®æ§åˆ¶ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-åŸºäº-session-çš„è®¤è¯æ–¹å¼" class="router-link-active router-link-exact-active sidebar-item" aria-label="2 åŸºäº Session çš„è®¤è¯æ–¹å¼"><!--[--><!--]--> 2 åŸºäº Session çš„è®¤è¯æ–¹å¼ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-1-è®¤è¯æµç¨‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.1 è®¤è¯æµç¨‹"><!--[--><!--]--> 2.1 è®¤è¯æµç¨‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-2-åˆ›å»ºå·¥ç¨‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.åˆ›å»ºå·¥ç¨‹"><!--[--><!--]--> 2.2.åˆ›å»ºå·¥ç¨‹ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-2-1-åˆ›å»º-maven-å·¥ç¨‹" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.1 åˆ›å»º maven å·¥ç¨‹"><!--[--><!--]--> 2.2.1 åˆ›å»º maven å·¥ç¨‹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-2-2-spring-å®¹å™¨é…ç½®" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.2 Spring å®¹å™¨é…ç½®"><!--[--><!--]--> 2.2.2 Spring å®¹å™¨é…ç½® <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-2-3-servletcontext-é…ç½®" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.3 servletContext é…ç½®"><!--[--><!--]--> 2.2.3 servletContext é…ç½® <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-2-4-åŠ è½½-spring-å®¹å™¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.2.4 åŠ è½½ Spring å®¹å™¨"><!--[--><!--]--> 2.2.4 åŠ è½½ Spring å®¹å™¨ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-3-å®ç°è®¤è¯åŠŸèƒ½" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3.å®ç°è®¤è¯åŠŸèƒ½"><!--[--><!--]--> 2.3.å®ç°è®¤è¯åŠŸèƒ½ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-3-2-è®¤è¯æ¥å£" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.3.2 è®¤è¯æ¥å£"><!--[--><!--]--> 2.3.2 è®¤è¯æ¥å£ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-4-å®ç°ä¼šè¯åŠŸèƒ½" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.4.å®ç°ä¼šè¯åŠŸèƒ½"><!--[--><!--]--> 2.4.å®ç°ä¼šè¯åŠŸèƒ½ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-5-å®ç°æˆæƒåŠŸèƒ½" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.5.å®ç°æˆæƒåŠŸèƒ½"><!--[--><!--]--> 2.5.å®ç°æˆæƒåŠŸèƒ½ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-6-å°ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="2.6.å°ç»“"><!--[--><!--]--> 2.6.å°ç»“ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/MyBlog/notes/record/Flowable%E5%85%A5%E9%97%A8-%E5%9F%BA%E7%A1%80%E7%AF%87/" class="sidebar-item" aria-label="ğŸFlowable å…¥é—¨-åŸºç¡€ç¯‡"><!--[--><!--]--> ğŸFlowable å…¥é—¨-åŸºç¡€ç¯‡ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Flowable%E5%85%A5%E9%97%A8-%E9%AB%98%E7%BA%A7%E7%AF%87/" class="sidebar-item" aria-label="ğŸFlowable å…¥é—¨-é«˜çº§ç¯‡"><!--[--><!--]--> ğŸFlowable å…¥é—¨-é«˜çº§ç¯‡ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/SpringBoot%E6%95%B4%E5%90%88Flowable%E7%AE%80%E4%BB%8B/" class="sidebar-item" aria-label="ğŸSpring Boot æ•´åˆæµç¨‹å¼•æ“ Flowable"><!--[--><!--]--> ğŸSpring Boot æ•´åˆæµç¨‹å¼•æ“ Flowable <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/ImageCombiner/" class="sidebar-item" aria-label="ğŸ§©ImageCombiner"><!--[--><!--]--> ğŸ§©ImageCombiner <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/%E5%8F%82%E6%95%B0%E6%A0%A1%E9%AA%8C%E6%B3%A8%E8%A7%A3%E4%B8%8D%E7%94%9F%E6%95%88%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" class="sidebar-item" aria-label="ğŸ‘» å‚æ•°æ ¡éªŒæ³¨è§£ä¸ç”Ÿæ•ˆè§£å†³æ–¹æ¡ˆ"><!--[--><!--]--> ğŸ‘» å‚æ•°æ ¡éªŒæ³¨è§£ä¸ç”Ÿæ•ˆè§£å†³æ–¹æ¡ˆ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/%E5%A2%9E%E5%BC%BA%E7%89%88Switch%E8%AF%AD%E5%8F%A5/" class="sidebar-item" aria-label="ğŸ¦¸â€â™‚ å¢å¼ºç‰ˆ Switch è¯­å¥"><!--[--><!--]--> ğŸ¦¸â€â™‚ å¢å¼ºç‰ˆ Switch è¯­å¥ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/%E7%90%86%E8%A7%A3%E4%BB%80%E4%B9%88%E6%98%AFoAuth2%E5%8D%8F%E8%AE%AE/" class="sidebar-item" aria-label="ğŸ“ƒ ç†è§£ä»€ä¹ˆæ˜¯ oAuth2 åè®®"><!--[--><!--]--> ğŸ“ƒ ç†è§£ä»€ä¹ˆæ˜¯ oAuth2 åè®® <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/lombok%E2%80%94@EqualsAndHashCode%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%BF%E7%94%A8/" class="sidebar-item" aria-label="ğŸŒ¶ï¸ lombokâ€”@EqualsAndHashCode(callSuper = true)æ³¨è§£çš„ä½¿ç”¨"><!--[--><!--]--> ğŸŒ¶ï¸ lombokâ€”@EqualsAndHashCode(callSuper = true)æ³¨è§£çš„ä½¿ç”¨ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Ruoyi-Vue%E9%9B%86%E6%88%90Minio/" class="sidebar-item" aria-label="ğŸ“‚Ruoyi-Vue é›†æˆ Minio"><!--[--><!--]--> ğŸ“‚Ruoyi-Vue é›†æˆ Minio <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/ES%E4%B8%AD%E7%9A%84Nested%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" class="sidebar-item" aria-label="ğŸŒˆES ä¸­çš„ Nested æ•°æ®ç±»å‹"><!--[--><!--]--> ğŸŒˆES ä¸­çš„ Nested æ•°æ®ç±»å‹ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/ElasticSearch-%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2/" class="sidebar-item" aria-label="ğŸŒˆElasticSearchï¼šæ¨¡ç³ŠæŸ¥è¯¢ï¼Œæ˜¯ matchã€fuzzy è¿˜æ˜¯ wildcard?"><!--[--><!--]--> ğŸŒˆElasticSearchï¼šæ¨¡ç³ŠæŸ¥è¯¢ï¼Œæ˜¯ matchã€fuzzy è¿˜æ˜¯ wildcard? <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Java%E4%B8%ADvar%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%94%A8%E6%B3%95%E5%92%8C%E4%BD%BF%E7%94%A8/" class="sidebar-item" aria-label="ğŸ”ï¸Java ä¸­ var ç±»å‹çš„ç”¨æ³•å’Œä½¿ç”¨"><!--[--><!--]--> ğŸ”ï¸Java ä¸­ var ç±»å‹çš„ç”¨æ³•å’Œä½¿ç”¨ <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Mybatis_MybatisPlus%E6%93%8D%E4%BD%9Cjsonb%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE/" class="sidebar-item" aria-label="ğŸ”¡Mybatis&amp;MybatisPlus æ“ä½œ jsonb æ ¼å¼æ•°æ®"><!--[--><!--]--> ğŸ”¡Mybatis&amp;MybatisPlus æ“ä½œ jsonb æ ¼å¼æ•°æ® <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/Mybatis_MybatisPlus%E6%93%8D%E4%BD%9Cprint%E6%A0%BC%E5%BC%8F%E6%95%B0%E6%8D%AE/" class="sidebar-item" aria-label="ğŸ”¡Mybatis&amp;MybatisPlus æ“ä½œ point æ ¼å¼æ•°æ®"><!--[--><!--]--> ğŸ”¡Mybatis&amp;MybatisPlus æ“ä½œ point æ ¼å¼æ•°æ® <!--[--><!--]--></a><!----></li><li><a href="/MyBlog/notes/record/SpringBoot%E9%9B%86%E6%88%90Caffeine/" class="sidebar-item" aria-label="â˜€ï¸SpringBoot é›†æˆ Caffeine"><!--[--><!--]--> â˜€ï¸SpringBoot é›†æˆ Caffeine <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="spring-security-oauth2-0-è®¤è¯æˆæƒ" tabindex="-1"><a class="header-anchor" href="#spring-security-oauth2-0-è®¤è¯æˆæƒ" aria-hidden="true">#</a> Spring Security OAuth2.0 è®¤è¯æˆæƒ</h1><hr><nav class="table-of-contents"><ul><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active">1.åŸºæœ¬æ¦‚å¿µ</a><ul><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-1-ä»€ä¹ˆæ˜¯è®¤è¯" class="router-link-active router-link-exact-active">1.1.ä»€ä¹ˆæ˜¯è®¤è¯</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-2-ä»€ä¹ˆæ˜¯ä¼šè¯" class="router-link-active router-link-exact-active">1.2 ä»€ä¹ˆæ˜¯ä¼šè¯</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-2-ä»€ä¹ˆæ˜¯æˆæƒ" class="router-link-active router-link-exact-active">1.2 ä»€ä¹ˆæ˜¯æˆæƒ</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-3-æˆæƒçš„æ•°æ®æ¨¡å‹" class="router-link-active router-link-exact-active">1.3 æˆæƒçš„æ•°æ®æ¨¡å‹</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_1-4-rbac" class="router-link-active router-link-exact-active">1.4 RBAC</a></li></ul></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-åŸºäº-session-çš„è®¤è¯æ–¹å¼" class="router-link-active router-link-exact-active">2 åŸºäº Session çš„è®¤è¯æ–¹å¼</a><ul><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-1-è®¤è¯æµç¨‹" class="router-link-active router-link-exact-active">2.1 è®¤è¯æµç¨‹</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-2-åˆ›å»ºå·¥ç¨‹" class="router-link-active router-link-exact-active">2.2.åˆ›å»ºå·¥ç¨‹</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-3-å®ç°è®¤è¯åŠŸèƒ½" class="router-link-active router-link-exact-active">2.3.å®ç°è®¤è¯åŠŸèƒ½</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-4-å®ç°ä¼šè¯åŠŸèƒ½" class="router-link-active router-link-exact-active">2.4.å®ç°ä¼šè¯åŠŸèƒ½</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-5-å®ç°æˆæƒåŠŸèƒ½" class="router-link-active router-link-exact-active">2.5.å®ç°æˆæƒåŠŸèƒ½</a></li><li><a aria-current="page" href="/MyBlog/notes/record/SpringSecurity_OAuth2.0%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83/#_2-6-å°ç»“" class="router-link-active router-link-exact-active">2.6.å°ç»“</a></li></ul></li></ul></nav><h2 id="_1-åŸºæœ¬æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_1-åŸºæœ¬æ¦‚å¿µ" aria-hidden="true">#</a> 1.åŸºæœ¬æ¦‚å¿µ</h2><h3 id="_1-1-ä»€ä¹ˆæ˜¯è®¤è¯" tabindex="-1"><a class="header-anchor" href="#_1-1-ä»€ä¹ˆæ˜¯è®¤è¯" aria-hidden="true">#</a> 1.1.ä»€ä¹ˆæ˜¯è®¤è¯</h3><p>â€‹ è¿›å…¥ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼Œå¤§å®¶æ¯å¤©éƒ½åœ¨åˆ·æ‰‹æœºï¼Œå¸¸ç”¨çš„è½¯ä»¶æœ‰å¾®ä¿¡ã€æ”¯ä»˜å®ã€å¤´æ¡ç­‰ï¼Œä¸‹è¾¹æ‹¿å¾®ä¿¡æ¥ä¸¾ä¾‹å­è¯´æ˜è®¤è¯ ç›¸å…³çš„åŸºæœ¬æ¦‚å¿µï¼Œåœ¨åˆæ¬¡ä½¿ç”¨å¾®ä¿¡å‰éœ€è¦æ³¨å†Œæˆä¸ºå¾®ä¿¡ç”¨æˆ·ï¼Œç„¶åè¾“å…¥è´¦å·å’Œå¯†ç å³å¯ç™»å½•å¾®ä¿¡ï¼Œè¾“å…¥è´¦å·å’Œå¯†ç  ç™»å½•å¾®ä¿¡çš„è¿‡ç¨‹å°±æ˜¯è®¤è¯ã€‚</p><blockquote><p>ç³»ç»Ÿä¸ºä»€ä¹ˆè¦è®¤è¯ï¼Ÿ</p></blockquote><p>â€‹ è®¤è¯æ˜¯ä¸ºäº†ä¿æŠ¤ç³»ç»Ÿçš„éšç§æ•°æ®ä¸èµ„æºï¼Œç”¨æˆ·çš„èº«ä»½åˆæ³•æ–¹å¯è®¿é—®è¯¥ç³»ç»Ÿçš„èµ„æºã€‚</p><p>**è®¤è¯ ï¼š**ç”¨æˆ·è®¤è¯å°±æ˜¯åˆ¤æ–­ä¸€ä¸ªç”¨æˆ·çš„èº«ä»½æ˜¯å¦åˆæ³•çš„è¿‡ç¨‹ï¼Œç”¨æˆ·å»è®¿é—®ç³»ç»Ÿèµ„æºæ—¶ç³»ç»Ÿè¦æ±‚éªŒè¯ç”¨æˆ·çš„èº«ä»½ä¿¡ æ¯ï¼Œèº«ä»½åˆæ³•æ–¹å¯ç»§ç»­è®¿é—®ï¼Œä¸åˆæ³•åˆ™æ‹’ç»è®¿é—®ã€‚å¸¸è§çš„ç”¨æˆ·èº«ä»½è®¤è¯æ–¹å¼æœ‰ï¼šç”¨æˆ·åå¯†ç ç™»å½•ï¼ŒäºŒç»´ç ç™»å½•ï¼Œæ‰‹ æœºçŸ­ä¿¡ç™»å½•ï¼ŒæŒ‡çº¹è®¤è¯ç­‰æ–¹å¼ã€‚</p><h3 id="_1-2-ä»€ä¹ˆæ˜¯ä¼šè¯" tabindex="-1"><a class="header-anchor" href="#_1-2-ä»€ä¹ˆæ˜¯ä¼šè¯" aria-hidden="true">#</a> 1.2 ä»€ä¹ˆæ˜¯ä¼šè¯</h3><p>â€‹ ç”¨æˆ·è®¤è¯é€šè¿‡åï¼Œä¸ºäº†é¿å…ç”¨æˆ·çš„æ¯æ¬¡æ“ä½œéƒ½è¿›è¡Œè®¤è¯å¯å°†ç”¨æˆ·çš„ä¿¡æ¯ä¿è¯åœ¨ä¼šè¯ä¸­ã€‚ä¼šè¯å°±æ˜¯ç³»ç»Ÿä¸ºäº†ä¿æŒå½“å‰ ç”¨æˆ·çš„ç™»å½•çŠ¶æ€æ‰€æä¾›çš„æœºåˆ¶ï¼Œå¸¸è§çš„æœ‰åŸºäº session æ–¹å¼ã€åŸºäº token æ–¹å¼ç­‰ã€‚</p><blockquote><p>åŸºäº session çš„è®¤è¯æ–¹å¼å¦‚ä¸‹å›¾ï¼š</p></blockquote><p>â€‹ å®ƒçš„äº¤äº’æµç¨‹æ˜¯ï¼Œç”¨æˆ·è®¤è¯æˆåŠŸåï¼Œåœ¨æœåŠ¡ç«¯ç”Ÿæˆç”¨æˆ·ç›¸å…³çš„æ•°æ®ä¿å­˜åœ¨ session(å½“å‰ä¼šè¯)ä¸­ï¼Œå‘ç»™å®¢æˆ·ç«¯çš„ sesssion_id å­˜æ”¾åˆ° cookie ä¸­ï¼Œè¿™æ ·ç”¨æˆ·å®¢æˆ·ç«¯è¯·æ±‚æ—¶å¸¦ä¸Š session_id å°±å¯ä»¥éªŒè¯æœåŠ¡å™¨ç«¯æ˜¯å¦å­˜åœ¨ session æ•° æ®ï¼Œä»¥æ­¤å®Œæˆç”¨æˆ·çš„åˆæ³•æ ¡éªŒï¼Œå½“ç”¨æˆ·é€€å‡ºç³»ç»Ÿæˆ– session è¿‡æœŸé”€æ¯æ—¶,å®¢æˆ·ç«¯çš„ session_id ä¹Ÿå°±æ— æ•ˆäº†ã€‚</p><p><img src="/MyBlog/assets/image-20230626120153746-82e14159.png" alt="image-20230626120153746"></p><blockquote><p>åŸºäº token æ–¹å¼å¦‚ä¸‹å›¾ï¼š</p></blockquote><p>â€‹ å®ƒçš„äº¤äº’æµç¨‹æ˜¯ï¼Œç”¨æˆ·è®¤è¯æˆåŠŸåï¼ŒæœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ª token å‘ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥æ”¾åˆ° cookie æˆ– localStorage ç­‰å­˜å‚¨ä¸­ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶å¸¦ä¸Š tokenï¼ŒæœåŠ¡ç«¯æ”¶åˆ° token é€šè¿‡éªŒè¯åå³å¯ç¡®è®¤ç”¨æˆ·èº«ä»½ã€‚</p><p><img src="/MyBlog/assets/image-20230626120345666-dceb1286.png" alt="image-20230626120345666"></p><p>â€‹ åŸºäº session çš„è®¤è¯æ–¹å¼ç”± Servlet è§„èŒƒå®šåˆ¶ï¼ŒæœåŠ¡ç«¯è¦å­˜å‚¨ session ä¿¡æ¯éœ€è¦å ç”¨å†…å­˜èµ„æºï¼Œå®¢æˆ·ç«¯éœ€è¦æ”¯æŒ cookieï¼›åŸºäº token çš„æ–¹å¼åˆ™ä¸€èˆ¬ä¸éœ€è¦æœåŠ¡ç«¯å­˜å‚¨ tokenï¼Œå¹¶ä¸”ä¸é™åˆ¶å®¢æˆ·ç«¯çš„å­˜å‚¨æ–¹å¼ã€‚å¦‚ä»Šç§»åŠ¨äº’è”ç½‘æ—¶ä»£ æ›´å¤šç±»å‹çš„å®¢æˆ·ç«¯éœ€è¦æ¥å…¥ç³»ç»Ÿï¼Œç³»ç»Ÿå¤šæ˜¯é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„æ¶æ„è¿›è¡Œå®ç°ï¼Œæ‰€ä»¥åŸºäº token çš„æ–¹å¼æ›´é€‚åˆã€‚</p><h3 id="_1-2-ä»€ä¹ˆæ˜¯æˆæƒ" tabindex="-1"><a class="header-anchor" href="#_1-2-ä»€ä¹ˆæ˜¯æˆæƒ" aria-hidden="true">#</a> 1.2 ä»€ä¹ˆæ˜¯æˆæƒ</h3><p>â€‹ è¿˜æ‹¿å¾®ä¿¡æ¥ä¸¾ä¾‹å­ï¼Œå¾®ä¿¡ç™»å½•æˆåŠŸåç”¨æˆ·å³å¯ä½¿ç”¨å¾®ä¿¡çš„åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼Œå‘çº¢åŒ…ã€å‘æœ‹å‹åœˆã€æ·»åŠ å¥½å‹ç­‰ï¼Œæ²¡æœ‰ç»‘å®š é“¶è¡Œå¡çš„ç”¨æˆ·æ˜¯æ— æ³•å‘é€çº¢åŒ…çš„ï¼Œç»‘å®šé“¶è¡Œå¡çš„ç”¨æˆ·æ‰å¯ä»¥å‘çº¢åŒ…ï¼Œå‘çº¢åŒ…åŠŸèƒ½ã€å‘æœ‹å‹åœˆåŠŸèƒ½éƒ½æ˜¯å¾®ä¿¡çš„èµ„æºå³ åŠŸèƒ½èµ„æºï¼Œç”¨æˆ·æ‹¥æœ‰å‘çº¢åŒ…åŠŸèƒ½çš„æƒé™æ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨å‘é€çº¢åŒ…åŠŸèƒ½ï¼Œæ‹¥æœ‰å‘æœ‹å‹åœˆåŠŸèƒ½çš„æƒé™æ‰å¯ä»¥ä½¿ç”¨å‘æœ‹å‹ åœˆåŠŸèƒ½ï¼Œè¿™ä¸ªæ ¹æ®ç”¨æˆ·çš„æƒé™æ¥æ§åˆ¶ç”¨æˆ·ä½¿ç”¨èµ„æºçš„è¿‡ç¨‹å°±æ˜¯æˆæƒã€‚</p><blockquote><p>â€‹ ä¸ºä»€ä¹ˆè¦æˆæƒï¼Ÿ</p></blockquote><p>â€‹ è®¤è¯æ˜¯ä¸ºäº†ä¿è¯ç”¨æˆ·èº«ä»½çš„åˆæ³•æ€§ï¼Œæˆæƒåˆ™æ˜¯ä¸ºäº†æ›´ç»†ç²’åº¦çš„å¯¹éšç§æ•°æ®è¿›è¡Œåˆ’åˆ†ï¼Œæˆæƒæ˜¯åœ¨è®¤è¯é€šè¿‡åå‘ç”Ÿçš„ï¼Œ æ§åˆ¶ä¸åŒçš„ç”¨æˆ·èƒ½å¤Ÿè®¿é—®ä¸åŒçš„èµ„æºã€‚</p><p>â€‹ <strong>æˆæƒï¼š</strong> æˆæƒæ˜¯ç”¨æˆ·è®¤è¯é€šè¿‡æ ¹æ®ç”¨æˆ·çš„æƒé™æ¥æ§åˆ¶ç”¨æˆ·è®¿é—®èµ„æºçš„è¿‡ç¨‹ï¼Œæ‹¥æœ‰èµ„æºçš„è®¿é—®æƒé™åˆ™æ­£å¸¸è®¿é—®ï¼Œæ²¡æœ‰ æƒé™åˆ™æ‹’ç»è®¿é—®ã€‚</p><h3 id="_1-3-æˆæƒçš„æ•°æ®æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_1-3-æˆæƒçš„æ•°æ®æ¨¡å‹" aria-hidden="true">#</a> 1.3 æˆæƒçš„æ•°æ®æ¨¡å‹</h3><p>â€‹ å¦‚ä½•è¿›è¡Œæˆæƒå³å¦‚ä½•å¯¹ç”¨æˆ·è®¿é—®èµ„æºè¿›è¡Œæ§åˆ¶ï¼Œé¦–å…ˆéœ€è¦å­¦ä¹ æˆæƒç›¸å…³çš„æ•°æ®æ¨¡å‹ã€‚</p><p>â€‹ æˆæƒå¯ç®€å•ç†è§£ä¸º Who å¯¹ What(which)è¿›è¡Œ How æ“ä½œï¼ŒåŒ…æ‹¬å¦‚ä¸‹ï¼š</p><p>â€‹ <strong>Who</strong>ï¼Œå³ä¸»ä½“ï¼ˆSubjectï¼‰ï¼Œä¸»ä½“ä¸€èˆ¬æ˜¯æŒ‡ç”¨æˆ·ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¨‹åºï¼Œéœ€è¦è®¿é—®ç³»ç»Ÿä¸­çš„èµ„æºã€‚</p><p>â€‹ <strong>What</strong>ï¼Œå³èµ„æº ï¼ˆResourceï¼‰ï¼Œå¦‚ç³»ç»Ÿèœå•ã€é¡µé¢ã€æŒ‰é’®ã€ä»£ç æ–¹æ³•ã€ç³»ç»Ÿå•†å“ä¿¡æ¯ã€ç³»ç»Ÿè®¢å•ä¿¡æ¯ç­‰ã€‚ç³»ç»Ÿèœå•ã€é¡µé¢ã€æŒ‰ é’®ã€ä»£ç æ–¹æ³•éƒ½å±äºï¼ˆç³»ç»ŸåŠŸèƒ½èµ„æºï¼‰ï¼Œå¯¹äº web ç³»ç»Ÿæ¯ä¸ªåŠŸèƒ½èµ„æºé€šå¸¸å¯¹åº”ä¸€ä¸ª URLï¼›ç³»ç»Ÿå•†å“ä¿¡æ¯ã€ç³»ç»Ÿè®¢å•ä¿¡æ¯ éƒ½å±äºå®ä½“èµ„æºï¼ˆæ•°æ®èµ„æºï¼‰ï¼Œå®ä½“èµ„æºç”±èµ„æºç±»å‹å’Œèµ„æºå®ä¾‹ç»„æˆï¼Œæ¯”å¦‚å•†å“ä¿¡æ¯ä¸ºèµ„æºç±»å‹ï¼Œå•†å“ç¼–å· ä¸º 001 çš„å•†å“ä¸ºèµ„æºå®ä¾‹ã€‚</p><p>â€‹ <strong>How</strong>ï¼Œæƒé™/è®¸å¯ï¼ˆPermissionï¼‰ï¼Œè§„å®šäº†ç”¨æˆ·å¯¹èµ„æºçš„æ“ä½œè®¸å¯ï¼Œæƒé™ç¦»å¼€èµ„æºæ²¡æœ‰æ„ä¹‰ï¼Œ å¦‚ç”¨æˆ·æŸ¥è¯¢æƒé™ã€ç”¨æˆ·æ·»åŠ æƒé™ã€æŸä¸ªä»£ç æ–¹æ³•çš„è°ƒç”¨æƒé™ã€ç¼–å·ä¸º 001 çš„ç”¨æˆ·çš„ä¿®æ”¹æƒé™ç­‰ï¼Œé€šè¿‡æƒé™å¯çŸ¥ç”¨æˆ· å¯¹å“ªäº›èµ„æºéƒ½æœ‰å“ªäº›æ“ä½œè®¸å¯ã€‚</p><blockquote><p>ä¸»ä½“ã€èµ„æºã€æƒé™å…³ç³»å¦‚ä¸‹å›¾ï¼š</p></blockquote><p><img src="/MyBlog/assets/image-20230626121351820-f9fb219e.png" alt="image-20230626121351820"></p><p>ä¸»ä½“ã€èµ„æºã€æƒé™ç›¸å…³çš„æ•°æ®æ¨¡å‹å¦‚ä¸‹ï¼š</p><p>ä¸»ä½“ï¼ˆç”¨æˆ· idã€è´¦å·ã€å¯†ç ã€...ï¼‰</p><p>èµ„æºï¼ˆèµ„æº idã€èµ„æºåç§°ã€è®¿é—®åœ°å€ã€...ï¼‰</p><p>æƒé™ï¼ˆæƒé™ idã€æƒé™æ ‡è¯†ã€æƒé™åç§°ã€èµ„æº idã€...ï¼‰</p><p>è§’è‰²ï¼ˆè§’è‰² idã€è§’è‰²åç§°ã€...ï¼‰</p><p>è§’è‰²å’Œæƒé™å…³ç³»ï¼ˆè§’è‰² idã€æƒé™ idã€...ï¼‰</p><p>ä¸»ä½“ï¼ˆç”¨æˆ·ï¼‰å’Œè§’è‰²å…³ç³»ï¼ˆç”¨æˆ· idã€è§’è‰² idã€...ï¼‰</p><p>ä¸»ä½“ï¼ˆç”¨æˆ·ï¼‰ã€èµ„æºã€æƒé™å…³ç³»å¦‚ä¸‹å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20230626121620465-038a21f0.png" alt="image-20230626121620465"></p><p><strong>é€šå¸¸ä¼ä¸šå¼€å‘ä¸­å°†èµ„æºå’Œæƒé™è¡¨åˆå¹¶ä¸ºä¸€å¼ æƒé™è¡¨ï¼Œå¦‚ä¸‹ï¼š</strong></p><p>èµ„æºï¼ˆèµ„æº idã€èµ„æºåç§°ã€è®¿é—®åœ°å€ã€...ï¼‰</p><p>æƒé™ï¼ˆæƒé™ idã€æƒé™æ ‡è¯†ã€æƒé™åç§°ã€èµ„æº idã€...ï¼‰</p><p><strong>åˆå¹¶ä¸ºï¼š</strong></p><p>æƒé™ï¼ˆæƒé™ idã€æƒé™æ ‡è¯†ã€æƒé™åç§°ã€èµ„æºåç§°ã€èµ„æºè®¿é—®åœ°å€ã€...ï¼‰</p><p>ä¿®æ”¹åæ•°æ®æ¨¡å‹ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20230626122012499-2688e7ba.png" alt="image-20230626122012499"></p><h3 id="_1-4-rbac" tabindex="-1"><a class="header-anchor" href="#_1-4-rbac" aria-hidden="true">#</a> 1.4 RBAC</h3><p>â€‹ å¦‚ä½•å®ç°æˆæƒï¼Ÿä¸šç•Œé€šå¸¸åŸºäº RBAC å®ç°æˆæƒã€‚</p><h4 id="_1-4-1-åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-4-1-åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶" aria-hidden="true">#</a> 1.4.1 åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</h4><p>â€‹ RBAC åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRole-Based Access Controlï¼‰æ˜¯æŒ‰è§’è‰²è¿›è¡Œæˆæƒï¼Œæ¯”å¦‚ï¼šä¸»ä½“çš„è§’è‰²ä¸ºæ€»ç»ç†å¯ä»¥æŸ¥ è¯¢ä¼ä¸šè¿è¥æŠ¥è¡¨ï¼ŒæŸ¥è¯¢å‘˜å·¥å·¥èµ„ä¿¡æ¯ç­‰ï¼Œè®¿é—®æ§åˆ¶æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/MyBlog/assets/image-20230626125500472-3e7af690.png" alt="image-20230626125500472"></p><p>æ ¹æ®ä¸Šå›¾ä¸­çš„åˆ¤æ–­é€»è¾‘ï¼Œæˆæƒä»£ç å¯è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span><span class="token punctuation">(</span>ä¸»ä½“<span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;æ€»ç»ç†è§’è‰²id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	æŸ¥è¯¢å·¥èµ„
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸Šå›¾ä¸­æŸ¥è¯¢å·¥èµ„æ‰€éœ€è¦çš„<strong>è§’è‰²å˜åŒ–ä¸ºæ€»ç»ç†å’Œéƒ¨é—¨ç»ç†</strong>ï¼Œæ­¤æ—¶å°±éœ€è¦ä¿®æ”¹åˆ¤æ–­é€»è¾‘ä¸ºâ€œåˆ¤æ–­ç”¨æˆ·çš„è§’è‰²æ˜¯å¦æ˜¯ æ€»ç»ç†æˆ–éƒ¨é—¨ç»ç†â€ï¼Œä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span><span class="token punctuation">(</span>ä¸»ä½“<span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;æ€»ç»ç†è§’è‰²id&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> ä¸»ä½“<span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;éƒ¨é—¨ç»ç†è§’è‰²id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	æŸ¥è¯¢å·¥èµ„
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¹æ®ä¸Šè¾¹çš„ä¾‹å­å‘ç°ï¼Œå½“éœ€è¦ä¿®æ”¹è§’è‰²çš„æƒé™æ—¶å°±éœ€è¦ä¿®æ”¹æˆæƒçš„ç›¸å…³ä»£ç ï¼Œç³»ç»Ÿå¯æ‰©å±•æ€§å·®ã€‚</p><h4 id="_1-4-2-åŸºäºèµ„æºçš„è®¿é—®æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#_1-4-2-åŸºäºèµ„æºçš„è®¿é—®æ§åˆ¶" aria-hidden="true">#</a> 1.4.2 åŸºäºèµ„æºçš„è®¿é—®æ§åˆ¶</h4><p>â€‹ RBAC åŸºäºèµ„æºçš„è®¿é—®æ§åˆ¶ï¼ˆResource-Based Access Controlï¼‰æ˜¯æŒ‰èµ„æºï¼ˆæˆ–æƒé™ï¼‰è¿›è¡Œæˆæƒï¼Œæ¯”å¦‚ï¼šç”¨æˆ·å¿…é¡» å…·æœ‰æŸ¥è¯¢å·¥èµ„æƒé™æ‰å¯ä»¥æŸ¥è¯¢å‘˜å·¥å·¥èµ„ä¿¡æ¯ç­‰ï¼Œè®¿é—®æ§åˆ¶æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/MyBlog/assets/image-20230626125950501-ca2051d5.png" alt="image-20230626125950501"></p><p>æ ¹æ®ä¸Šå›¾ä¸­çš„åˆ¤æ–­ï¼Œæˆæƒä»£ç å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span><span class="token punctuation">(</span>ä¸»ä½“<span class="token punctuation">.</span><span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢å·¥èµ„æƒé™æ ‡è¯†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	æŸ¥è¯¢å·¥èµ„
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ä¼˜ç‚¹ï¼šç³»ç»Ÿè®¾è®¡æ—¶å®šä¹‰å¥½æŸ¥è¯¢å·¥èµ„çš„æƒé™æ ‡è¯†ï¼Œå³ä½¿æŸ¥è¯¢å·¥èµ„æ‰€éœ€è¦çš„è§’è‰²å˜åŒ–ä¸ºæ€»ç»ç†å’Œéƒ¨é—¨ç»ç†ä¹Ÿä¸éœ€è¦ä¿®æ”¹ æˆæƒä»£ç ï¼Œç³»ç»Ÿå¯æ‰©å±•æ€§å¼ºã€‚</p></blockquote><h2 id="_2-åŸºäº-session-çš„è®¤è¯æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2-åŸºäº-session-çš„è®¤è¯æ–¹å¼" aria-hidden="true">#</a> 2 åŸºäº Session çš„è®¤è¯æ–¹å¼</h2><h3 id="_2-1-è®¤è¯æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-1-è®¤è¯æµç¨‹" aria-hidden="true">#</a> 2.1 è®¤è¯æµç¨‹</h3><p>â€‹ åŸºäº Session è®¤è¯æ–¹å¼çš„æµç¨‹æ˜¯ï¼Œç”¨æˆ·è®¤è¯æˆåŠŸåï¼Œåœ¨æœåŠ¡ç«¯ç”Ÿæˆç”¨æˆ·ç›¸å…³çš„æ•°æ®ä¿å­˜åœ¨ session(å½“å‰ä¼šè¯)ï¼Œè€Œå‘ ç»™å®¢æˆ·ç«¯çš„ sesssion_id å­˜æ”¾åˆ° cookie ä¸­ï¼Œè¿™æ ·ç”¨å®¢æˆ·ç«¯è¯·æ±‚æ—¶å¸¦ä¸Š session_id å°±å¯ä»¥éªŒè¯æœåŠ¡å™¨ç«¯æ˜¯å¦å­˜åœ¨ session æ•°æ®ï¼Œä»¥æ­¤å®Œæˆç”¨æˆ·çš„åˆæ³•æ ¡éªŒã€‚å½“ç”¨æˆ·é€€å‡ºç³»ç»Ÿæˆ– session è¿‡æœŸé”€æ¯æ—¶,å®¢æˆ·ç«¯çš„ session_id ä¹Ÿå°±æ— æ•ˆäº†ã€‚ ä¸‹å›¾æ˜¯ session è®¤è¯æ–¹å¼çš„æµç¨‹å›¾ï¼š</p><p><img src="/MyBlog/assets/image-20230626130325795-0f4f910f.png" alt="image-20230626130325795"></p><p>â€‹ åŸºäº Session çš„è®¤è¯æœºåˆ¶ç”± Servlet è§„èŒƒå®šåˆ¶ï¼ŒServlet å®¹å™¨å·²å®ç°ï¼Œç”¨æˆ·é€šè¿‡ HttpSession çš„æ“ä½œæ–¹æ³•å³å¯å®ç°ï¼Œå¦‚ ä¸‹æ˜¯ HttpSession ç›¸å…³çš„æ“ä½œ APIã€‚</p><table><thead><tr><th>æ–¹æ³•</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>HttpSession getSession(Boolean create)</td><td>è·å–å½“å‰ HttpSession å¯¹è±¡</td></tr><tr><td>void setAttribute(String name,Object value)</td><td>å‘ session ä¸­å­˜æ”¾å¯¹è±¡</td></tr><tr><td>object getAttribute(String name)</td><td>ä» session ä¸­è·å–å¯¹è±¡</td></tr><tr><td>void removeAttribute(String name);</td><td>ç§»é™¤ session ä¸­å¯¹è±¡</td></tr><tr><td>void invalidate()</td><td>ä½¿ HttpSession å¤±æ•ˆ</td></tr><tr><td>ç•¥...</td><td></td></tr></tbody></table><h3 id="_2-2-åˆ›å»ºå·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-2-åˆ›å»ºå·¥ç¨‹" aria-hidden="true">#</a> 2.2.åˆ›å»ºå·¥ç¨‹</h3><p>â€‹ æœ¬æ¡ˆä¾‹å·¥ç¨‹ä½¿ç”¨ maven è¿›è¡Œæ„å»ºï¼Œä½¿ç”¨ SpringMVCã€Servlet3.0 å®ç°ã€‚</p><h4 id="_2-2-1-åˆ›å»º-maven-å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-2-1-åˆ›å»º-maven-å·¥ç¨‹" aria-hidden="true">#</a> 2.2.1 åˆ›å»º maven å·¥ç¨‹</h4><p>åˆ›å»º maven å·¥ç¨‹ security-springmvcï¼Œå·¥ç¨‹ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/MyBlog/assets/image-20230626130809341-ea9601b2.png" alt="image-20230626130809341"></p><p>å¼•å…¥å¦‚ä¸‹ä¾èµ–å¦‚ä¸‹ï¼Œæ³¨æ„ï¼š</p><p>1ã€ç”±äºæ˜¯ web å·¥ç¨‹ï¼Œpackaging è®¾ç½®ä¸º war</p><p>2ã€ä½¿ç”¨ tomcat7-maven-plugin æ’ä»¶æ¥è¿è¡Œå·¥ç¨‹</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
     <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.itheima.security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>security-springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>security-springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat7-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-compiler-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>source</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>target</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>target</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>maven-resources-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoding</span><span class="token punctuation">&gt;</span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoding</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>useDefaultDelimiters</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>useDefaultDelimiters</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
                                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-2-spring-å®¹å™¨é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-2-2-spring-å®¹å™¨é…ç½®" aria-hidden="true">#</a> 2.2.2 Spring å®¹å™¨é…ç½®</h4><p>åœ¨ config åŒ…ä¸‹å®šä¹‰ ApplicationConfig.javaï¼Œå®ƒå¯¹åº” web.xml ä¸­ ContextLoaderListener çš„é…ç½®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;com.itheima.security.springmvc&quot;</span>
        <span class="token punctuation">,</span> excludeFilters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@ComponentScan.Filter</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span><span class="token constant">ANNOTATION</span><span class="token punctuation">,</span> value <span class="token operator">=</span>
        <span class="token class-name">Controller</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationConfig</span> <span class="token punctuation">{</span>
    <span class="token comment">//åœ¨æ­¤é…ç½®é™¤äº†Controllerçš„å…¶å®ƒbeanï¼Œæ¯”å¦‚ï¼šæ•°æ®åº“é“¾æ¥æ± ã€äº‹åŠ¡ç®¡ç†å™¨ã€ä¸šåŠ¡beanç­‰ã€‚</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-3-servletcontext-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-2-3-servletcontext-é…ç½®" aria-hidden="true">#</a> 2.2.3 servletContext é…ç½®</h4><p>â€‹ æœ¬æ¡ˆä¾‹é‡‡ç”¨ Servlet3.0 æ—  web.xml æ–¹å¼ï¼Œçš„ config åŒ…ä¸‹å®šä¹‰ WebConfig.javaï¼Œå®ƒå¯¹åº” s å¯¹åº”äº DispatcherServlet é… ç½®ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableWebMvc</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;com.itheima.security.springmvc&quot;</span>
        <span class="token punctuation">,</span>includeFilters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@ComponentScan.Filter</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span><span class="token constant">ANNOTATION</span><span class="token punctuation">,</span>value <span class="token operator">=</span>
        <span class="token class-name">Controller</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>
    <span class="token comment">// è§†å›¾è§£æå™¨</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">InternalResourceViewResolver</span> <span class="token function">viewResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">InternalResourceViewResolver</span> viewResolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InternalResourceViewResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewResolver<span class="token punctuation">.</span><span class="token function">setPrefix</span><span class="token punctuation">(</span><span class="token string">&quot;/WEBâ€INF/views/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        viewResolver<span class="token punctuation">.</span><span class="token function">setSuffix</span><span class="token punctuation">(</span><span class="token string">&quot;.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> viewResolver<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-4-åŠ è½½-spring-å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#_2-2-4-åŠ è½½-spring-å®¹å™¨" aria-hidden="true">#</a> 2.2.4 åŠ è½½ Spring å®¹å™¨</h4><p>åœ¨ init åŒ…ä¸‹å®šä¹‰ Spring å®¹å™¨åˆå§‹åŒ–ç±» SpringApplicationInitializerï¼Œæ­¤ç±»å®ç° WebApplicationInitializer æ¥å£ï¼Œ Spring å®¹å™¨å¯åŠ¨æ—¶åŠ è½½ WebApplicationInitializer æ¥å£çš„æ‰€æœ‰å®ç°ç±»ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringApplicationInitializer</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractAnnotationConfigDispatcherServletInitializer</span> <span class="token punctuation">{</span>

    <span class="token comment">// springå®¹å™¨ ç›¸å½“äºåŠ è½½applicationContext.xml</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getRootConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">ApplicationConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//æŒ‡å®šrootContextçš„é…ç½®ç±»</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// servletContextï¼Œç›¸å½“äºåŠ è½½SpringMVC.xml</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletConfigClasses</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">WebConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">//æŒ‡å®šservletContextçš„é…ç½®ç±»</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// url-mapping</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getServletMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>SpringApplicationInitializer ç›¸å½“äº web.xmlï¼Œä½¿ç”¨äº† servlet3.0 å¼€å‘åˆ™ä¸éœ€è¦å†å®šä¹‰ web.xmlï¼Œ ApplicationConfig.class å¯¹åº”ä»¥ä¸‹é…ç½®çš„ application-context.xmlï¼ŒWebConfig.class å¯¹åº”ä»¥ä¸‹é…ç½®çš„ springmvc.xmlï¼Œweb.xml çš„å†…å®¹å‚è€ƒï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>webâ€app</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listenerâ€class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listenerâ€class</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>contextâ€param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paramâ€name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paramâ€name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paramâ€value</span><span class="token punctuation">&gt;</span></span>/WEBâ€INF/applicationâ€context.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paramâ€value</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>contextâ€param</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servletâ€name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servletâ€name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servletâ€class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servletâ€class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>initâ€param</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paramâ€name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paramâ€name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>paramâ€value</span><span class="token punctuation">&gt;</span></span>/WEBâ€INF/springâ€mvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>paramâ€value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>initâ€param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>loadâ€onâ€startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>loadâ€onâ€startup</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servletâ€mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servletâ€name</span><span class="token punctuation">&gt;</span></span>springmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servletâ€name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>urlâ€pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>urlâ€pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servletâ€mapping</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>webâ€app</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-å®ç°è®¤è¯åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_2-3-å®ç°è®¤è¯åŠŸèƒ½" aria-hidden="true">#</a> 2.3.å®ç°è®¤è¯åŠŸèƒ½</h3><p>â€‹ åœ¨ webapp/WEB-INF/views ä¸‹å®šä¹‰è®¤è¯é¡µé¢ login.jspï¼Œæœ¬æ¡ˆä¾‹åªæ˜¯æµ‹è¯•è®¤è¯æµç¨‹ï¼Œé¡µé¢æ²¡æœ‰æ·»åŠ  css æ ·å¼ï¼Œé¡µé¢å® ç°å¯å¡«å…¥ç”¨æˆ·åï¼Œå¯†ç ï¼Œè§¦å‘ç™»å½•å°†æäº¤è¡¨å•ä¿¡æ¯è‡³/loginï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; pageEncoding=&quot;UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;ç”¨æˆ·ç™»å½•&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;form action=&quot;login&quot; method=&quot;post&quot;&gt;
            ç”¨æˆ·åï¼š&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;br&gt;
            å¯†&amp;nbsp;&amp;nbsp;&amp;nbsp;ç :
            &lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;br&gt;
            &lt;input type=&quot;submit&quot; value=&quot;ç™»å½•&quot;&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ WebConfig ä¸­æ–°å¢å¦‚ä¸‹é…ç½®ï¼Œå°†/ç›´æ¥å¯¼å‘ login.jsp é¡µé¢ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// å°†/ç›´æ¥å¯¼å‘login.jspé¡µé¢ï¼š</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addViewControllers</span><span class="token punctuation">(</span><span class="token class-name">ViewControllerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    registry<span class="token punctuation">.</span><span class="token function">addViewController</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">&quot;login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®/è·¯å¾„åœ°å€ï¼Œè¿›è¡Œæµ‹è¯•</strong></p><p><img src="/MyBlog/assets/image-20230626134828525-4effb426.png" alt="image-20230626134828525"></p><h4 id="_2-3-2-è®¤è¯æ¥å£" tabindex="-1"><a class="header-anchor" href="#_2-3-2-è®¤è¯æ¥å£" aria-hidden="true">#</a> 2.3.2 è®¤è¯æ¥å£</h4><p>ç”¨æˆ·è¿›å…¥è®¤è¯é¡µé¢ï¼Œè¾“å…¥è´¦å·å’Œå¯†ç ï¼Œç‚¹å‡»ç™»å½•ï¼Œè¯·æ±‚/login è¿›è¡Œèº«ä»½è®¤è¯ã€‚</p><p>ï¼ˆ1ï¼‰å®šä¹‰è®¤è¯æ¥å£ï¼Œæ­¤æ¥å£ç”¨äºå¯¹ä¼ æ¥çš„ç”¨æˆ·åã€å¯†ç æ ¡éªŒï¼Œè‹¥æˆåŠŸåˆ™è¿”å›è¯¥ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦åˆ™æŠ›å‡ºé”™è¯¯å¼‚å¸¸ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è®¤è¯æœåŠ¡
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AuthenticationService</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * ç”¨æˆ·è®¤è¯
     *
     * <span class="token keyword">@param</span> <span class="token parameter">authenticationRequest</span> ç”¨æˆ·è®¤è¯è¯·æ±‚ï¼Œè´¦å·å’Œå¯†ç 
     * <span class="token keyword">@return</span> è®¤è¯æˆåŠŸçš„ç”¨æˆ·ä¿¡æ¯
     */</span>
    <span class="token class-name">UserDto</span> <span class="token function">authentication</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationRequest</span> authenticationRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¤è¯è¯·æ±‚ç»“æ„ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthenticationRequest</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * ç”¨æˆ·å
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * å¯†ç 
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¤è¯æˆåŠŸåè¿”å›çš„ç”¨æˆ·è¯¦ç»†ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯
 */</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDto</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> fullname<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ2ï¼‰è®¤è¯å®ç°ç±»ï¼Œæ ¹æ®ç”¨æˆ·åæŸ¥æ‰¾ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶æ ¡éªŒå¯†ç ï¼Œè¿™é‡Œæ¨¡æ‹Ÿäº†ä¸¤ä¸ªç”¨æˆ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuthenticationServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AuthenticationService</span> <span class="token punctuation">{</span>
<span class="token doc-comment comment">/**
 * æ ¡éªŒç”¨æˆ·çš„èº«ä»½ä¿¡æ¯æ˜¯å¦åˆæ³•
 *
 * <span class="token keyword">@param</span> <span class="token parameter">authenticationRequest</span> ç”¨æˆ·è®¤è¯è¯·æ±‚ï¼Œè´¦å·å’Œå¯†ç 
 * <span class="token keyword">@return</span>
 */</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">UserDto</span> <span class="token function">authentication</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationRequest</span> authenticationRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ ¡éªŒå‚æ•°æ˜¯å¦ä¸ºç©º</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>authenticationRequest <span class="token operator">==</span> <span class="token keyword">null</span>
            <span class="token operator">||</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>authenticationRequest<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token operator">||</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>authenticationRequest<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;è´¦å·æˆ–å¯†ç ä¸ºç©º&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æ ¹æ®è´¦å·å»æŸ¥è¯¢æ•°æ®åº“.è¿™é‡Œæµ‹è¯•ç¨‹åºé‡‡ç”¨æ¨¡æ‹Ÿæ•°æ®</span>
    <span class="token class-name">UserDto</span> userDto <span class="token operator">=</span> <span class="token function">getUserDto</span><span class="token punctuation">(</span>authenticationRequest<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ä¸ºç©º</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>userDto <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢ä¸åˆ°è¯¥ç”¨æˆ·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æ ¡éªŒå¯†ç </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>authenticationRequest<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>userDto<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;è´¦å·æˆ–å¯†ç é”™è¯¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// è®¤è¯é€šè¿‡ è¿”å›ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯</span>
    <span class="token keyword">return</span> userDto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æ ¹æ®è´¦å·æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span>
<span class="token keyword">private</span> <span class="token class-name">UserDto</span> <span class="token function">getUserDto</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> userMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//ç”¨æˆ·ä¿¡æ¯</span>
<span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">UserDto</span><span class="token punctuation">&gt;</span></span> userMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">{</span>
    userMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">UserDto</span><span class="token punctuation">(</span><span class="token string">&quot;1010&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;133443&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">UserDto</span><span class="token punctuation">(</span><span class="token string">&quot;1011&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;456&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æå››&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;144553&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ3ï¼‰ç™»å½• Controllerï¼Œå¯¹/login è¯·æ±‚å¤„ç†ï¼Œå®ƒè°ƒç”¨ AuthenticationService å®Œæˆè®¤è¯å¹¶è¿”å›ç™»å½•ç»“æœæç¤ºä¿¡æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AuthenticationService</span> authenticationService<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * ç”¨æˆ·ç™»å½•
     * <span class="token keyword">@param</span> <span class="token parameter">authenticationRequest</span> ç™»å½•è¯·æ±‚
     * <span class="token keyword">@return</span>
     */</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;text/plain;charset=UTFâ€8&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// producesï¼šæŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationRequest</span> authenticationRequest<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">UserDto</span> authentication <span class="token operator">=</span> authenticationService<span class="token punctuation">.</span><span class="token function">authentication</span><span class="token punctuation">(</span>authenticationRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> authentication<span class="token punctuation">.</span><span class="token function">getFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; ç™»å½•æˆåŠŸ&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ4ï¼‰æµ‹è¯•</p><p>å¯åŠ¨é¡¹ç›®ï¼Œè®¿é—®/è·¯å¾„åœ°å€ï¼Œè¿›è¡Œæµ‹è¯•</p><p><img src="/MyBlog/assets/image-20230626142432503-49f1a546.png" alt="image-20230626142432503"></p><p><strong>å¡«å…¥é”™è¯¯çš„ç”¨æˆ·ä¿¡æ¯ï¼Œé¡µé¢è¿”å›é”™è¯¯ä¿¡æ¯ï¼š</strong></p><p><img src="/MyBlog/assets/image-20230626142454601-da2b5629.png" alt="image-20230626142454601"></p><p><strong>å¡«å…¥æ­£ç¡®çš„ç”¨æˆ·ä¿¡æ¯ï¼Œé¡µé¢æç¤ºç™»å½•æˆåŠŸï¼š</strong></p><p><img src="data:image/png;base64,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" alt="image-20230626142517248"></p><p>â€‹ ä»¥ä¸Šçš„æµ‹è¯•å…¨éƒ¨ç¬¦åˆé¢„æœŸï¼Œåˆ°ç›®å‰ä¸ºæ­¢æœ€åŸºç¡€çš„è®¤è¯åŠŸèƒ½å·²ç»å®Œæˆï¼Œå®ƒä»…ä»…å®ç°äº†å¯¹ç”¨æˆ·èº«ä»½å‡­è¯çš„æ ¡éªŒï¼Œè‹¥æŸç”¨ æˆ·è®¤è¯æˆåŠŸï¼Œåªèƒ½è¯´æ˜ä»–æ˜¯è¯¥ç³»ç»Ÿçš„ä¸€ä¸ªåˆæ³•ç”¨æˆ·ï¼Œä»…æ­¤è€Œå·²ã€‚</p><h3 id="_2-4-å®ç°ä¼šè¯åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_2-4-å®ç°ä¼šè¯åŠŸèƒ½" aria-hidden="true">#</a> 2.4.å®ç°ä¼šè¯åŠŸèƒ½</h3><p>â€‹ ä¼šè¯æ˜¯æŒ‡ç”¨æˆ·ç™»å…¥ç³»ç»Ÿåï¼Œç³»ç»Ÿä¼šè®°ä½è¯¥ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œä»–å¯ä»¥åœ¨ç³»ç»Ÿè¿ç»­æ“ä½œç›´åˆ°é€€å‡ºç³»ç»Ÿçš„è¿‡ç¨‹ã€‚</p><p>â€‹ è®¤è¯çš„ç›®çš„æ˜¯å¯¹ç³»ç»Ÿèµ„æºçš„ä¿æŠ¤ï¼Œæ¯æ¬¡å¯¹èµ„æºçš„è®¿é—®ï¼Œç³»ç»Ÿå¿…é¡»å¾—çŸ¥é“æ˜¯è°åœ¨è®¿é—®èµ„æºï¼Œæ‰èƒ½å¯¹è¯¥è¯·æ±‚è¿›è¡Œåˆæ³•æ€§ æ‹¦æˆªã€‚å› æ­¤ï¼Œåœ¨è®¤è¯æˆåŠŸåï¼Œä¸€èˆ¬ä¼šæŠŠè®¤è¯æˆåŠŸçš„ç”¨æˆ·ä¿¡æ¯æ”¾å…¥ Session ä¸­ï¼Œåœ¨åç»­çš„è¯·æ±‚ä¸­ï¼Œç³»ç»Ÿèƒ½å¤Ÿä» Session ä¸­è·å–åˆ°å½“å‰ç”¨æˆ·ï¼Œç”¨è¿™æ ·çš„æ–¹å¼æ¥å®ç°ä¼šè¯æœºåˆ¶ã€‚</p><p>ï¼ˆ1ï¼‰å¢åŠ ä¼šè¯æ§åˆ¶</p><p>â€‹ é¦–å…ˆåœ¨ UserDto ä¸­å®šä¹‰ä¸€ä¸ª SESSION_USER_KEYï¼Œä½œä¸º Session ä¸­å­˜æ”¾ç™»å½•ç”¨æˆ·ä¿¡æ¯çš„ keyã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">SESSION_USER_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;_user&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>â€‹ ç„¶åä¿®æ”¹ LoginControllerï¼Œè®¤è¯æˆåŠŸåï¼Œå°†ç”¨æˆ·ä¿¡æ¯æ”¾å…¥å½“å‰ä¼šè¯ã€‚å¹¶å¢åŠ ç”¨æˆ·ç™»å‡ºæ–¹æ³•ï¼Œç™»å‡ºæ—¶å°† session ç½®ä¸º å¤±æ•ˆã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * ç”¨æˆ·ç™»å½•
 *
 * <span class="token keyword">@param</span> <span class="token parameter">authenticationRequest</span> ç™»å½•è¯·æ±‚
 * <span class="token keyword">@return</span>
 */</span>

<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token string">&quot;text/plain;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token comment">// producesï¼šæŒ‡å®šå“åº”ä½“è¿”å›ç±»å‹å’Œç¼–ç </span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationRequest</span> authenticationRequest<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">UserDto</span> authentication <span class="token operator">=</span> authenticationService<span class="token punctuation">.</span><span class="token function">authentication</span><span class="token punctuation">(</span>authenticationRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥session</span>
    session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">UserDto</span><span class="token punctuation">.</span><span class="token constant">SESSION_USER_KEY</span><span class="token punctuation">,</span> authentication<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> authentication<span class="token punctuation">.</span><span class="token function">getFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; ç™»å½•æˆåŠŸ&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/**
 * é€€å‡º
 *
 * <span class="token keyword">@param</span> <span class="token parameter">session</span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/logout&quot;</span><span class="token punctuation">,</span> produces <span class="token operator">=</span> <span class="token string">&quot;text/plain;charset=utfâ€8&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// session å¤±æ•ˆ</span>
    session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;é€€å‡ºæˆåŠŸ&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ2ï¼‰å¢åŠ æµ‹è¯•èµ„æº</p><p>ä¿®æ”¹ LoginControllerï¼Œå¢åŠ æµ‹è¯•èµ„æº 1ï¼Œå®ƒä»å½“å‰ä¼šè¯ session ä¸­è·å–å½“å‰ç™»å½•ç”¨æˆ·ï¼Œå¹¶è¿”å›æç¤ºä¿¡æ¯ç»™å‰å°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * æµ‹è¯•èµ„æº1
 * <span class="token keyword">@param</span> <span class="token parameter">session</span>
 * <span class="token keyword">@return</span>
 */</span>
<span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/r/r1&quot;</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token string">&quot;text/plain;charset=UTFâ€8&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">r1</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> fullname <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> object <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">UserDto</span><span class="token punctuation">.</span><span class="token constant">SESSION_USER_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>object <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        fullname <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">UserDto</span><span class="token punctuation">)</span>object<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        fullname <span class="token operator">=</span> <span class="token string">&quot;åŒ¿å&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> fullname <span class="token operator">+</span> <span class="token string">&quot; è®¿é—®èµ„æº1&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ3ï¼‰æµ‹è¯•</p><p>æœªç™»å½•æƒ…å†µä¸‹ç›´æ¥è®¿é—®æµ‹è¯•èµ„æº/r/r1ï¼š</p><p><img src="data:image/png;base64,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" alt="image-20230626153953958"></p><p>æˆåŠŸç™»å½•çš„æƒ…å†µä¸‹è®¿é—®æµ‹è¯•èµ„æº/r/r1ï¼š</p><p><img src="data:image/png;base64,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" alt="image-20230626154021880"></p><blockquote><p>æµ‹è¯•ç»“æœè¯´æ˜ï¼Œåœ¨ç”¨æˆ·ç™»å½•æˆåŠŸæ—¶ï¼Œè¯¥ç”¨æˆ·ä¿¡æ¯å·²è¢«æˆåŠŸæ”¾å…¥ sessionï¼Œå¹¶ä¸”åç»­è¯·æ±‚å¯ä»¥æ­£å¸¸ä» session ä¸­è·å–å½“ å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯ï¼Œç¬¦åˆé¢„æœŸç»“æœã€‚</p></blockquote><h3 id="_2-5-å®ç°æˆæƒåŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_2-5-å®ç°æˆæƒåŠŸèƒ½" aria-hidden="true">#</a> 2.5.å®ç°æˆæƒåŠŸèƒ½</h3><p>â€‹ ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†ç”¨æˆ·èº«ä»½å‡­è¯çš„æ ¡éªŒä»¥åŠç™»å½•çš„çŠ¶æ€ä¿æŒï¼Œå¹¶ä¸”æˆ‘ä»¬ä¹ŸçŸ¥é“äº†å¦‚ä½•è·å–å½“å‰ç™»å½•ç”¨æˆ·(ä» Session ä¸­è·å–)çš„ä¿¡æ¯ï¼Œæ¥ä¸‹æ¥ï¼Œç”¨æˆ·è®¿é—®ç³»ç»Ÿéœ€è¦ç»è¿‡æˆæƒï¼Œå³éœ€è¦å®Œæˆå¦‚ä¸‹åŠŸèƒ½ï¼š</p><ul><li>åŒ¿åç”¨æˆ·ï¼ˆæœªç™»å½•ç”¨æˆ·ï¼‰è®¿é—®æ‹¦æˆªï¼šç¦æ­¢åŒ¿åç”¨æˆ·è®¿é—®æŸäº›èµ„æºã€‚</li><li>ç™»å½•ç”¨æˆ·è®¿é—®æ‹¦æˆªï¼šæ ¹æ®ç”¨æˆ·çš„æƒé™å†³å®šæ˜¯å¦èƒ½è®¿é—®æŸäº›èµ„æºã€‚</li></ul><p>ï¼ˆ1ï¼‰å¢åŠ æƒé™æ•°æ®</p><p>â€‹ ä¸ºäº†å®ç°è¿™æ ·çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ UserDto é‡Œå¢åŠ æƒé™å±æ€§ï¼Œç”¨äºè¡¨ç¤ºè¯¥ç™»å½•ç”¨æˆ·æ‰€æ‹¥æœ‰çš„æƒé™ï¼ŒåŒæ—¶ä¿®æ”¹ UserDto çš„æ„é€ æ–¹æ³•ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDto</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">SESSION_USER_KEY</span> <span class="token operator">=</span> <span class="token string">&quot;_user&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//ç”¨æˆ·èº«ä»½ä¿¡æ¯</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> fullname<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * ç”¨æˆ·æƒé™
     */</span>
    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> authorities<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ å¹¶åœ¨ AuthenticationServiceImpl ä¸­ä¸ºæ¨¡æ‹Ÿç”¨æˆ·åˆå§‹åŒ–æƒé™ï¼Œå…¶ä¸­å¼ ä¸‰ç»™äº† p1 æƒé™ï¼Œæå››ç»™äº† p2 æƒé™ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//æ ¹æ®è´¦å·æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span>
<span class="token keyword">private</span> <span class="token class-name">UserDto</span> <span class="token function">getUserDto</span><span class="token punctuation">(</span><span class="token class-name">String</span> userName<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> userMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>userName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//ç”¨æˆ·ä¿¡æ¯</span>
<span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">UserDto</span><span class="token punctuation">&gt;</span></span> userMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">{</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> authorities1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    authorities1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;p1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™ä¸ªp1æˆ‘ä»¬äººä¸ºè®©å®ƒå’Œ/r/r1å¯¹åº”</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> authorities2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    authorities2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;p2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™ä¸ªp2æˆ‘ä»¬äººä¸ºè®©å®ƒå’Œ/r/r2å¯¹åº”</span>
    userMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">UserDto</span><span class="token punctuation">(</span><span class="token string">&quot;1010&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;å¼ ä¸‰&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;133443&quot;</span><span class="token punctuation">,</span>authorities1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">UserDto</span><span class="token punctuation">(</span><span class="token string">&quot;1011&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;456&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;144553&quot;</span><span class="token punctuation">,</span>authorities2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ2ï¼‰å¢åŠ æµ‹è¯•èµ„æº</p><p>â€‹ æˆ‘ä»¬æƒ³å®ç°é’ˆå¯¹ä¸åŒçš„ç”¨æˆ·èƒ½è®¿é—®ä¸åŒçš„èµ„æºï¼Œå‰ææ˜¯å¾—æœ‰å¤šä¸ªèµ„æºï¼Œå› æ­¤åœ¨ LoginController ä¸­å¢åŠ æµ‹è¯•èµ„æº 2ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/r/r2&quot;</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;text/plain;charset=UTF-8&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">r2</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">String</span> fullname <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> userObj <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">UserDto</span><span class="token punctuation">.</span><span class="token constant">SESSION_USER_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>userObj <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        fullname <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">UserDto</span><span class="token punctuation">)</span>userObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
        fullname <span class="token operator">=</span> <span class="token string">&quot;åŒ¿å&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> fullname <span class="token operator">+</span> <span class="token string">&quot; è®¿é—®èµ„æº2&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ3ï¼‰å®ç°æˆæƒæ‹¦æˆªå™¨</p><p>â€‹ åœ¨ interceptor åŒ…ä¸‹å®šä¹‰ SimpleAuthenticationInterceptor æ‹¦æˆªå™¨ï¼Œå®ç°æˆæƒæ‹¦æˆªï¼š</p><p>â€‹ 1ã€æ ¡éªŒç”¨æˆ·æ˜¯å¦ç™»å½•</p><p>â€‹ 2ã€æ ¡éªŒç”¨æˆ·æ˜¯å¦æ‹¥æœ‰æ“ä½œæƒé™</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleAuthenticationInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">//åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ ¡éªŒç”¨æˆ·è¯·æ±‚çš„urlæ˜¯å¦åœ¨ç”¨æˆ·çš„æƒé™èŒƒå›´å†…</span>
    <span class="token comment">//å–å‡ºç”¨æˆ·èº«ä»½ä¿¡æ¯</span>
    <span class="token class-name">Object</span> object <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">UserDto</span><span class="token punctuation">.</span><span class="token constant">SESSION_USER_KEY</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>object <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//æ²¡æœ‰è®¤è¯ï¼Œæç¤ºç™»å½•</span>
        <span class="token function">writeContent</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span><span class="token string">&quot;è¯·ç™»å½•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">UserDto</span> userDto <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserDto</span><span class="token punctuation">)</span> object<span class="token punctuation">;</span>
    <span class="token comment">//è¯·æ±‚çš„url</span>
    <span class="token class-name">String</span> requestURI <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> userDto<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;p1&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> requestURI<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;/r/r1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span> userDto<span class="token punctuation">.</span><span class="token function">getAuthorities</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;p2&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> requestURI<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;/r/r2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">writeContent</span><span class="token punctuation">(</span>response<span class="token punctuation">,</span><span class="token string">&quot;æ²¡æœ‰æƒé™ï¼Œæ‹’ç»è®¿é—®&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//å“åº”ä¿¡æ¯ç»™å®¢æˆ·ç«¯</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">writeContent</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹</p><p>â€‹ åœ¨ WebConfig ä¸­é…ç½®æ‹¦æˆªå™¨ï¼ŒåŒ¹é…/r/**çš„èµ„æºä¸ºå—ä¿æŠ¤çš„ç³»ç»Ÿèµ„æºï¼Œè®¿é—®è¯¥èµ„æºçš„è¯·æ±‚è¿›å…¥ SimpleAuthenticationInterceptor æ‹¦æˆªå™¨ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token class-name">SimpleAuthenticationInterceptor</span> simpleAuthenticationInterceptor<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>simpleAuthenticationInterceptor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span><span class="token string">&quot;/r/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ï¼ˆ4ï¼‰æµ‹è¯•</p><p>æœªç™»å½•æƒ…å†µä¸‹ï¼Œ/r/r1 ä¸/r/r2 å‡æç¤º â€œè¯·å…ˆç™»å½•â€ã€‚</p><p>å¼ ä¸‰ç™»å½•æƒ…å†µä¸‹ï¼Œç”±äºå¼ ä¸‰æœ‰ p1 æƒé™ï¼Œå› æ­¤å¯ä»¥è®¿é—®/r/r1ï¼Œå¼ ä¸‰æ²¡æœ‰ p2 æƒé™ï¼Œè®¿é—®/r/r2 æ—¶æç¤º â€œæƒé™ä¸è¶³ â€œã€‚</p><p>æå››ç™»å½•æƒ…å†µä¸‹ï¼Œç”±äºæå››æœ‰ p2 æƒé™ï¼Œå› æ­¤å¯ä»¥è®¿é—®/r/r2ï¼Œæå››æ²¡æœ‰ p1 æƒé™ï¼Œè®¿é—®/r/r1 æ—¶æç¤º â€œæƒé™ä¸è¶³ â€œã€‚ æµ‹è¯•ç»“æœå…¨éƒ¨ç¬¦åˆé¢„æœŸç»“æœã€‚</p><h3 id="_2-6-å°ç»“" tabindex="-1"><a class="header-anchor" href="#_2-6-å°ç»“" aria-hidden="true">#</a> 2.6.å°ç»“</h3><p>åŸºäº Session çš„è®¤è¯æ–¹å¼æ˜¯ä¸€ç§å¸¸è§çš„è®¤è¯æ–¹å¼ï¼Œè‡³ä»Šè¿˜æœ‰éå¸¸å¤šçš„ç³»ç»Ÿåœ¨ä½¿ç”¨ã€‚æˆ‘ä»¬åœ¨æ­¤å°èŠ‚ä½¿ç”¨ Spring mvc æŠ€ æœ¯å¯¹å®ƒè¿›è¡Œç®€å•å®ç°ï¼Œæ—¨åœ¨è®©å¤§å®¶æ›´æ¸…æ™°å®åœ¨çš„äº†è§£ç”¨æˆ·è®¤è¯ã€æˆæƒä»¥åŠä¼šè¯çš„åŠŸèƒ½æ„ä¹‰åŠå®ç°å¥—è·¯ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬ åˆ†åˆ«å¹²äº†å“ªäº›äº‹å„¿ï¼Ÿå¤§æ¦‚éœ€è¦æ€ä¹ˆåšï¼Ÿ</p><p>è€Œåœ¨æ­£å¼ç”Ÿäº§é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€ä¼šè€ƒè™‘ä½¿ç”¨ç¬¬ä¸‰æ–¹å®‰å…¨æ¡†æ¶ï¼ˆå¦‚ spring securityï¼Œshiro ç­‰å®‰å…¨æ¡†æ¶ï¼‰æ¥å®ç°è®¤è¯ æˆæƒåŠŸèƒ½ï¼Œå› ä¸ºè¿™æ ·åšèƒ½ä¸€å®šç¨‹åº¦æé«˜ç”Ÿäº§åŠ›ï¼Œæé«˜è½¯ä»¶æ ‡å‡†åŒ–ç¨‹åº¦ï¼Œå¦å¤–å¾€å¾€è¿™äº›æ¡†æ¶çš„å¯æ‰©å±•æ€§è€ƒè™‘çš„éå¸¸å…¨ é¢ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿéå¸¸æ˜æ˜¾ï¼Œè¿™äº›é€šç”¨åŒ–ç»„ä»¶ä¸ºäº†æé«˜æ”¯æŒèŒƒå›´ä¼šå¢åŠ å¾ˆå¤šå¯èƒ½æˆ‘ä»¬ä¸éœ€è¦çš„åŠŸèƒ½ï¼Œç»“æ„ä¸Šä¹Ÿä¼šæ¯”è¾ƒ æŠ½è±¡ï¼Œå¦‚æœæˆ‘ä»¬ä¸å¤Ÿäº†è§£å®ƒï¼Œä¸€æ—¦å‡ºç°é—®é¢˜ï¼Œå°†ä¼šå¾ˆéš¾å®šä½ã€‚</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/ZyKunn/edit/main/notes/record/SpringSecurity+OAuth2.0è®¤è¯æˆæƒ/README.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 814342838@qq.com">ZyKun</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/MyBlog/notes/record/docker%E4%B8%AD%E8%AE%BE%E7%BD%AEKibana%E4%B8%BA%E4%B8%AD%E6%96%87/" class="" aria-label="docker ä¸­è®¾ç½® Kibana ä¸ºä¸­æ–‡"><!--[--><!--]--> docker ä¸­è®¾ç½® Kibana ä¸ºä¸­æ–‡ <!--[--><!--]--></a></span><span class="next"><a href="/MyBlog/notes/record/Flowable%E5%85%A5%E9%97%A8-%E5%9F%BA%E7%A1%80%E7%AF%87/" class="" aria-label="ğŸFlowable å…¥é—¨-åŸºç¡€ç¯‡"><!--[--><!--]--> ğŸFlowable å…¥é—¨-åŸºç¡€ç¯‡ <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/MyBlog/assets/app-a153c100.js" defer></script>
  </body>
</html>
