import{_ as p,r as o,o as i,c,a as n,e,w as t,b as a,d as l}from"./app-a153c100.js";const r="/MyBlog/assets/image-20230521151418079-420025b9.png",u="/MyBlog/assets/image-20230521151450937-d16c7785.png",g="/MyBlog/assets/image-20230521151509478-a40320fe.png",d="/MyBlog/assets/image-20230521151655200-78f01f81.png",m="/MyBlog/assets/image-20230521151724399-77abd2b0.png",_="/MyBlog/assets/image-20230521151743758-62128e7d.png",h="/MyBlog/assets/image-20230521151800316-4693c601.png",v="/MyBlog/assets/image-20230521151827680-495a5346.png",k="/MyBlog/assets/image-20230521151848651-b62edc0d.png",b={},x=n("h1",{id:"ğŸ¬ï¸-æ€»ç»“-vue-å’Œ-nginx-çš„ä»£ç†è§£æ",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ğŸ¬ï¸-æ€»ç»“-vue-å’Œ-nginx-çš„ä»£ç†è§£æ","aria-hidden":"true"},"#"),a(" ğŸ¬ï¸ æ€»ç»“ vue å’Œ nginx çš„ä»£ç†è§£æ")],-1),f=n("hr",null,null,-1),y={class:"table-of-contents"},w=l('<blockquote><p>vue ç¼–è¯‘å™¨å’Œ nginx éƒ½èƒ½å¯åŠ¨æˆ‘ä»¬å‰ç«¯é¡¹ç›®çš„ï¼ŒäºŒè€…éƒ½èƒ½å¯¹å‰ç«¯çš„è¯·æ±‚è¿›è¡Œè½¬å‘ä»£ç†åˆ°åç«¯é¡¹ç›®ä¸­</p></blockquote><blockquote><p>æˆ‘ä»¬æœ¬åœ°ç”µè„‘ä¹Ÿå¯ä»¥ä¸‹è½½ä¸€ä¸ª nginx å¯åŠ¨æˆ‘ä»¬çš„å‰ç«¯é¡¹ç›®ï¼Œè€Œä¸ç”¨é€šè¿‡ vue ç¼–è¯‘å™¨å¯åŠ¨ã€‚</p></blockquote><h2 id="_1-vue-çš„-proxy-å’Œ-pathrewrite" tabindex="-1"><a class="header-anchor" href="#_1-vue-çš„-proxy-å’Œ-pathrewrite" aria-hidden="true">#</a> 1. vue çš„ proxy å’Œ pathRewrite</h2><h3 id="_1-1-vue-çš„ä»£ç†" tabindex="-1"><a class="header-anchor" href="#_1-1-vue-çš„ä»£ç†" aria-hidden="true">#</a> 1.1 vue çš„ä»£ç†</h3><p>æ¯”å¦‚æˆ‘ç°åœ¨æœ¬åœ°ç”µè„‘ï¼Œç”¨ vue å¯åŠ¨ä¸€ä¸ªå‰ç«¯é¡¹ç›®ï¼Œç«¯å£æ˜¯ 8080ï¼Œåç«¯å¾®æœåŠ¡é¡¹ç›®çš„ gateway æ¨¡å—çš„ç«¯å£æ˜¯ 9999ï¼Œé‚£ä¹ˆæ­¤æ—¶æˆ‘çš„å‰ç«¯é¡¹ç›®ç«¯å£å’Œåç«¯å¾®æœåŠ¡ç«¯å£æ˜¯ä¸ä¸€æ ·çš„ï¼Œè™½ç„¶å½¼æ­¤éƒ½æ˜¯æœ¬åœ°ç”µè„‘ï¼Œä¹Ÿå°±æ˜¯ 127.0.0.1ï¼Œä½†æ˜¯ç«¯å£ä¸ä¸€æ ·ï¼Œå¦‚æœå‰ç«¯é¡¹ç›®æƒ³æŠŠè¯·æ±‚å‘é€åˆ°åç«¯é¡¹ç›®ï¼Œé‚£ä¹ˆæ­¤æ—¶å±äºè·¨åŸŸï¼Œé‚£åº”è¯¥æ€ä¹ˆè§£å†³è·¨åŸŸå‘¢ï¼Œæ­¤æ—¶å°±å¾—ç”¨åˆ°äº†ä»£ç†ã€‚</p><p><img src="'+r+'" alt="image-20230521151418079"></p><p>è¡¥å……ä¿®æ”¹ä¸‹ï¼š</p><p><img src="'+u+'" alt="image-20230521151450937"></p><p><img src="'+g+'" alt="image-20230521151509478"></p><p><img src="'+d+'" alt="image-20230521151655200"></p><p>ä¸Šé¢çš„å›¾çš„ main.js æ–‡ä»¶ä¿®æ”¹åå‰ç«¯ vue ç¼–è¯‘å™¨å¯ä»¥ç›´æ¥çƒ­éƒ¨ç½²ï¼Œä¸éœ€è¦é‡å¯å‰ç«¯ vue ç¼–è¯‘å™¨å°±èƒ½çœ‹åˆ°æœ€æ–°çš„ä¿®æ”¹æ•ˆæœï¼›vue.config.js é‡Œé¢çš„å†…å®¹ä¿®æ”¹åæ˜¯æ— æ³•çƒ­éƒ¨ç½²çš„ï¼Œæˆ‘å¾—é‡å¯ vue ç¼–è¯‘å™¨é¡¹ç›®æ‰èƒ½çœ‹åˆ°æœ€æ–°çš„ä¿®æ”¹æ•ˆæœ</p><p><code>( /authåŒ¹é…çš„æ˜¯axiosçš„pathéƒ¨åˆ†ï¼Œä¸æ˜¯baseUrlå¦‚æœåŒ¹é…baseUrlçš„è¯ï¼Œåº”è¯¥æ˜¯Httpå¼€å¤´çš„æ‰å¯¹ï¼‰</code></p><p>é™„å½•ï¼š</p><p><img src="'+m+`" alt="image-20230521151724399"></p><p>ç”¨è¿™ä¸ªæ–¹æ³•å†™ä¸Šå»ï¼Œæ‰“å°ä¸‹ pathï¼Œçœ‹çœ‹ path æ˜¯ä»€ä¹ˆã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token string-property property">&#39;/gppublish&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> url<span class="token punctuation">,</span>
    <span class="token literal-property property">ws</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">pathRewrite</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">path<span class="token punctuation">,</span> req</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;path=&#39;</span><span class="token punctuation">,</span> path<span class="token punctuation">)</span>
     <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;/sbgl/gppublish&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/gppublish&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-nginx-ç¯‡ç« " tabindex="-1"><a class="header-anchor" href="#_2-nginx-ç¯‡ç« " aria-hidden="true">#</a> 2.nginx ç¯‡ç« </h2><p>å‰ç«¯é¡¹ç›®è¦æ˜¯ç”¨ nginx å¯åŠ¨çš„è¯ï¼Œé‚£ä¹ˆåœ¨ vue ä¸Šé¢çš„ä»£ç†æ˜¯æ— æ³•ç”¨åˆ° nginx çš„ï¼Œnginx ä¹Ÿå¾—åšå’Œ vue çš„ vue.config.js é‡Œé¢ä¸€æ ·çš„ä»£ç†é…ç½®æ‰èƒ½è¯·æ±‚è½¬å‘åˆ°æˆ‘çš„åç«¯é¡¹ç›®ï¼Œä¸ç„¶ nginx å¯åŠ¨çš„ç«¯å£å’Œæˆ‘åç«¯é¡¹ç›®å¯åŠ¨çš„ç«¯å£ä¸ä¸€æ ·ï¼Œå¦‚æœä» nginx å¯åŠ¨å‰ç«¯é¡¹ç›®ç„¶åæƒ³å‘é€è¯·æ±‚åˆ°åç«¯é¡¹ç›®çš„è¯ï¼Œæ˜¯å­˜åœ¨è·¨åŸŸçš„ï¼Œæ‰€ä»¥ nginx å¾—é…ç½®ä»£ç†ï¼Œå°†è¯·æ±‚è½¬å‘åˆ°åç«¯é¡¹ç›®ã€‚</p><p><img src="`+_+'" alt="image-20230521151743758"></p><p><img src="'+h+'" alt="image-20230521151800316"></p><p><img src="'+v+'" alt="image-20230521151827680"></p><p><strong>é—®ï¼šè¿™äº›|xx|ï¼Œauth|gppu|ï¼Œæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ</strong></p><blockquote><p>/sbgl/auth æˆ–è€…/sbgl/gppu è¿™æ ·çš„è·¯å¾„å¼€å¤´çš„ å°±è¿›æ¥è¿™é‡Œï¼Œè·¯å¾„æ²¡å˜ï¼Œä½†æ˜¯æ¢äº† ipï¼Œå¯ä»¥é‡å†™çš„ï¼Œæœ‰å¾ˆå¤šåŠŸèƒ½ï¼Œ^æ˜¯è¡¨ç¤ºå¿…é¡»å¼€å¤´çš„æ„æ€ã€‚å¯ä»¥æœæ­£åˆ™è¡¨è¾¾å¼å°±çŸ¥é“äº†</p></blockquote><p><img src="'+k+'" alt="image-20230521151848651"></p>',24);function B(M,q){const s=o("router-link");return i(),c("div",null,[x,f,n("nav",y,[n("ul",null,[n("li",null,[e(s,{to:"#_1-vue-çš„-proxy-å’Œ-pathrewrite"},{default:t(()=>[a("1. vue çš„ proxy å’Œ pathRewrite")]),_:1}),n("ul",null,[n("li",null,[e(s,{to:"#_1-1-vue-çš„ä»£ç†"},{default:t(()=>[a("1.1 vue çš„ä»£ç†")]),_:1})])])]),n("li",null,[e(s,{to:"#_2-nginx-ç¯‡ç« "},{default:t(()=>[a("2.nginx ç¯‡ç« ")]),_:1})])])]),w])}const N=p(b,[["render",B],["__file","index.html.vue"]]);export{N as default};
