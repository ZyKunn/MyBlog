import{_ as o,r as l,o as r,c as u,a,e as n,w as t,b as s,d as c}from"./app-a153c100.js";const d="/MyBlog/assets/image-20210713202807818-9441f253.png",g="/MyBlog/assets/image-20210713203124797-f9da97ec.png",m="/MyBlog/assets/image-20210713203753373-b7f423ef.png",k="/MyBlog/assets/image-20210713204155887-ee278fdc.png",v="/MyBlog/assets/image-20210713205003790-228ec241.png",h="/MyBlog/assets/image-20210713210800950-bab8818b.png",_="/MyBlog/assets/image-20210713211009593-ae47b250.png",b="/MyBlog/assets/image-20210713211417049-047ba7cc.png",y="/MyBlog/assets/image-20210713211550169-cc6819c4.png",f="/MyBlog/assets/image-20210713211657319-80ac64a8.png",x="/MyBlog/assets/image-20210713211814094-a93dab09.png",B="/MyBlog/assets/image-20210713212656887-a0eaffc3.png",M="/MyBlog/assets/image-20210713212349272-3007dec3.png",R="/MyBlog/assets/image-20210713212336185-ddc95880.png",S="/MyBlog/assets/image-20210713212513324-28fb164b.png",I="/MyBlog/assets/image-20210713220736408-770dcf93.png",w="/MyBlog/assets/image-20210713212749575-e0d88df2.png",A="/MyBlog/assets/image-20210713212901725-88792b4f.png",C="/MyBlog/assets/image-20210713213146089-2d85f748.png",N="/MyBlog/assets/image-20210713213213075-55e93d00.png",E="/MyBlog/assets/image-20210713213312278-c05ae384.png",q="/MyBlog/assets/image-20210713213959569-1329e80b.png",L="/MyBlog/assets/image-20210713214404481-dd58b0b4.png",O="/MyBlog/assets/image-20210713214925388-b1743379.png",T="/MyBlog/assets/image-20210713220104956-12121acf.png",Z="/MyBlog/assets/image-20210713220509769-65068a67.png",j="/MyBlog/assets/image-20210713220605881-4a5c0ae8.png",D="/MyBlog/assets/image-20210713220857396-1a6601b4.png",H="/MyBlog/assets/image-20210713221339022-af41d8b9.png",U="/MyBlog/assets/image-20210713222157190-7fff9f5d.png",F="/MyBlog/assets/image-20210713222656562-ef35d9f6.png",V="/MyBlog/assets/image-20210713222757702-ebc9cc98.png",P="/MyBlog/assets/image-20210713222841951-45d22f54.png",J="/MyBlog/assets/image-20210713223041491-8e5fbe7d.png",K="/MyBlog/assets/image-20210713223150650-f1f29ad7.png",W="/MyBlog/assets/image-20210713224049419-829c2ccb.png",z="/MyBlog/assets/image-20210713224245731-568aa982.png",G="/MyBlog/assets/image-20210713224517686-42ff231f.png",Q="/MyBlog/assets/1525620483637-e890901b.png",X="/MyBlog/assets/1525620787090-b282c894.png",i="/MyBlog/assets/1525620835911-68010d3d.png",Y="/MyBlog/assets/1544361421671-716a80cf.png",$="/MyBlog/assets/1525622652849-27d60628.png",aa="/MyBlog/assets/1525622699666-91243812.png",sa="/MyBlog/assets/1525622754316-7d9042b3.png",na="/MyBlog/assets/image-20210713224724673-7bd19140.png",ea="/MyBlog/assets/image-20210713225653000-6a1b8491.png",ta="/MyBlog/assets/image-20210713230444308-dc48d566.png",pa="/MyBlog/assets/image-20210713231439607-8ac53342.png",la="/MyBlog/assets/image-20210713232522531-a62668e4.png",ia="/MyBlog/assets/image-20210713232658928-ef2e2e0e.png",ca="/MyBlog/assets/image-20210713232916215-4648b223.png",oa="/MyBlog/assets/image-20210713233528982-1db3e786.png",ra="/MyBlog/assets/image-20210713233727923-c7a3140c.png",ua="/MyBlog/assets/image-20210713235133225-53c68e3b.png",da="/MyBlog/assets/image-20210713235235219-c1f68d9c.png",ga="/MyBlog/assets/image-20210714000101516-40beadff.png",ma="/MyBlog/assets/image-20210714000414781-fc6ca280.png",ka="/MyBlog/assets/image-20210714000440143-44fd2ac2.png",va="/MyBlog/assets/image-20210714000505928-65ded151.png",ha="/MyBlog/assets/image-20210714000522913-7d614234.png",_a="/MyBlog/assets/image-20210714000830703-2ca6ce38.png",ba="/MyBlog/assets/image-20210714000837140-57556b2c.png",ya="/MyBlog/assets/image-20210714000941256-f9c9b88b.png",fa="/MyBlog/assets/image-20210714001728017-0f7ef698.png",xa={},Ba=a("h1",{id:"springcloud01-ğŸŒ¸",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#springcloud01-ğŸŒ¸","aria-hidden":"true"},"#"),s(" SpringCloud01 ğŸŒ¸")],-1),Ma={class:"table-of-contents"},Ra=c('<h1 id="_1-è®¤è¯†å¾®æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_1-è®¤è¯†å¾®æœåŠ¡" aria-hidden="true">#</a> 1.è®¤è¯†å¾®æœåŠ¡</h1><p>éšç€äº’è”ç½‘è¡Œä¸šçš„å‘å±•ï¼Œå¯¹æœåŠ¡çš„è¦æ±‚ä¹Ÿè¶Šæ¥è¶Šé«˜ï¼ŒæœåŠ¡æ¶æ„ä¹Ÿä»å•ä½“æ¶æ„é€æ¸æ¼”å˜ä¸ºç°åœ¨æµè¡Œçš„å¾®æœåŠ¡æ¶æ„ã€‚è¿™äº›æ¶æ„ä¹‹é—´æœ‰æ€æ ·çš„å·®åˆ«å‘¢ï¼Ÿ</p><h2 id="_1-0-å­¦ä¹ ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#_1-0-å­¦ä¹ ç›®æ ‡" aria-hidden="true">#</a> 1.0.å­¦ä¹ ç›®æ ‡</h2><p>äº†è§£å¾®æœåŠ¡æ¶æ„çš„ä¼˜ç¼ºç‚¹</p><h2 id="_1-1-å•ä½“æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_1-1-å•ä½“æ¶æ„" aria-hidden="true">#</a> 1.1.å•ä½“æ¶æ„</h2><p><strong>å•ä½“æ¶æ„</strong>ï¼šå°†ä¸šåŠ¡çš„æ‰€æœ‰åŠŸèƒ½é›†ä¸­åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­å¼€å‘ï¼Œæ‰“æˆä¸€ä¸ªåŒ…éƒ¨ç½²ã€‚</p><p><img src="'+d+'" alt="image-20210713202807818"></p><p>å•ä½“æ¶æ„çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>æ¶æ„ç®€å•</li><li>éƒ¨ç½²æˆæœ¬ä½</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>è€¦åˆåº¦é«˜ï¼ˆç»´æŠ¤å›°éš¾ã€å‡çº§å›°éš¾ï¼‰</li></ul><h2 id="_1-2-åˆ†å¸ƒå¼æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_1-2-åˆ†å¸ƒå¼æ¶æ„" aria-hidden="true">#</a> 1.2.åˆ†å¸ƒå¼æ¶æ„</h2><p><strong>åˆ†å¸ƒå¼æ¶æ„</strong>ï¼šæ ¹æ®ä¸šåŠ¡åŠŸèƒ½å¯¹ç³»ç»Ÿåšæ‹†åˆ†ï¼Œæ¯ä¸ªä¸šåŠ¡åŠŸèƒ½æ¨¡å—ä½œä¸ºç‹¬ç«‹é¡¹ç›®å¼€å‘ï¼Œç§°ä¸ºä¸€ä¸ªæœåŠ¡ã€‚</p><p><img src="'+g+'" alt="image-20210713203124797"></p><p>åˆ†å¸ƒå¼æ¶æ„çš„ä¼˜ç¼ºç‚¹ï¼š</p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>é™ä½æœåŠ¡è€¦åˆ</li><li>æœ‰åˆ©äºæœåŠ¡å‡çº§å’Œæ‹“å±•</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>æœåŠ¡è°ƒç”¨å…³ç³»é”™ç»¼å¤æ‚</li></ul><p>åˆ†å¸ƒå¼æ¶æ„è™½ç„¶é™ä½äº†æœåŠ¡è€¦åˆï¼Œä½†æ˜¯æœåŠ¡æ‹†åˆ†æ—¶ä¹Ÿæœ‰å¾ˆå¤šé—®é¢˜éœ€è¦æ€è€ƒï¼š</p><ul><li>æœåŠ¡æ‹†åˆ†çš„ç²’åº¦å¦‚ä½•ç•Œå®šï¼Ÿ</li><li>æœåŠ¡ä¹‹é—´å¦‚ä½•è°ƒç”¨ï¼Ÿ</li><li>æœåŠ¡çš„è°ƒç”¨å…³ç³»å¦‚ä½•ç®¡ç†ï¼Ÿ</li></ul><p>äººä»¬éœ€è¦åˆ¶å®šä¸€å¥—è¡Œä¹‹æœ‰æ•ˆçš„æ ‡å‡†æ¥çº¦æŸåˆ†å¸ƒå¼æ¶æ„ã€‚</p><h2 id="_1-3-å¾®æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_1-3-å¾®æœåŠ¡" aria-hidden="true">#</a> 1.3.å¾®æœåŠ¡</h2><p>å¾®æœåŠ¡çš„æ¶æ„ç‰¹å¾ï¼š</p><ul><li>å•ä¸€èŒè´£ï¼šå¾®æœåŠ¡æ‹†åˆ†ç²’åº¦æ›´å°ï¼Œæ¯ä¸€ä¸ªæœåŠ¡éƒ½å¯¹åº”å”¯ä¸€çš„ä¸šåŠ¡èƒ½åŠ›ï¼Œåšåˆ°å•ä¸€èŒè´£</li><li>è‡ªæ²»ï¼šå›¢é˜Ÿç‹¬ç«‹ã€æŠ€æœ¯ç‹¬ç«‹ã€æ•°æ®ç‹¬ç«‹ï¼Œç‹¬ç«‹éƒ¨ç½²å’Œäº¤ä»˜</li><li>é¢å‘æœåŠ¡ï¼šæœåŠ¡æä¾›ç»Ÿä¸€æ ‡å‡†çš„æ¥å£ï¼Œä¸è¯­è¨€å’ŒæŠ€æœ¯æ— å…³</li><li>éš”ç¦»æ€§å¼ºï¼šæœåŠ¡è°ƒç”¨åšå¥½éš”ç¦»ã€å®¹é”™ã€é™çº§ï¼Œé¿å…å‡ºç°çº§è”é—®é¢˜</li></ul><p><img src="'+m+'" alt="image-20210713203753373"></p><p>å¾®æœåŠ¡çš„ä¸Šè¿°ç‰¹æ€§å…¶å®æ˜¯åœ¨ç»™åˆ†å¸ƒå¼æ¶æ„åˆ¶å®šä¸€ä¸ªæ ‡å‡†ï¼Œè¿›ä¸€æ­¥é™ä½æœåŠ¡ä¹‹é—´çš„è€¦åˆåº¦ï¼Œæä¾›æœåŠ¡çš„ç‹¬ç«‹æ€§å’Œçµæ´»æ€§ã€‚åšåˆ°é«˜å†…èšï¼Œä½è€¦åˆã€‚</p><p>å› æ­¤ï¼Œå¯ä»¥è®¤ä¸º<strong>å¾®æœåŠ¡</strong>æ˜¯ä¸€ç§ç»è¿‡è‰¯å¥½æ¶æ„è®¾è®¡çš„<strong>åˆ†å¸ƒå¼æ¶æ„æ–¹æ¡ˆ</strong> ã€‚</p><p>ä½†æ–¹æ¡ˆè¯¥æ€ä¹ˆè½åœ°ï¼Ÿé€‰ç”¨ä»€ä¹ˆæ ·çš„æŠ€æœ¯æ ˆï¼Ÿå…¨çƒçš„äº’è”ç½‘å…¬å¸éƒ½åœ¨ç§¯æå°è¯•è‡ªå·±çš„å¾®æœåŠ¡è½åœ°æ–¹æ¡ˆã€‚</p><p>å…¶ä¸­åœ¨ Java é¢†åŸŸæœ€å¼•äººæ³¨ç›®çš„å°±æ˜¯ SpringCloud æä¾›çš„æ–¹æ¡ˆäº†ã€‚</p><h2 id="_1-4-springcloud" tabindex="-1"><a class="header-anchor" href="#_1-4-springcloud" aria-hidden="true">#</a> 1.4.SpringCloud</h2><p>SpringCloud æ˜¯ç›®å‰å›½å†…ä½¿ç”¨æœ€å¹¿æ³›çš„å¾®æœåŠ¡æ¡†æ¶ã€‚å®˜ç½‘åœ°å€ï¼šhttps://spring.io/projects/spring-cloudã€‚</p><p>SpringCloud é›†æˆäº†å„ç§å¾®æœåŠ¡åŠŸèƒ½ç»„ä»¶ï¼Œå¹¶åŸºäº SpringBoot å®ç°äº†è¿™äº›ç»„ä»¶çš„è‡ªåŠ¨è£…é…ï¼Œä»è€Œæä¾›äº†è‰¯å¥½çš„å¼€ç®±å³ç”¨ä½“éªŒã€‚</p><p>å…¶ä¸­å¸¸è§çš„ç»„ä»¶åŒ…æ‹¬ï¼š</p><p><img src="'+k+'" alt="image-20210713204155887"></p><p>å¦å¤–ï¼ŒSpringCloud åº•å±‚æ˜¯ä¾èµ–äº SpringBoot çš„ï¼Œå¹¶ä¸”æœ‰ç‰ˆæœ¬çš„å…¼å®¹å…³ç³»ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="'+v+'" alt="image-20210713205003790"></p><p>æˆ‘ä»¬è¯¾å ‚å­¦ä¹ çš„ç‰ˆæœ¬æ˜¯ Hoxton.SR10ï¼Œå› æ­¤å¯¹åº”çš„ SpringBoot ç‰ˆæœ¬æ˜¯ 2.3.x ç‰ˆæœ¬ã€‚</p><h2 id="_1-5-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_1-5-æ€»ç»“" aria-hidden="true">#</a> 1.5.æ€»ç»“</h2><ul><li><p>å•ä½“æ¶æ„ï¼šç®€å•æ–¹ä¾¿ï¼Œé«˜åº¦è€¦åˆï¼Œæ‰©å±•æ€§å·®ï¼Œé€‚åˆå°å‹é¡¹ç›®ã€‚ä¾‹å¦‚ï¼šå­¦ç”Ÿç®¡ç†ç³»ç»Ÿ</p></li><li><p>åˆ†å¸ƒå¼æ¶æ„ï¼šæ¾è€¦åˆï¼Œæ‰©å±•æ€§å¥½ï¼Œä½†æ¶æ„å¤æ‚ï¼Œéš¾åº¦å¤§ã€‚é€‚åˆå¤§å‹äº’è”ç½‘é¡¹ç›®ï¼Œä¾‹å¦‚ï¼šäº¬ä¸œã€æ·˜å®</p></li><li><p>å¾®æœåŠ¡ï¼šä¸€ç§è‰¯å¥½çš„åˆ†å¸ƒå¼æ¶æ„æ–¹æ¡ˆ</p><p>â‘  ä¼˜ç‚¹ï¼šæ‹†åˆ†ç²’åº¦æ›´å°ã€æœåŠ¡æ›´ç‹¬ç«‹ã€è€¦åˆåº¦æ›´ä½</p><p>â‘¡ ç¼ºç‚¹ï¼šæ¶æ„éå¸¸å¤æ‚ï¼Œè¿ç»´ã€ç›‘æ§ã€éƒ¨ç½²éš¾åº¦æé«˜</p></li><li><p>SpringCloud æ˜¯å¾®æœåŠ¡æ¶æ„çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼Œé›†æˆäº†å„ç§ä¼˜ç§€å¾®æœåŠ¡åŠŸèƒ½ç»„ä»¶</p></li></ul><h1 id="_2-æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_2-æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨" aria-hidden="true">#</a> 2.æœåŠ¡æ‹†åˆ†å’Œè¿œç¨‹è°ƒç”¨</h1><p>ä»»ä½•åˆ†å¸ƒå¼æ¶æ„éƒ½ç¦»ä¸å¼€æœåŠ¡çš„æ‹†åˆ†ï¼Œå¾®æœåŠ¡ä¹Ÿæ˜¯ä¸€æ ·ã€‚</p><h2 id="_2-1-æœåŠ¡æ‹†åˆ†åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#_2-1-æœåŠ¡æ‹†åˆ†åŸåˆ™" aria-hidden="true">#</a> 2.1.æœåŠ¡æ‹†åˆ†åŸåˆ™</h2><p>è¿™é‡Œæˆ‘æ€»ç»“äº†å¾®æœåŠ¡æ‹†åˆ†æ—¶çš„å‡ ä¸ªåŸåˆ™ï¼š</p><ul><li>ä¸åŒå¾®æœåŠ¡ï¼Œä¸è¦é‡å¤å¼€å‘ç›¸åŒä¸šåŠ¡</li><li>å¾®æœåŠ¡æ•°æ®ç‹¬ç«‹ï¼Œä¸è¦è®¿é—®å…¶å®ƒå¾®æœåŠ¡çš„æ•°æ®åº“</li><li>å¾®æœåŠ¡å¯ä»¥å°†è‡ªå·±çš„ä¸šåŠ¡æš´éœ²ä¸ºæ¥å£ï¼Œä¾›å…¶å®ƒå¾®æœåŠ¡è°ƒç”¨</li></ul><p><img src="'+h+'" alt="image-20210713210800950"></p><h2 id="_2-2-æœåŠ¡æ‹†åˆ†ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-2-æœåŠ¡æ‹†åˆ†ç¤ºä¾‹" aria-hidden="true">#</a> 2.2.æœåŠ¡æ‹†åˆ†ç¤ºä¾‹</h2><p>ä»¥è¯¾å‰èµ„æ–™ä¸­çš„å¾®æœåŠ¡ cloud-demo ä¸ºä¾‹ï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="'+_+'" alt="image-20210713211009593"></p><p>cloud-demoï¼šçˆ¶å·¥ç¨‹ï¼Œç®¡ç†ä¾èµ–</p><ul><li>order-serviceï¼šè®¢å•å¾®æœåŠ¡ï¼Œè´Ÿè´£è®¢å•ç›¸å…³ä¸šåŠ¡</li><li>user-serviceï¼šç”¨æˆ·å¾®æœåŠ¡ï¼Œè´Ÿè´£ç”¨æˆ·ç›¸å…³ä¸šåŠ¡</li></ul><p>è¦æ±‚ï¼š</p><ul><li>è®¢å•å¾®æœåŠ¡å’Œç”¨æˆ·å¾®æœåŠ¡éƒ½å¿…é¡»æœ‰å„è‡ªçš„æ•°æ®åº“ï¼Œç›¸äº’ç‹¬ç«‹</li><li>è®¢å•æœåŠ¡å’Œç”¨æˆ·æœåŠ¡éƒ½å¯¹å¤–æš´éœ² Restful çš„æ¥å£</li><li>è®¢å•æœåŠ¡å¦‚æœéœ€è¦æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œåªèƒ½è°ƒç”¨ç”¨æˆ·æœåŠ¡çš„ Restful æ¥å£ï¼Œä¸èƒ½æŸ¥è¯¢ç”¨æˆ·æ•°æ®åº“</li></ul><h3 id="_2-2-1-å¯¼å…¥-sql-è¯­å¥" tabindex="-1"><a class="header-anchor" href="#_2-2-1-å¯¼å…¥-sql-è¯­å¥" aria-hidden="true">#</a> 2.2.1.å¯¼å…¥ Sql è¯­å¥</h3><p>é¦–å…ˆï¼Œå°†è¯¾å‰èµ„æ–™æä¾›çš„<code>cloud-order.sql</code>å’Œ<code>cloud-user.sql</code>å¯¼å…¥åˆ° mysql ä¸­ï¼š</p><p><img src="'+b+'" alt="image-20210713211417049"></p><p>cloud-user è¡¨ä¸­åˆå§‹æ•°æ®å¦‚ä¸‹ï¼š</p><p><img src="'+y+'" alt="image-20210713211550169"></p><p>cloud-order è¡¨ä¸­åˆå§‹æ•°æ®å¦‚ä¸‹ï¼š</p><p><img src="'+f+'" alt="image-20210713211657319"></p><p>cloud-order è¡¨ä¸­æŒæœ‰ cloud-user è¡¨ä¸­çš„ id å­—æ®µã€‚</p><h3 id="_2-2-2-å¯¼å…¥-demo-å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-2-2-å¯¼å…¥-demo-å·¥ç¨‹" aria-hidden="true">#</a> 2.2.2.å¯¼å…¥ demo å·¥ç¨‹</h3><p>ç”¨ IDEA å¯¼å…¥è¯¾å‰èµ„æ–™æä¾›çš„ Demoï¼š</p><p><img src="'+x+'" alt="image-20210713211814094"></p><p>é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="'+B+'" alt="image-20210713212656887"></p><p>å¯¼å…¥åï¼Œä¼šåœ¨ IDEA å³ä¸‹è§’å‡ºç°å¼¹çª—ï¼š</p><p><img src="'+M+'" alt="image-20210713212349272"></p><p>ç‚¹å‡»å¼¹çª—ï¼Œç„¶åæŒ‰ä¸‹å›¾é€‰æ‹©ï¼š</p><p><img src="'+R+'" alt="image-20210713212336185"></p><p>ä¼šå‡ºç°è¿™æ ·çš„èœå•ï¼š</p><p><img src="'+S+'" alt="image-20210713212513324"></p><p>é…ç½®ä¸‹é¡¹ç›®ä½¿ç”¨çš„ JDKï¼š</p><p><img src="'+I+'" alt="image-20210713220736408"></p><h2 id="_2-3-å®ç°è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-3-å®ç°è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹" aria-hidden="true">#</a> 2.3.å®ç°è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹</h2><p>åœ¨ order-service æœåŠ¡ä¸­ï¼Œæœ‰ä¸€ä¸ªæ ¹æ® id æŸ¥è¯¢è®¢å•çš„æ¥å£ï¼š</p><p><img src="'+w+'" alt="image-20210713212749575"></p><p>æ ¹æ® id æŸ¥è¯¢è®¢å•ï¼Œè¿”å›å€¼æ˜¯ Order å¯¹è±¡ï¼Œå¦‚å›¾ï¼š</p><p><img src="'+A+'" alt="image-20210713212901725"></p><p>å…¶ä¸­çš„ user ä¸º null</p><p>åœ¨ user-service ä¸­æœ‰ä¸€ä¸ªæ ¹æ® id æŸ¥è¯¢ç”¨æˆ·çš„æ¥å£ï¼š</p><p><img src="'+C+'" alt="image-20210713213146089"></p><p>æŸ¥è¯¢çš„ç»“æœå¦‚å›¾ï¼š</p><p><img src="'+N+'" alt="image-20210713213213075"></p><h3 id="_2-3-1-æ¡ˆä¾‹éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#_2-3-1-æ¡ˆä¾‹éœ€æ±‚" aria-hidden="true">#</a> 2.3.1.æ¡ˆä¾‹éœ€æ±‚ï¼š</h3><p>ä¿®æ”¹ order-service ä¸­çš„æ ¹æ® id æŸ¥è¯¢è®¢å•ä¸šåŠ¡ï¼Œè¦æ±‚åœ¨æŸ¥è¯¢è®¢å•çš„åŒæ—¶ï¼Œæ ¹æ®è®¢å•ä¸­åŒ…å«çš„ userId æŸ¥è¯¢å‡ºç”¨æˆ·ä¿¡æ¯ï¼Œä¸€èµ·è¿”å›ã€‚</p><p><img src="'+E+`" alt="image-20210713213312278"></p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ order-service ä¸­ å‘ user-service å‘èµ·ä¸€ä¸ª http çš„è¯·æ±‚ï¼Œè°ƒç”¨ http://localhost:8081/user/{userId}è¿™ä¸ªæ¥å£ã€‚</p><p>å¤§æ¦‚çš„æ­¥éª¤æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>æ³¨å†Œä¸€ä¸ª RestTemplate çš„å®ä¾‹åˆ° Spring å®¹å™¨</li><li>ä¿®æ”¹ order-service æœåŠ¡ä¸­çš„ OrderService ç±»ä¸­çš„ queryOrderById æ–¹æ³•ï¼Œæ ¹æ® Order å¯¹è±¡ä¸­çš„ userId æŸ¥è¯¢ User</li><li>å°†æŸ¥è¯¢çš„ User å¡«å……åˆ° Order å¯¹è±¡ï¼Œä¸€èµ·è¿”å›</li></ul><h3 id="_2-3-2-æ³¨å†Œ-resttemplate" tabindex="-1"><a class="header-anchor" href="#_2-3-2-æ³¨å†Œ-resttemplate" aria-hidden="true">#</a> 2.3.2.æ³¨å†Œ RestTemplate</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ order-service æœåŠ¡ä¸­çš„ OrderApplication å¯åŠ¨ç±»ä¸­ï¼Œæ³¨å†Œ RestTemplate å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>order</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">MapperScan</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">RestTemplate</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">&quot;cn.itcast.order.mapper&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">restTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-3-å®ç°è¿œç¨‹è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_2-3-3-å®ç°è¿œç¨‹è°ƒç”¨" aria-hidden="true">#</a> 2.3.3.å®ç°è¿œç¨‹è°ƒç”¨</h3><p>ä¿®æ”¹ order-service æœåŠ¡ä¸­çš„ cn.itcast.order.service åŒ…ä¸‹çš„ OrderService ç±»ä¸­çš„ queryOrderById æ–¹æ³•ï¼š</p><p><img src="`+q+'" alt="image-20210713213959569"></p><h2 id="_2-4-æä¾›è€…ä¸æ¶ˆè´¹è€…" tabindex="-1"><a class="header-anchor" href="#_2-4-æä¾›è€…ä¸æ¶ˆè´¹è€…" aria-hidden="true">#</a> 2.4.æä¾›è€…ä¸æ¶ˆè´¹è€…</h2><p>åœ¨æœåŠ¡è°ƒç”¨å…³ç³»ä¸­ï¼Œä¼šæœ‰ä¸¤ä¸ªä¸åŒçš„è§’è‰²ï¼š</p><p><strong>æœåŠ¡æä¾›è€…</strong>ï¼šä¸€æ¬¡ä¸šåŠ¡ä¸­ï¼Œè¢«å…¶å®ƒå¾®æœåŠ¡è°ƒç”¨çš„æœåŠ¡ã€‚ï¼ˆæä¾›æ¥å£ç»™å…¶å®ƒå¾®æœåŠ¡ï¼‰</p><p><strong>æœåŠ¡æ¶ˆè´¹è€…</strong>ï¼šä¸€æ¬¡ä¸šåŠ¡ä¸­ï¼Œè°ƒç”¨å…¶å®ƒå¾®æœåŠ¡çš„æœåŠ¡ã€‚ï¼ˆè°ƒç”¨å…¶å®ƒå¾®æœåŠ¡æä¾›çš„æ¥å£ï¼‰</p><p><img src="'+L+'" alt="image-20210713214404481"></p><p>ä½†æ˜¯ï¼ŒæœåŠ¡æä¾›è€…ä¸æœåŠ¡æ¶ˆè´¹è€…çš„è§’è‰²å¹¶ä¸æ˜¯ç»å¯¹çš„ï¼Œè€Œæ˜¯ç›¸å¯¹äºä¸šåŠ¡è€Œè¨€ã€‚</p><p>å¦‚æœæœåŠ¡ A è°ƒç”¨äº†æœåŠ¡ Bï¼Œè€ŒæœåŠ¡ B åˆè°ƒç”¨äº†æœåŠ¡ Cï¼ŒæœåŠ¡ B çš„è§’è‰²æ˜¯ä»€ä¹ˆï¼Ÿ</p><ul><li>å¯¹äº A è°ƒç”¨ B çš„ä¸šåŠ¡è€Œè¨€ï¼šA æ˜¯æœåŠ¡æ¶ˆè´¹è€…ï¼ŒB æ˜¯æœåŠ¡æä¾›è€…</li><li>å¯¹äº B è°ƒç”¨ C çš„ä¸šåŠ¡è€Œè¨€ï¼šB æ˜¯æœåŠ¡æ¶ˆè´¹è€…ï¼ŒC æ˜¯æœåŠ¡æä¾›è€…</li></ul><p>å› æ­¤ï¼ŒæœåŠ¡ B æ—¢å¯ä»¥æ˜¯æœåŠ¡æä¾›è€…ï¼Œä¹Ÿå¯ä»¥æ˜¯æœåŠ¡æ¶ˆè´¹è€…ã€‚</p><h1 id="_3-eureka-æ³¨å†Œä¸­å¿ƒ" tabindex="-1"><a class="header-anchor" href="#_3-eureka-æ³¨å†Œä¸­å¿ƒ" aria-hidden="true">#</a> 3.Eureka æ³¨å†Œä¸­å¿ƒ</h1><p>å‡å¦‚æˆ‘ä»¬çš„æœåŠ¡æä¾›è€… user-service éƒ¨ç½²äº†å¤šä¸ªå®ä¾‹ï¼Œå¦‚å›¾ï¼š</p><p><img src="'+O+'" alt="image-20210713214925388"></p><p>å¤§å®¶æ€è€ƒå‡ ä¸ªé—®é¢˜ï¼š</p><ul><li>order-service åœ¨å‘èµ·è¿œç¨‹è°ƒç”¨çš„æ—¶å€™ï¼Œè¯¥å¦‚ä½•å¾—çŸ¥ user-service å®ä¾‹çš„ ip åœ°å€å’Œç«¯å£ï¼Ÿ</li><li>æœ‰å¤šä¸ª user-service å®ä¾‹åœ°å€ï¼Œorder-service è°ƒç”¨æ—¶è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ</li><li>order-service å¦‚ä½•å¾—çŸ¥æŸä¸ª user-service å®ä¾‹æ˜¯å¦ä¾ç„¶å¥åº·ï¼Œæ˜¯ä¸æ˜¯å·²ç»å®•æœºï¼Ÿ</li></ul><h2 id="_3-1-eureka-çš„ç»“æ„å’Œä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_3-1-eureka-çš„ç»“æ„å’Œä½œç”¨" aria-hidden="true">#</a> 3.1.Eureka çš„ç»“æ„å’Œä½œç”¨</h2><p>è¿™äº›é—®é¢˜éƒ½éœ€è¦åˆ©ç”¨ SpringCloud ä¸­çš„æ³¨å†Œä¸­å¿ƒæ¥è§£å†³ï¼Œå…¶ä¸­æœ€å¹¿ä¸ºäººçŸ¥çš„æ³¨å†Œä¸­å¿ƒå°±æ˜¯ Eurekaï¼Œå…¶ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="'+T+'" alt="image-20210713220104956"></p><p>å›ç­”ä¹‹å‰çš„å„ä¸ªé—®é¢˜ã€‚</p><p>é—®é¢˜ 1ï¼šorder-service å¦‚ä½•å¾—çŸ¥ user-service å®ä¾‹åœ°å€ï¼Ÿ</p><p>è·å–åœ°å€ä¿¡æ¯çš„æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>user-service æœåŠ¡å®ä¾‹å¯åŠ¨åï¼Œå°†è‡ªå·±çš„ä¿¡æ¯æ³¨å†Œåˆ° eureka-serverï¼ˆEureka æœåŠ¡ç«¯ï¼‰ã€‚è¿™ä¸ªå«æœåŠ¡æ³¨å†Œ</li><li>eureka-server ä¿å­˜æœåŠ¡åç§°åˆ°æœåŠ¡å®ä¾‹åœ°å€åˆ—è¡¨çš„æ˜ å°„å…³ç³»</li><li>order-service æ ¹æ®æœåŠ¡åç§°ï¼Œæ‹‰å–å®ä¾‹åœ°å€åˆ—è¡¨ã€‚è¿™ä¸ªå«æœåŠ¡å‘ç°æˆ–æœåŠ¡æ‹‰å–</li></ul><p>é—®é¢˜ 2ï¼šorder-service å¦‚ä½•ä»å¤šä¸ª user-service å®ä¾‹ä¸­é€‰æ‹©å…·ä½“çš„å®ä¾‹ï¼Ÿ</p><ul><li>order-service ä»å®ä¾‹åˆ—è¡¨ä¸­åˆ©ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•é€‰ä¸­ä¸€ä¸ªå®ä¾‹åœ°å€</li><li>å‘è¯¥å®ä¾‹åœ°å€å‘èµ·è¿œç¨‹è°ƒç”¨</li></ul><p>é—®é¢˜ 3ï¼šorder-service å¦‚ä½•å¾—çŸ¥æŸä¸ª user-service å®ä¾‹æ˜¯å¦ä¾ç„¶å¥åº·ï¼Œæ˜¯ä¸æ˜¯å·²ç»å®•æœºï¼Ÿ</p><ul><li>user-service ä¼šæ¯éš”ä¸€æ®µæ—¶é—´ï¼ˆé»˜è®¤ 30 ç§’ï¼‰å‘ eureka-server å‘èµ·è¯·æ±‚ï¼ŒæŠ¥å‘Šè‡ªå·±çŠ¶æ€ï¼Œç§°ä¸ºå¿ƒè·³</li><li>å½“è¶…è¿‡ä¸€å®šæ—¶é—´æ²¡æœ‰å‘é€å¿ƒè·³æ—¶ï¼Œeureka-server ä¼šè®¤ä¸ºå¾®æœåŠ¡å®ä¾‹æ•…éšœï¼Œå°†è¯¥å®ä¾‹ä»æœåŠ¡åˆ—è¡¨ä¸­å‰”é™¤</li><li>order-service æ‹‰å–æœåŠ¡æ—¶ï¼Œå°±èƒ½å°†æ•…éšœå®ä¾‹æ’é™¤äº†</li></ul><blockquote><p>æ³¨æ„ï¼šä¸€ä¸ªå¾®æœåŠ¡ï¼Œæ—¢å¯ä»¥æ˜¯æœåŠ¡æä¾›è€…ï¼Œåˆå¯ä»¥æ˜¯æœåŠ¡æ¶ˆè´¹è€…ï¼Œå› æ­¤ eureka å°†æœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç°ç­‰åŠŸèƒ½ç»Ÿä¸€å°è£…åˆ°äº† eureka-client ç«¯</p></blockquote><p>å› æ­¤ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åŠ¨æ‰‹å®è·µçš„æ­¥éª¤åŒ…æ‹¬ï¼š</p><p><img src="'+Z+'" alt="image-20210713220509769"></p><h2 id="_3-2-æ­å»º-eureka-server" tabindex="-1"><a class="header-anchor" href="#_3-2-æ­å»º-eureka-server" aria-hidden="true">#</a> 3.2.æ­å»º eureka-server</h2><p>é¦–å…ˆå¤§å®¶æ³¨å†Œä¸­å¿ƒæœåŠ¡ç«¯ï¼šeureka-serverï¼Œè¿™å¿…é¡»æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡</p><h3 id="_3-2-1-åˆ›å»º-eureka-server-æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_3-2-1-åˆ›å»º-eureka-server-æœåŠ¡" aria-hidden="true">#</a> 3.2.1.åˆ›å»º eureka-server æœåŠ¡</h3><p>åœ¨ cloud-demo çˆ¶å·¥ç¨‹ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªå­æ¨¡å—ï¼š</p><p><img src="'+j+'" alt="image-20210713220605881"></p><p>å¡«å†™æ¨¡å—ä¿¡æ¯ï¼š</p><p><img src="'+D+'" alt="image-20210713220857396"></p><p>ç„¶åå¡«å†™æœåŠ¡ä¿¡æ¯ï¼š</p><p><img src="'+H+`" alt="image-20210713221339022"></p><h3 id="_3-2-2-å¼•å…¥-eureka-ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_3-2-2-å¼•å…¥-eureka-ä¾èµ–" aria-hidden="true">#</a> 3.2.2.å¼•å…¥ eureka ä¾èµ–</h3><p>å¼•å…¥ SpringCloud ä¸º eureka æä¾›çš„ starter ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-3-ç¼–å†™å¯åŠ¨ç±»" tabindex="-1"><a class="header-anchor" href="#_3-2-3-ç¼–å†™å¯åŠ¨ç±»" aria-hidden="true">#</a> 3.2.3.ç¼–å†™å¯åŠ¨ç±»</h3><p>ç»™ eureka-server æœåŠ¡ç¼–å†™ä¸€ä¸ªå¯åŠ¨ç±»ï¼Œä¸€å®šè¦æ·»åŠ ä¸€ä¸ª@EnableEurekaServer æ³¨è§£ï¼Œå¼€å¯ eureka çš„æ³¨å†Œä¸­å¿ƒåŠŸèƒ½ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>itcast<span class="token punctuation">.</span>eureka</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaServer</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaServer</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-4-ç¼–å†™é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-2-4-ç¼–å†™é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 3.2.4.ç¼–å†™é…ç½®æ–‡ä»¶</h3><p>ç¼–å†™ä¸€ä¸ª application.yml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">10086</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>server
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>10086/eureka
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-5-å¯åŠ¨æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_3-2-5-å¯åŠ¨æœåŠ¡" aria-hidden="true">#</a> 3.2.5.å¯åŠ¨æœåŠ¡</h3><p>å¯åŠ¨å¾®æœåŠ¡ï¼Œç„¶ååœ¨æµè§ˆå™¨è®¿é—®ï¼šhttp://127.0.0.1:10086</p><p>çœ‹åˆ°ä¸‹é¢ç»“æœåº”è¯¥æ˜¯æˆåŠŸäº†ï¼š</p><p><img src="`+U+`" alt="image-20210713222157190"></p><h2 id="_3-3-æœåŠ¡æ³¨å†Œ" tabindex="-1"><a class="header-anchor" href="#_3-3-æœåŠ¡æ³¨å†Œ" aria-hidden="true">#</a> 3.3.æœåŠ¡æ³¨å†Œ</h2><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°† user-service æ³¨å†Œåˆ° eureka-server ä¸­å»ã€‚</p><h3 id="_1-å¼•å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_1-å¼•å…¥ä¾èµ–" aria-hidden="true">#</a> 1ï¼‰å¼•å…¥ä¾èµ–</h3><p>åœ¨ user-service çš„ pom æ–‡ä»¶ä¸­ï¼Œå¼•å…¥ä¸‹é¢çš„ eureka-client ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 2ï¼‰é…ç½®æ–‡ä»¶</h3><p>åœ¨ user-service ä¸­ï¼Œä¿®æ”¹ application.yml æ–‡ä»¶ï¼Œæ·»åŠ æœåŠ¡åç§°ã€eureka åœ°å€ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> userservice
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>10086/eureka
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-å¯åŠ¨å¤šä¸ª-user-service-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_3-å¯åŠ¨å¤šä¸ª-user-service-å®ä¾‹" aria-hidden="true">#</a> 3ï¼‰å¯åŠ¨å¤šä¸ª user-service å®ä¾‹</h3><p>ä¸ºäº†æ¼”ç¤ºä¸€ä¸ªæœåŠ¡æœ‰å¤šä¸ªå®ä¾‹çš„åœºæ™¯ï¼Œæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª SpringBoot çš„å¯åŠ¨é…ç½®ï¼Œå†å¯åŠ¨ä¸€ä¸ª user-serviceã€‚</p><p>é¦–å…ˆï¼Œå¤åˆ¶åŸæ¥çš„ user-service å¯åŠ¨é…ç½®ï¼š</p><p><img src="`+F+'" alt="image-20210713222656562"></p><p>ç„¶åï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œå¡«å†™ä¿¡æ¯ï¼š</p><p><img src="'+V+'" alt="image-20210713222757702"></p><p>ç°åœ¨ï¼ŒSpringBoot çª—å£ä¼šå‡ºç°ä¸¤ä¸ª user-service å¯åŠ¨é…ç½®ï¼š</p><p><img src="'+P+'" alt="image-20210713222841951"></p><p>ä¸è¿‡ï¼Œç¬¬ä¸€ä¸ªæ˜¯ 8081 ç«¯å£ï¼Œç¬¬äºŒä¸ªæ˜¯ 8082 ç«¯å£ã€‚</p><p>å¯åŠ¨ä¸¤ä¸ª user-service å®ä¾‹ï¼š</p><p><img src="'+J+'" alt="image-20210713223041491"></p><p>æŸ¥çœ‹ eureka-server ç®¡ç†é¡µé¢ï¼š</p><p><img src="'+K+`" alt="image-20210713223150650"></p><h2 id="_3-4-æœåŠ¡å‘ç°" tabindex="-1"><a class="header-anchor" href="#_3-4-æœåŠ¡å‘ç°" aria-hidden="true">#</a> 3.4.æœåŠ¡å‘ç°</h2><p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°† order-service çš„é€»è¾‘ä¿®æ”¹ï¼šå‘ eureka-server æ‹‰å– user-service çš„ä¿¡æ¯ï¼Œå®ç°æœåŠ¡å‘ç°ã€‚</p><h3 id="_1-å¼•å…¥ä¾èµ–-1" tabindex="-1"><a class="header-anchor" href="#_1-å¼•å…¥ä¾èµ–-1" aria-hidden="true">#</a> 1ï¼‰å¼•å…¥ä¾èµ–</h3><p>ä¹‹å‰è¯´è¿‡ï¼ŒæœåŠ¡å‘ç°ã€æœåŠ¡æ³¨å†Œç»Ÿä¸€éƒ½å°è£…åœ¨ eureka-client ä¾èµ–ï¼Œå› æ­¤è¿™ä¸€æ­¥ä¸æœåŠ¡æ³¨å†Œæ—¶ä¸€è‡´ã€‚</p><p>åœ¨ order-service çš„ pom æ–‡ä»¶ä¸­ï¼Œå¼•å…¥ä¸‹é¢çš„ eureka-client ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-é…ç½®æ–‡ä»¶-1" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®æ–‡ä»¶-1" aria-hidden="true">#</a> 2ï¼‰é…ç½®æ–‡ä»¶</h3><p>æœåŠ¡å‘ç°ä¹Ÿéœ€è¦çŸ¥é“ eureka åœ°å€ï¼Œå› æ­¤ç¬¬äºŒæ­¥ä¸æœåŠ¡æ³¨å†Œä¸€è‡´ï¼Œéƒ½æ˜¯é…ç½® eureka ä¿¡æ¯ï¼š</p><p>åœ¨ order-service ä¸­ï¼Œä¿®æ”¹ application.yml æ–‡ä»¶ï¼Œæ·»åŠ æœåŠ¡åç§°ã€eureka åœ°å€ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> orderservice
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>10086/eureka
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æœåŠ¡æ‹‰å–å’Œè´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#_3-æœåŠ¡æ‹‰å–å’Œè´Ÿè½½å‡è¡¡" aria-hidden="true">#</a> 3ï¼‰æœåŠ¡æ‹‰å–å’Œè´Ÿè½½å‡è¡¡</h3><p>æœ€åï¼Œæˆ‘ä»¬è¦å» eureka-server ä¸­æ‹‰å– user-service æœåŠ¡çš„å®ä¾‹åˆ—è¡¨ï¼Œå¹¶ä¸”å®ç°è´Ÿè½½å‡è¡¡ã€‚</p><p>ä¸è¿‡è¿™äº›åŠ¨ä½œä¸ç”¨æˆ‘ä»¬å»åšï¼Œåªéœ€è¦æ·»åŠ ä¸€äº›æ³¨è§£å³å¯ã€‚</p><p>åœ¨ order-service çš„ OrderApplication ä¸­ï¼Œç»™ RestTemplate è¿™ä¸ª Bean æ·»åŠ ä¸€ä¸ª@LoadBalanced æ³¨è§£ï¼š</p><p><img src="`+W+'" alt="image-20210713224049419"></p><p>ä¿®æ”¹ order-service æœåŠ¡ä¸­çš„ cn.itcast.order.service åŒ…ä¸‹çš„ OrderService ç±»ä¸­çš„ queryOrderById æ–¹æ³•ã€‚ä¿®æ”¹è®¿é—®çš„ url è·¯å¾„ï¼Œç”¨æœåŠ¡åä»£æ›¿ ipã€ç«¯å£ï¼š</p><p><img src="'+z+'" alt="image-20210713224245731"></p><p>spring ä¼šè‡ªåŠ¨å¸®åŠ©æˆ‘ä»¬ä» eureka-server ç«¯ï¼Œæ ¹æ® userservice è¿™ä¸ªæœåŠ¡åç§°ï¼Œè·å–å®ä¾‹åˆ—è¡¨ï¼Œè€Œåå®Œæˆè´Ÿè½½å‡è¡¡ã€‚</p><h1 id="_4-ribbon-è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#_4-ribbon-è´Ÿè½½å‡è¡¡" aria-hidden="true">#</a> 4.Ribbon è´Ÿè½½å‡è¡¡</h1><p>ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ·»åŠ äº†@LoadBalanced æ³¨è§£ï¼Œå³å¯å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸç†å‘¢ï¼Ÿ</p><h2 id="_4-1-è´Ÿè½½å‡è¡¡åŸç†" tabindex="-1"><a class="header-anchor" href="#_4-1-è´Ÿè½½å‡è¡¡åŸç†" aria-hidden="true">#</a> 4.1.è´Ÿè½½å‡è¡¡åŸç†</h2><p>SpringCloud åº•å±‚å…¶å®æ˜¯åˆ©ç”¨äº†ä¸€ä¸ªåä¸º Ribbon çš„ç»„ä»¶ï¼Œæ¥å®ç°è´Ÿè½½å‡è¡¡åŠŸèƒ½çš„ã€‚</p><p><img src="'+G+'" alt="image-20210713224517686"></p><p>é‚£ä¹ˆæˆ‘ä»¬å‘å‡ºçš„è¯·æ±‚æ˜æ˜æ˜¯ http://userservice/user/1ï¼Œæ€ä¹ˆå˜æˆäº† http://localhost:8081 çš„å‘¢ï¼Ÿ</p><h2 id="_4-2-æºç è·Ÿè¸ª" tabindex="-1"><a class="header-anchor" href="#_4-2-æºç è·Ÿè¸ª" aria-hidden="true">#</a> 4.2.æºç è·Ÿè¸ª</h2><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬åªè¾“å…¥äº† service åç§°å°±å¯ä»¥è®¿é—®äº†å‘¢ï¼Ÿä¹‹å‰è¿˜è¦è·å– ip å’Œç«¯å£ã€‚</p><p>æ˜¾ç„¶æœ‰äººå¸®æˆ‘ä»¬æ ¹æ® service åç§°ï¼Œè·å–åˆ°äº†æœåŠ¡å®ä¾‹çš„ ip å’Œç«¯å£ã€‚å®ƒå°±æ˜¯<code>LoadBalancerInterceptor</code>ï¼Œè¿™ä¸ªç±»ä¼šåœ¨å¯¹ RestTemplate çš„è¯·æ±‚è¿›è¡Œæ‹¦æˆªï¼Œç„¶åä» Eureka æ ¹æ®æœåŠ¡ id è·å–æœåŠ¡åˆ—è¡¨ï¼Œéšååˆ©ç”¨è´Ÿè½½å‡è¡¡ç®—æ³•å¾—åˆ°çœŸå®çš„æœåŠ¡åœ°å€ä¿¡æ¯ï¼Œæ›¿æ¢æœåŠ¡ idã€‚</p><p>æˆ‘ä»¬è¿›è¡Œæºç è·Ÿè¸ªï¼š</p><h3 id="_1-loadbalancerintercepor" tabindex="-1"><a class="header-anchor" href="#_1-loadbalancerintercepor" aria-hidden="true">#</a> 1ï¼‰LoadBalancerIntercepor</h3><p><img src="'+Q+'" alt="1525620483637"></p><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„ intercept æ–¹æ³•ï¼Œæ‹¦æˆªäº†ç”¨æˆ·çš„ HttpRequest è¯·æ±‚ï¼Œç„¶ååšäº†å‡ ä»¶äº‹ï¼š</p><ul><li><code>request.getURI()</code>ï¼šè·å–è¯·æ±‚ uriï¼Œæœ¬ä¾‹ä¸­å°±æ˜¯ http://user-service/user/8</li><li><code>originalUri.getHost()</code>ï¼šè·å– uri è·¯å¾„çš„ä¸»æœºåï¼Œå…¶å®å°±æ˜¯æœåŠ¡ idï¼Œ<code>user-service</code></li><li><code>this.loadBalancer.execute()</code>ï¼šå¤„ç†æœåŠ¡ idï¼Œå’Œç”¨æˆ·è¯·æ±‚ã€‚</li></ul><p>è¿™é‡Œçš„<code>this.loadBalancer</code>æ˜¯<code>LoadBalancerClient</code>ç±»å‹ï¼Œæˆ‘ä»¬ç»§ç»­è·Ÿå…¥ã€‚</p><h3 id="_2-loadbalancerclient" tabindex="-1"><a class="header-anchor" href="#_2-loadbalancerclient" aria-hidden="true">#</a> 2ï¼‰LoadBalancerClient</h3><p>ç»§ç»­è·Ÿå…¥ execute æ–¹æ³•ï¼š</p><p><img src="'+X+'" alt="1525620787090"></p><p>ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>getLoadBalancer(serviceId)ï¼šæ ¹æ®æœåŠ¡ id è·å– ILoadBalancerï¼Œè€Œ ILoadBalancer ä¼šæ‹¿ç€æœåŠ¡ id å» eureka ä¸­è·å–æœåŠ¡åˆ—è¡¨å¹¶ä¿å­˜èµ·æ¥ã€‚</li><li>getServer(loadBalancer)ï¼šåˆ©ç”¨å†…ç½®çš„è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œä»æœåŠ¡åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªã€‚æœ¬ä¾‹ä¸­ï¼Œå¯ä»¥çœ‹åˆ°è·å–äº† 8082 ç«¯å£çš„æœåŠ¡</li></ul><p>æ”¾è¡Œåï¼Œå†æ¬¡è®¿é—®å¹¶è·Ÿè¸ªï¼Œå‘ç°è·å–çš„æ˜¯ 8081ï¼š</p><p><img src="'+i+'" alt="1525620835911"></p><p>æœç„¶å®ç°äº†è´Ÿè½½å‡è¡¡ã€‚</p><h3 id="_3-è´Ÿè½½å‡è¡¡ç­–ç•¥-irule" tabindex="-1"><a class="header-anchor" href="#_3-è´Ÿè½½å‡è¡¡ç­–ç•¥-irule" aria-hidden="true">#</a> 3ï¼‰è´Ÿè½½å‡è¡¡ç­–ç•¥ IRule</h3><p>åœ¨åˆšæ‰çš„ä»£ç ä¸­ï¼Œå¯ä»¥çœ‹åˆ°è·å–æœåŠ¡ä½¿é€šè¿‡ä¸€ä¸ª<code>getServer</code>æ–¹æ³•æ¥åšè´Ÿè½½å‡è¡¡:</p><p><img src="'+i+'" alt="1525620835911"></p><p>æˆ‘ä»¬ç»§ç»­è·Ÿå…¥ï¼š</p><p><img src="'+Y+'" alt="1544361421671"></p><p>ç»§ç»­è·Ÿè¸ªæºç  chooseServer æ–¹æ³•ï¼Œå‘ç°è¿™ä¹ˆä¸€æ®µä»£ç ï¼š</p><p><img src="'+$+'" alt="1525622652849"></p><p>æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ª rule æ˜¯è°ï¼š</p><p><img src="'+aa+'" alt="1525622699666"></p><p>è¿™é‡Œçš„ rule é»˜è®¤å€¼æ˜¯ä¸€ä¸ª<code>RoundRobinRule</code>ï¼Œçœ‹ç±»çš„ä»‹ç»ï¼š</p><p><img src="'+sa+'" alt="1525622754316"></p><p>è¿™ä¸å°±æ˜¯è½®è¯¢çš„æ„æ€å˜›ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæ•´ä¸ªè´Ÿè½½å‡è¡¡çš„æµç¨‹æˆ‘ä»¬å°±æ¸…æ¥šäº†ã€‚</p><h3 id="_4-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_4-æ€»ç»“" aria-hidden="true">#</a> 4ï¼‰æ€»ç»“</h3><p>SpringCloudRibbon çš„åº•å±‚é‡‡ç”¨äº†ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œæ‹¦æˆªäº† RestTemplate å‘å‡ºçš„è¯·æ±‚ï¼Œå¯¹åœ°å€åšäº†ä¿®æ”¹ã€‚ç”¨ä¸€å¹…å›¾æ¥æ€»ç»“ä¸€ä¸‹ï¼š</p><p><img src="'+na+'" alt="image-20210713224724673"></p><p>åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>æ‹¦æˆªæˆ‘ä»¬çš„ RestTemplate è¯·æ±‚ http://userservice/user/1</li><li>RibbonLoadBalancerClient ä¼šä»è¯·æ±‚ url ä¸­è·å–æœåŠ¡åç§°ï¼Œä¹Ÿå°±æ˜¯ user-service</li><li>DynamicServerListLoadBalancer æ ¹æ® user-service åˆ° eureka æ‹‰å–æœåŠ¡åˆ—è¡¨</li><li>eureka è¿”å›åˆ—è¡¨ï¼Œlocalhost:8081ã€localhost:8082</li><li>IRule åˆ©ç”¨å†…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œä»åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªï¼Œä¾‹å¦‚ localhost:8081</li><li>RibbonLoadBalancerClient ä¿®æ”¹è¯·æ±‚åœ°å€ï¼Œç”¨ localhost:8081 æ›¿ä»£ userserviceï¼Œå¾—åˆ° http://localhost:8081/user/1ï¼Œå‘èµ·çœŸå®è¯·æ±‚</li></ul><h2 id="_4-3-è´Ÿè½½å‡è¡¡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_4-3-è´Ÿè½½å‡è¡¡ç­–ç•¥" aria-hidden="true">#</a> 4.3.è´Ÿè½½å‡è¡¡ç­–ç•¥</h2><h3 id="_4-3-1-è´Ÿè½½å‡è¡¡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_4-3-1-è´Ÿè½½å‡è¡¡ç­–ç•¥" aria-hidden="true">#</a> 4.3.1.è´Ÿè½½å‡è¡¡ç­–ç•¥</h3><p>è´Ÿè½½å‡è¡¡çš„è§„åˆ™éƒ½å®šä¹‰åœ¨ IRule æ¥å£ä¸­ï¼Œè€Œ IRule æœ‰å¾ˆå¤šä¸åŒçš„å®ç°ç±»ï¼š</p><p><img src="'+ea+`" alt="image-20210713225653000"></p><p>ä¸åŒè§„åˆ™çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><table><thead><tr><th><strong>å†…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ç±»</strong></th><th><strong>è§„åˆ™æè¿°</strong></th></tr></thead><tbody><tr><td>RoundRobinRule</td><td>ç®€å•è½®è¯¢æœåŠ¡åˆ—è¡¨æ¥é€‰æ‹©æœåŠ¡å™¨ã€‚å®ƒæ˜¯ Ribbon é»˜è®¤çš„è´Ÿè½½å‡è¡¡è§„åˆ™ã€‚</td></tr><tr><td>AvailabilityFilteringRule</td><td>å¯¹ä»¥ä¸‹ä¸¤ç§æœåŠ¡å™¨è¿›è¡Œå¿½ç•¥ï¼š ï¼ˆ1ï¼‰åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™å°æœåŠ¡å™¨å¦‚æœ 3 æ¬¡è¿æ¥å¤±è´¥ï¼Œè¿™å°æœåŠ¡å™¨å°±ä¼šè¢«è®¾ç½®ä¸ºâ€œçŸ­è·¯â€çŠ¶æ€ã€‚çŸ­è·¯çŠ¶æ€å°†æŒç»­ 30 ç§’ï¼Œå¦‚æœå†æ¬¡è¿æ¥å¤±è´¥ï¼ŒçŸ­è·¯çš„æŒç»­æ—¶é—´å°±ä¼šå‡ ä½•çº§åœ°å¢åŠ ã€‚ ï¼ˆ2ï¼‰å¹¶å‘æ•°è¿‡é«˜çš„æœåŠ¡å™¨ã€‚å¦‚æœä¸€ä¸ªæœåŠ¡å™¨çš„å¹¶å‘è¿æ¥æ•°è¿‡é«˜ï¼Œé…ç½®äº† AvailabilityFilteringRule è§„åˆ™çš„å®¢æˆ·ç«¯ä¹Ÿä¼šå°†å…¶å¿½ç•¥ã€‚å¹¶å‘è¿æ¥æ•°çš„ä¸Šé™ï¼Œå¯ä»¥ç”±å®¢æˆ·ç«¯çš„<code>&lt;clientName&gt;</code>.<code>&lt;clientConfigNameSpace&gt;</code>.ActiveConnectionsLimit å±æ€§è¿›è¡Œé…ç½®ã€‚</td></tr><tr><td>WeightedResponseTimeRule</td><td>ä¸ºæ¯ä¸€ä¸ªæœåŠ¡å™¨èµ‹äºˆä¸€ä¸ªæƒé‡å€¼ã€‚æœåŠ¡å™¨å“åº”æ—¶é—´è¶Šé•¿ï¼Œè¿™ä¸ªæœåŠ¡å™¨çš„æƒé‡å°±è¶Šå°ã€‚è¿™ä¸ªè§„åˆ™ä¼šéšæœºé€‰æ‹©æœåŠ¡å™¨ï¼Œè¿™ä¸ªæƒé‡å€¼ä¼šå½±å“æœåŠ¡å™¨çš„é€‰æ‹©ã€‚</td></tr><tr><td><strong>ZoneAvoidanceRule</strong></td><td>ä»¥åŒºåŸŸå¯ç”¨çš„æœåŠ¡å™¨ä¸ºåŸºç¡€è¿›è¡ŒæœåŠ¡å™¨çš„é€‰æ‹©ã€‚ä½¿ç”¨ Zone å¯¹æœåŠ¡å™¨è¿›è¡Œåˆ†ç±»ï¼Œè¿™ä¸ª Zone å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœºæˆ¿ã€ä¸€ä¸ªæœºæ¶ç­‰ã€‚è€Œåå†å¯¹ Zone å†…çš„å¤šä¸ªæœåŠ¡åšè½®è¯¢ã€‚</td></tr><tr><td>BestAvailableRule</td><td>å¿½ç•¥é‚£äº›çŸ­è·¯çš„æœåŠ¡å™¨ï¼Œå¹¶é€‰æ‹©å¹¶å‘æ•°è¾ƒä½çš„æœåŠ¡å™¨ã€‚</td></tr><tr><td>RandomRule</td><td>éšæœºé€‰æ‹©ä¸€ä¸ªå¯ç”¨çš„æœåŠ¡å™¨ã€‚</td></tr><tr><td>RetryRule</td><td>é‡è¯•æœºåˆ¶çš„é€‰æ‹©é€»è¾‘</td></tr></tbody></table><p>é»˜è®¤çš„å®ç°å°±æ˜¯ ZoneAvoidanceRuleï¼Œæ˜¯ä¸€ç§è½®è¯¢æ–¹æ¡ˆ</p><h3 id="_4-3-2-è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#_4-3-2-è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥" aria-hidden="true">#</a> 4.3.2.è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥</h3><p>é€šè¿‡å®šä¹‰ IRule å®ç°å¯ä»¥ä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ä»£ç æ–¹å¼ï¼šåœ¨ order-service ä¸­çš„ OrderApplication ç±»ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªæ–°çš„ IRuleï¼š</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">IRule</span> <span class="token function">randomRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RandomRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>é…ç½®æ–‡ä»¶æ–¹å¼ï¼šåœ¨ order-service çš„ application.yml æ–‡ä»¶ä¸­ï¼Œæ·»åŠ æ–°çš„é…ç½®ä¹Ÿå¯ä»¥ä¿®æ”¹è§„åˆ™ï¼š</li></ol><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">userservice</span><span class="token punctuation">:</span> <span class="token comment"># ç»™æŸä¸ªå¾®æœåŠ¡é…ç½®è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œè¿™é‡Œæ˜¯userserviceæœåŠ¡</span>
  <span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
    <span class="token key atrule">NFLoadBalancerRuleClassName</span><span class="token punctuation">:</span> com.netflix.loadbalancer.RandomRule <span class="token comment"># è´Ÿè½½å‡è¡¡è§„åˆ™</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>æ³¨æ„</strong>ï¼Œä¸€èˆ¬ç”¨é»˜è®¤çš„è´Ÿè½½å‡è¡¡è§„åˆ™ï¼Œä¸åšä¿®æ”¹ã€‚</p></blockquote><h2 id="_4-4-é¥¥é¥¿åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_4-4-é¥¥é¥¿åŠ è½½" aria-hidden="true">#</a> 4.4.é¥¥é¥¿åŠ è½½</h2><p>Ribbon é»˜è®¤æ˜¯é‡‡ç”¨æ‡’åŠ è½½ï¼Œå³ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ‰ä¼šå»åˆ›å»º LoadBalanceClientï¼Œè¯·æ±‚æ—¶é—´(è¯·æ±‚ eurekaClient åˆ—è¡¨)ä¼šå¾ˆé•¿ã€‚</p><p>è€Œé¥¥é¥¿åŠ è½½åˆ™ä¼šåœ¨é¡¹ç›®å¯åŠ¨æ—¶åˆ›å»ºï¼Œé™ä½ç¬¬ä¸€æ¬¡è®¿é—®çš„è€—æ—¶ï¼Œé€šè¿‡ä¸‹é¢é…ç½®å¼€å¯é¥¥é¥¿åŠ è½½ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
  <span class="token key atrule">eager-load</span><span class="token punctuation">:</span>
    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">clients</span><span class="token punctuation">:</span> userservice
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="_5-nacos-æ³¨å†Œä¸­å¿ƒ" tabindex="-1"><a class="header-anchor" href="#_5-nacos-æ³¨å†Œä¸­å¿ƒ" aria-hidden="true">#</a> 5.Nacos æ³¨å†Œä¸­å¿ƒ</h1><p>å›½å†…å…¬å¸ä¸€èˆ¬éƒ½æ¨å´‡é˜¿é‡Œå·´å·´çš„æŠ€æœ¯ï¼Œæ¯”å¦‚æ³¨å†Œä¸­å¿ƒï¼ŒSpringCloudAlibaba ä¹Ÿæ¨å‡ºäº†ä¸€ä¸ªåä¸º Nacos çš„æ³¨å†Œä¸­å¿ƒã€‚</p><h2 id="_5-1-è®¤è¯†å’Œå®‰è£…-nacos" tabindex="-1"><a class="header-anchor" href="#_5-1-è®¤è¯†å’Œå®‰è£…-nacos" aria-hidden="true">#</a> 5.1.è®¤è¯†å’Œå®‰è£… Nacos</h2>`,248),Sa={href:"https://nacos.io/",target:"_blank",rel:"noopener noreferrer"},Ia={href:"https://spring.io/projects/spring-cloud",target:"_blank",rel:"noopener noreferrer"},wa={href:"https://github.com/Netflix/eureka",target:"_blank",rel:"noopener noreferrer"},Aa=c('<p><img src="'+ta+`" alt="image-20210713230444308"></p><p>å®‰è£…æ–¹å¼å¯ä»¥å‚è€ƒè¯¾å‰èµ„æ–™ã€ŠNacos å®‰è£…æŒ‡å—.mdã€‹</p><h2 id="_5-2-æœåŠ¡æ³¨å†Œåˆ°-nacos" tabindex="-1"><a class="header-anchor" href="#_5-2-æœåŠ¡æ³¨å†Œåˆ°-nacos" aria-hidden="true">#</a> 5.2.æœåŠ¡æ³¨å†Œåˆ° nacos</h2><p>Nacos æ˜¯ SpringCloudAlibaba çš„ç»„ä»¶ï¼Œè€Œ SpringCloudAlibaba ä¹Ÿéµå¾ª SpringCloud ä¸­å®šä¹‰çš„æœåŠ¡æ³¨å†Œã€æœåŠ¡å‘ç°è§„èŒƒã€‚å› æ­¤ä½¿ç”¨ Nacos å’Œä½¿ç”¨ Eureka å¯¹äºå¾®æœåŠ¡æ¥è¯´ï¼Œå¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ã€‚</p><p>ä¸»è¦å·®å¼‚åœ¨äºï¼š</p><ul><li>ä¾èµ–ä¸åŒ</li><li>æœåŠ¡åœ°å€ä¸åŒ</li></ul><h3 id="_1-å¼•å…¥ä¾èµ–-2" tabindex="-1"><a class="header-anchor" href="#_1-å¼•å…¥ä¾èµ–-2" aria-hidden="true">#</a> 1ï¼‰å¼•å…¥ä¾èµ–</h3><p>åœ¨ cloud-demo çˆ¶å·¥ç¨‹çš„ pom æ–‡ä»¶ä¸­çš„<code>&lt;dependencyManagement&gt;</code>ä¸­å¼•å…¥ SpringCloudAlibaba çš„ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶ååœ¨ user-service å’Œ order-service ä¸­çš„ pom æ–‡ä»¶ä¸­å¼•å…¥ nacos-discovery ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>æ³¨æ„</strong>ï¼šä¸è¦å¿˜äº†æ³¨é‡Šæ‰ eureka çš„ä¾èµ–ã€‚</p></blockquote><h3 id="_2-é…ç½®-nacos-åœ°å€" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®-nacos-åœ°å€" aria-hidden="true">#</a> 2ï¼‰é…ç½® nacos åœ°å€</h3><p>åœ¨ user-service å’Œ order-service çš„ application.yml ä¸­æ·»åŠ  nacos åœ°å€ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>æ³¨æ„</strong>ï¼šä¸è¦å¿˜äº†æ³¨é‡Šæ‰ eureka çš„åœ°å€</p></blockquote><h3 id="_3-é‡å¯" tabindex="-1"><a class="header-anchor" href="#_3-é‡å¯" aria-hidden="true">#</a> 3ï¼‰é‡å¯</h3><p>é‡å¯å¾®æœåŠ¡åï¼Œç™»å½• nacos ç®¡ç†é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ°å¾®æœåŠ¡ä¿¡æ¯ï¼š</p><p><img src="`+pa+'" alt="image-20210713231439607"></p><h2 id="_5-3-æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#_5-3-æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹" aria-hidden="true">#</a> 5.3.æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹</h2><p>ä¸€ä¸ª<strong>æœåŠ¡</strong>å¯ä»¥æœ‰å¤šä¸ª<strong>å®ä¾‹</strong>ï¼Œä¾‹å¦‚æˆ‘ä»¬çš„ user-serviceï¼Œå¯ä»¥æœ‰:</p><ul><li>127.0.0.1:8081</li><li>127.0.0.1:8082</li><li>127.0.0.1:8083</li></ul><p>å‡å¦‚è¿™äº›å®ä¾‹åˆ†å¸ƒäºå…¨å›½å„åœ°çš„ä¸åŒæœºæˆ¿ï¼Œä¾‹å¦‚ï¼š</p><ul><li>127.0.0.1:8081ï¼Œåœ¨ä¸Šæµ·æœºæˆ¿</li><li>127.0.0.1:8082ï¼Œåœ¨ä¸Šæµ·æœºæˆ¿</li><li>127.0.0.1:8083ï¼Œåœ¨æ­å·æœºæˆ¿</li></ul><p>Nacos å°±å°†åŒä¸€æœºæˆ¿å†…çš„å®ä¾‹ åˆ’åˆ†ä¸ºä¸€ä¸ª<strong>é›†ç¾¤</strong>ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œuser-service æ˜¯æœåŠ¡ï¼Œä¸€ä¸ªæœåŠ¡å¯ä»¥åŒ…å«å¤šä¸ªé›†ç¾¤ï¼Œå¦‚æ­å·ã€ä¸Šæµ·ï¼Œæ¯ä¸ªé›†ç¾¤ä¸‹å¯ä»¥æœ‰å¤šä¸ªå®ä¾‹ï¼Œå½¢æˆåˆ†çº§æ¨¡å‹ï¼Œå¦‚å›¾ï¼š</p><p><img src="'+la+'" alt="image-20210713232522531"></p><p>å¾®æœåŠ¡äº’ç›¸è®¿é—®æ—¶ï¼Œåº”è¯¥å°½å¯èƒ½è®¿é—®åŒé›†ç¾¤å®ä¾‹ï¼Œå› ä¸ºæœ¬åœ°è®¿é—®é€Ÿåº¦æ›´å¿«ã€‚å½“æœ¬é›†ç¾¤å†…ä¸å¯ç”¨æ—¶ï¼Œæ‰è®¿é—®å…¶å®ƒé›†ç¾¤ã€‚ä¾‹å¦‚ï¼š</p><p><img src="'+ia+`" alt="image-20210713232658928"></p><p>æ­å·æœºæˆ¿å†…çš„ order-service åº”è¯¥ä¼˜å…ˆè®¿é—®åŒæœºæˆ¿çš„ user-serviceã€‚</p><h3 id="_5-3-1-ç»™-user-service-é…ç½®é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#_5-3-1-ç»™-user-service-é…ç½®é›†ç¾¤" aria-hidden="true">#</a> 5.3.1.ç»™ user-service é…ç½®é›†ç¾¤</h3><p>ä¿®æ”¹ user-service çš„ application.yml æ–‡ä»¶ï¼Œæ·»åŠ é›†ç¾¤é…ç½®ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> HZ <span class="token comment"># é›†ç¾¤åç§°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å¯ä¸¤ä¸ª user-service å®ä¾‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ nacos æ§åˆ¶å°çœ‹åˆ°ä¸‹é¢ç»“æœï¼š</p><p><img src="`+ca+`" alt="image-20210713232916215"></p><p>æˆ‘ä»¬å†æ¬¡å¤åˆ¶ä¸€ä¸ª user-service å¯åŠ¨é…ç½®ï¼Œæ·»åŠ å±æ€§ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token parameter variable">-Dserver.port</span><span class="token operator">=</span><span class="token number">8083</span> -Dspring.cloud.nacos.discovery.cluster-name<span class="token operator">=</span>SH
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="`+oa+'" alt="image-20210713233528982"></p><p>å¯åŠ¨ UserApplication3 åå†æ¬¡æŸ¥çœ‹ nacos æ§åˆ¶å°ï¼š</p><p><img src="'+ra+`" alt="image-20210713233727923"></p><h3 id="_5-3-2-åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#_5-3-2-åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡" aria-hidden="true">#</a> 5.3.2.åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡</h3><p>é»˜è®¤çš„<code>ZoneAvoidanceRule</code>å¹¶ä¸èƒ½å®ç°æ ¹æ®åŒé›†ç¾¤ä¼˜å…ˆæ¥å®ç°è´Ÿè½½å‡è¡¡ã€‚</p><p>å› æ­¤ Nacos ä¸­æä¾›äº†ä¸€ä¸ª<code>NacosRule</code>çš„å®ç°ï¼Œå¯ä»¥ä¼˜å…ˆä»åŒé›†ç¾¤ä¸­æŒ‘é€‰å®ä¾‹ã€‚</p><p>1ï¼‰ç»™ order-service é…ç½®é›†ç¾¤ä¿¡æ¯</p><p>ä¿®æ”¹ order-service çš„ application.yml æ–‡ä»¶ï¼Œæ·»åŠ é›†ç¾¤é…ç½®ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>spring:
  cloud:
    nacos:
      server-addr: localhost:8848
      discovery:
        cluster-name: HZ <span class="token comment"># é›†ç¾¤åç§°</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰ä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™</p><p>ä¿®æ”¹ order-service çš„ application.yml æ–‡ä»¶ï¼Œä¿®æ”¹è´Ÿè½½å‡è¡¡è§„åˆ™ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">userservice</span><span class="token punctuation">:</span>
  <span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
    <span class="token key atrule">NFLoadBalancerRuleClassName</span><span class="token punctuation">:</span> com.alibaba.cloud.nacos.ribbon.NacosRule <span class="token comment"># è´Ÿè½½å‡è¡¡è§„åˆ™</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-4-æƒé‡é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-4-æƒé‡é…ç½®" aria-hidden="true">#</a> 5.4.æƒé‡é…ç½®</h2><p>å®é™…éƒ¨ç½²ä¸­ä¼šå‡ºç°è¿™æ ·çš„åœºæ™¯ï¼š</p><p>æœåŠ¡å™¨è®¾å¤‡æ€§èƒ½æœ‰å·®å¼‚ï¼Œéƒ¨åˆ†å®ä¾‹æ‰€åœ¨æœºå™¨æ€§èƒ½è¾ƒå¥½ï¼Œå¦ä¸€äº›è¾ƒå·®ï¼Œæˆ‘ä»¬å¸Œæœ›æ€§èƒ½å¥½çš„æœºå™¨æ‰¿æ‹…æ›´å¤šçš„ç”¨æˆ·è¯·æ±‚ã€‚</p><p>ä½†é»˜è®¤æƒ…å†µä¸‹ NacosRule æ˜¯åŒé›†ç¾¤å†…éšæœºæŒ‘é€‰ï¼Œä¸ä¼šè€ƒè™‘æœºå™¨çš„æ€§èƒ½é—®é¢˜ã€‚</p><p>å› æ­¤ï¼ŒNacos æä¾›äº†æƒé‡é…ç½®æ¥æ§åˆ¶è®¿é—®é¢‘ç‡ï¼Œæƒé‡è¶Šå¤§åˆ™è®¿é—®é¢‘ç‡è¶Šé«˜ã€‚</p><p>åœ¨ nacos æ§åˆ¶å°ï¼Œæ‰¾åˆ° user-service çš„å®ä¾‹åˆ—è¡¨ï¼Œç‚¹å‡»ç¼–è¾‘ï¼Œå³å¯ä¿®æ”¹æƒé‡ï¼š</p><p><img src="`+ua+'" alt="image-20210713235133225"></p><p>åœ¨å¼¹å‡ºçš„ç¼–è¾‘çª—å£ï¼Œä¿®æ”¹æƒé‡ï¼š</p><p><img src="'+da+'" alt="image-20210713235235219"></p><blockquote><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæƒé‡ä¿®æ”¹ä¸º 0ï¼Œåˆ™è¯¥å®ä¾‹æ°¸è¿œä¸ä¼šè¢«è®¿é—®</p></blockquote><h2 id="_5-5-ç¯å¢ƒéš”ç¦»" tabindex="-1"><a class="header-anchor" href="#_5-5-ç¯å¢ƒéš”ç¦»" aria-hidden="true">#</a> 5.5.ç¯å¢ƒéš”ç¦»</h2><p>Nacos æä¾›äº† namespace æ¥å®ç°ç¯å¢ƒéš”ç¦»åŠŸèƒ½ã€‚</p><ul><li>nacos ä¸­å¯ä»¥æœ‰å¤šä¸ª namespace</li><li>namespace ä¸‹å¯ä»¥æœ‰ groupã€service ç­‰</li><li>ä¸åŒ namespace ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œä¾‹å¦‚ä¸åŒ namespace çš„æœåŠ¡äº’ç›¸ä¸å¯è§</li></ul><p><img src="'+ga+'" alt="image-20210714000101516"></p><h3 id="_5-5-1-åˆ›å»º-namespace" tabindex="-1"><a class="header-anchor" href="#_5-5-1-åˆ›å»º-namespace" aria-hidden="true">#</a> 5.5.1.åˆ›å»º namespace</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ serviceã€dataã€group éƒ½åœ¨åŒä¸€ä¸ª namespaceï¼Œåä¸º publicï¼š</p><p><img src="'+ma+'" alt="image-20210714000414781"></p><p>æˆ‘ä»¬å¯ä»¥ç‚¹å‡»é¡µé¢æ–°å¢æŒ‰é’®ï¼Œæ·»åŠ ä¸€ä¸ª namespaceï¼š</p><p><img src="'+ka+'" alt="image-20210714000440143"></p><p>ç„¶åï¼Œå¡«å†™è¡¨å•ï¼š</p><p><img src="'+va+'" alt="image-20210714000505928"></p><p>å°±èƒ½åœ¨é¡µé¢çœ‹åˆ°ä¸€ä¸ªæ–°çš„ namespaceï¼š</p><p><img src="'+ha+`" alt="image-20210714000522913"></p><h3 id="_5-5-2-ç»™å¾®æœåŠ¡é…ç½®-namespace" tabindex="-1"><a class="header-anchor" href="#_5-5-2-ç»™å¾®æœåŠ¡é…ç½®-namespace" aria-hidden="true">#</a> 5.5.2.ç»™å¾®æœåŠ¡é…ç½® namespace</h3><p>ç»™å¾®æœåŠ¡é…ç½® namespace åªèƒ½é€šè¿‡ä¿®æ”¹é…ç½®æ¥å®ç°ã€‚</p><p>ä¾‹å¦‚ï¼Œä¿®æ”¹ order-service çš„ application.yml æ–‡ä»¶ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> localhost<span class="token punctuation">:</span><span class="token number">8848</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">cluster-name</span><span class="token punctuation">:</span> HZ
        <span class="token key atrule">namespace</span><span class="token punctuation">:</span> 492a7d5d<span class="token punctuation">-</span>237b<span class="token punctuation">-</span>46a1<span class="token punctuation">-</span>a99a<span class="token punctuation">-</span>fa8e98e4b0f9 <span class="token comment"># å‘½åç©ºé—´ï¼Œå¡«ID</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å¯ order-service åï¼Œè®¿é—®æ§åˆ¶å°ï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç»“æœï¼š</p><p><img src="`+_a+'" alt="image-20210714000830703"></p><p><img src="'+ba+'" alt="image-20210714000837140"></p><p>æ­¤æ—¶è®¿é—® order-serviceï¼Œå› ä¸º namespace ä¸åŒï¼Œä¼šå¯¼è‡´æ‰¾ä¸åˆ° userserviceï¼Œæ§åˆ¶å°ä¼šæŠ¥é”™ï¼š</p><p><img src="'+ya+`" alt="image-20210714000941256"></p><h2 id="_5-6-nacos-ä¸-eureka-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_5-6-nacos-ä¸-eureka-çš„åŒºåˆ«" aria-hidden="true">#</a> 5.6.Nacos ä¸ Eureka çš„åŒºåˆ«</h2><p>Nacos çš„æœåŠ¡å®ä¾‹åˆ†ä¸ºä¸¤ç§ l ç±»å‹ï¼š</p><ul><li><p>ä¸´æ—¶å®ä¾‹ï¼šå¦‚æœå®ä¾‹å®•æœºè¶…è¿‡ä¸€å®šæ—¶é—´ï¼Œä¼šä»æœåŠ¡åˆ—è¡¨å‰”é™¤ï¼Œé»˜è®¤çš„ç±»å‹ã€‚</p></li><li><p>éä¸´æ—¶å®ä¾‹ï¼šå¦‚æœå®ä¾‹å®•æœºï¼Œä¸ä¼šä»æœåŠ¡åˆ—è¡¨å‰”é™¤ï¼Œä¹Ÿå¯ä»¥å«æ°¸ä¹…å®ä¾‹ã€‚</p></li></ul><p>é…ç½®ä¸€ä¸ªæœåŠ¡å®ä¾‹ä¸ºæ°¸ä¹…å®ä¾‹ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">ephemeral</span><span class="token punctuation">:</span> <span class="token boolean important">false</span> <span class="token comment"># è®¾ç½®ä¸ºéä¸´æ—¶å®ä¾‹</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Nacos å’Œ Eureka æ•´ä½“ç»“æ„ç±»ä¼¼ï¼ŒæœåŠ¡æ³¨å†Œã€æœåŠ¡æ‹‰å–ã€å¿ƒè·³ç­‰å¾…ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€äº›å·®å¼‚ï¼š</p><p><img src="`+fa+'" alt="image-20210714001728017"></p><ul><li><p>Nacos ä¸ eureka çš„å…±åŒç‚¹</p><ul><li>éƒ½æ”¯æŒæœåŠ¡æ³¨å†Œå’ŒæœåŠ¡æ‹‰å–</li><li>éƒ½æ”¯æŒæœåŠ¡æä¾›è€…å¿ƒè·³æ–¹å¼åšå¥åº·æ£€æµ‹</li></ul></li><li><p>Nacos ä¸ Eureka çš„åŒºåˆ«</p><ul><li>Nacos æ”¯æŒæœåŠ¡ç«¯ä¸»åŠ¨æ£€æµ‹æä¾›è€…çŠ¶æ€ï¼šä¸´æ—¶å®ä¾‹é‡‡ç”¨å¿ƒè·³æ¨¡å¼ï¼Œéä¸´æ—¶å®ä¾‹é‡‡ç”¨ä¸»åŠ¨æ£€æµ‹æ¨¡å¼</li><li>ä¸´æ—¶å®ä¾‹å¿ƒè·³ä¸æ­£å¸¸ä¼šè¢«å‰”é™¤ï¼Œéä¸´æ—¶å®ä¾‹åˆ™ä¸ä¼šè¢«å‰”é™¤</li><li>Nacos æ”¯æŒæœåŠ¡åˆ—è¡¨å˜æ›´çš„æ¶ˆæ¯æ¨é€æ¨¡å¼ï¼ŒæœåŠ¡åˆ—è¡¨æ›´æ–°æ›´åŠæ—¶</li><li>Nacos é›†ç¾¤é»˜è®¤é‡‡ç”¨ AP æ–¹å¼ï¼Œå½“é›†ç¾¤ä¸­å­˜åœ¨éä¸´æ—¶å®ä¾‹æ—¶ï¼Œé‡‡ç”¨ CP æ¨¡å¼ï¼›Eureka é‡‡ç”¨ AP æ–¹å¼</li></ul></li></ul>',90);function Ca(Na,Ea){const e=l("router-link"),p=l("ExternalLinkIcon");return r(),u("div",null,[Ba,a("nav",Ma,[a("ul",null,[a("li",null,[n(e,{to:"#_1-0-å­¦ä¹ ç›®æ ‡"},{default:t(()=>[s("1.0.å­¦ä¹ ç›®æ ‡")]),_:1})]),a("li",null,[n(e,{to:"#_1-1-å•ä½“æ¶æ„"},{default:t(()=>[s("1.1.å•ä½“æ¶æ„")]),_:1})]),a("li",null,[n(e,{to:"#_1-2-åˆ†å¸ƒå¼æ¶æ„"},{default:t(()=>[s("1.2.åˆ†å¸ƒå¼æ¶æ„")]),_:1})]),a("li",null,[n(e,{to:"#_1-3-å¾®æœåŠ¡"},{default:t(()=>[s("1.3.å¾®æœåŠ¡")]),_:1})]),a("li",null,[n(e,{to:"#_1-4-springcloud"},{default:t(()=>[s("1.4.SpringCloud")]),_:1})]),a("li",null,[n(e,{to:"#_1-5-æ€»ç»“"},{default:t(()=>[s("1.5.æ€»ç»“")]),_:1})]),a("li",null,[n(e,{to:"#_2-1-æœåŠ¡æ‹†åˆ†åŸåˆ™"},{default:t(()=>[s("2.1.æœåŠ¡æ‹†åˆ†åŸåˆ™")]),_:1})]),a("li",null,[n(e,{to:"#_2-2-æœåŠ¡æ‹†åˆ†ç¤ºä¾‹"},{default:t(()=>[s("2.2.æœåŠ¡æ‹†åˆ†ç¤ºä¾‹")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_2-2-1-å¯¼å…¥-sql-è¯­å¥"},{default:t(()=>[s("2.2.1.å¯¼å…¥ Sql è¯­å¥")]),_:1})]),a("li",null,[n(e,{to:"#_2-2-2-å¯¼å…¥-demo-å·¥ç¨‹"},{default:t(()=>[s("2.2.2.å¯¼å…¥ demo å·¥ç¨‹")]),_:1})])])]),a("li",null,[n(e,{to:"#_2-3-å®ç°è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹"},{default:t(()=>[s("2.3.å®ç°è¿œç¨‹è°ƒç”¨æ¡ˆä¾‹")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_2-3-1-æ¡ˆä¾‹éœ€æ±‚"},{default:t(()=>[s("2.3.1.æ¡ˆä¾‹éœ€æ±‚ï¼š")]),_:1})]),a("li",null,[n(e,{to:"#_2-3-2-æ³¨å†Œ-resttemplate"},{default:t(()=>[s("2.3.2.æ³¨å†Œ RestTemplate")]),_:1})]),a("li",null,[n(e,{to:"#_2-3-3-å®ç°è¿œç¨‹è°ƒç”¨"},{default:t(()=>[s("2.3.3.å®ç°è¿œç¨‹è°ƒç”¨")]),_:1})])])]),a("li",null,[n(e,{to:"#_2-4-æä¾›è€…ä¸æ¶ˆè´¹è€…"},{default:t(()=>[s("2.4.æä¾›è€…ä¸æ¶ˆè´¹è€…")]),_:1})]),a("li",null,[n(e,{to:"#_3-1-eureka-çš„ç»“æ„å’Œä½œç”¨"},{default:t(()=>[s("3.1.Eureka çš„ç»“æ„å’Œä½œç”¨")]),_:1})]),a("li",null,[n(e,{to:"#_3-2-æ­å»º-eureka-server"},{default:t(()=>[s("3.2.æ­å»º eureka-server")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_3-2-1-åˆ›å»º-eureka-server-æœåŠ¡"},{default:t(()=>[s("3.2.1.åˆ›å»º eureka-server æœåŠ¡")]),_:1})]),a("li",null,[n(e,{to:"#_3-2-2-å¼•å…¥-eureka-ä¾èµ–"},{default:t(()=>[s("3.2.2.å¼•å…¥ eureka ä¾èµ–")]),_:1})]),a("li",null,[n(e,{to:"#_3-2-3-ç¼–å†™å¯åŠ¨ç±»"},{default:t(()=>[s("3.2.3.ç¼–å†™å¯åŠ¨ç±»")]),_:1})]),a("li",null,[n(e,{to:"#_3-2-4-ç¼–å†™é…ç½®æ–‡ä»¶"},{default:t(()=>[s("3.2.4.ç¼–å†™é…ç½®æ–‡ä»¶")]),_:1})]),a("li",null,[n(e,{to:"#_3-2-5-å¯åŠ¨æœåŠ¡"},{default:t(()=>[s("3.2.5.å¯åŠ¨æœåŠ¡")]),_:1})])])]),a("li",null,[n(e,{to:"#_3-3-æœåŠ¡æ³¨å†Œ"},{default:t(()=>[s("3.3.æœåŠ¡æ³¨å†Œ")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_1-å¼•å…¥ä¾èµ–"},{default:t(()=>[s("1ï¼‰å¼•å…¥ä¾èµ–")]),_:1})]),a("li",null,[n(e,{to:"#_2-é…ç½®æ–‡ä»¶"},{default:t(()=>[s("2ï¼‰é…ç½®æ–‡ä»¶")]),_:1})]),a("li",null,[n(e,{to:"#_3-å¯åŠ¨å¤šä¸ª-user-service-å®ä¾‹"},{default:t(()=>[s("3ï¼‰å¯åŠ¨å¤šä¸ª user-service å®ä¾‹")]),_:1})])])]),a("li",null,[n(e,{to:"#_3-4-æœåŠ¡å‘ç°"},{default:t(()=>[s("3.4.æœåŠ¡å‘ç°")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_1-å¼•å…¥ä¾èµ–-1"},{default:t(()=>[s("1ï¼‰å¼•å…¥ä¾èµ–")]),_:1})]),a("li",null,[n(e,{to:"#_2-é…ç½®æ–‡ä»¶-1"},{default:t(()=>[s("2ï¼‰é…ç½®æ–‡ä»¶")]),_:1})]),a("li",null,[n(e,{to:"#_3-æœåŠ¡æ‹‰å–å’Œè´Ÿè½½å‡è¡¡"},{default:t(()=>[s("3ï¼‰æœåŠ¡æ‹‰å–å’Œè´Ÿè½½å‡è¡¡")]),_:1})])])]),a("li",null,[n(e,{to:"#_4-1-è´Ÿè½½å‡è¡¡åŸç†"},{default:t(()=>[s("4.1.è´Ÿè½½å‡è¡¡åŸç†")]),_:1})]),a("li",null,[n(e,{to:"#_4-2-æºç è·Ÿè¸ª"},{default:t(()=>[s("4.2.æºç è·Ÿè¸ª")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_1-loadbalancerintercepor"},{default:t(()=>[s("1ï¼‰LoadBalancerIntercepor")]),_:1})]),a("li",null,[n(e,{to:"#_2-loadbalancerclient"},{default:t(()=>[s("2ï¼‰LoadBalancerClient")]),_:1})]),a("li",null,[n(e,{to:"#_3-è´Ÿè½½å‡è¡¡ç­–ç•¥-irule"},{default:t(()=>[s("3ï¼‰è´Ÿè½½å‡è¡¡ç­–ç•¥ IRule")]),_:1})]),a("li",null,[n(e,{to:"#_4-æ€»ç»“"},{default:t(()=>[s("4ï¼‰æ€»ç»“")]),_:1})])])]),a("li",null,[n(e,{to:"#_4-3-è´Ÿè½½å‡è¡¡ç­–ç•¥"},{default:t(()=>[s("4.3.è´Ÿè½½å‡è¡¡ç­–ç•¥")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_4-3-1-è´Ÿè½½å‡è¡¡ç­–ç•¥"},{default:t(()=>[s("4.3.1.è´Ÿè½½å‡è¡¡ç­–ç•¥")]),_:1})]),a("li",null,[n(e,{to:"#_4-3-2-è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥"},{default:t(()=>[s("4.3.2.è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥")]),_:1})])])]),a("li",null,[n(e,{to:"#_4-4-é¥¥é¥¿åŠ è½½"},{default:t(()=>[s("4.4.é¥¥é¥¿åŠ è½½")]),_:1})]),a("li",null,[n(e,{to:"#_5-1-è®¤è¯†å’Œå®‰è£…-nacos"},{default:t(()=>[s("5.1.è®¤è¯†å’Œå®‰è£… Nacos")]),_:1})]),a("li",null,[n(e,{to:"#_5-2-æœåŠ¡æ³¨å†Œåˆ°-nacos"},{default:t(()=>[s("5.2.æœåŠ¡æ³¨å†Œåˆ° nacos")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_1-å¼•å…¥ä¾èµ–-2"},{default:t(()=>[s("1ï¼‰å¼•å…¥ä¾èµ–")]),_:1})]),a("li",null,[n(e,{to:"#_2-é…ç½®-nacos-åœ°å€"},{default:t(()=>[s("2ï¼‰é…ç½® nacos åœ°å€")]),_:1})]),a("li",null,[n(e,{to:"#_3-é‡å¯"},{default:t(()=>[s("3ï¼‰é‡å¯")]),_:1})])])]),a("li",null,[n(e,{to:"#_5-3-æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹"},{default:t(()=>[s("5.3.æœåŠ¡åˆ†çº§å­˜å‚¨æ¨¡å‹")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_5-3-1-ç»™-user-service-é…ç½®é›†ç¾¤"},{default:t(()=>[s("5.3.1.ç»™ user-service é…ç½®é›†ç¾¤")]),_:1})]),a("li",null,[n(e,{to:"#_5-3-2-åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡"},{default:t(()=>[s("5.3.2.åŒé›†ç¾¤ä¼˜å…ˆçš„è´Ÿè½½å‡è¡¡")]),_:1})])])]),a("li",null,[n(e,{to:"#_5-4-æƒé‡é…ç½®"},{default:t(()=>[s("5.4.æƒé‡é…ç½®")]),_:1})]),a("li",null,[n(e,{to:"#_5-5-ç¯å¢ƒéš”ç¦»"},{default:t(()=>[s("5.5.ç¯å¢ƒéš”ç¦»")]),_:1}),a("ul",null,[a("li",null,[n(e,{to:"#_5-5-1-åˆ›å»º-namespace"},{default:t(()=>[s("5.5.1.åˆ›å»º namespace")]),_:1})]),a("li",null,[n(e,{to:"#_5-5-2-ç»™å¾®æœåŠ¡é…ç½®-namespace"},{default:t(()=>[s("5.5.2.ç»™å¾®æœåŠ¡é…ç½® namespace")]),_:1})])])]),a("li",null,[n(e,{to:"#_5-6-nacos-ä¸-eureka-çš„åŒºåˆ«"},{default:t(()=>[s("5.6.Nacos ä¸ Eureka çš„åŒºåˆ«")]),_:1})])])]),Ra,a("p",null,[a("a",Sa,[s("Nacos"),n(p)]),s("æ˜¯é˜¿é‡Œå·´å·´çš„äº§å“ï¼Œç°åœ¨æ˜¯"),a("a",Ia,[s("SpringCloud"),n(p)]),s("ä¸­çš„ä¸€ä¸ªç»„ä»¶ã€‚ç›¸æ¯”"),a("a",wa,[s("Eureka"),n(p)]),s("åŠŸèƒ½æ›´åŠ ä¸°å¯Œï¼Œåœ¨å›½å†…å—æ¬¢è¿ç¨‹åº¦è¾ƒé«˜ã€‚")]),Aa])}const La=o(xa,[["render",Ca],["__file","index.html.vue"]]);export{La as default};
