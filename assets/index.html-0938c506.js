import{_ as e,r as c,o,c as l,a as n,e as a,w as p,b as t,d as i}from"./app-a153c100.js";const u="/MyBlog/assets/1610872258160-1a3722ff.png",k="/MyBlog/assets/1610872274378-9b3443e7.png",d="/MyBlog/assets/1610872293282-9142006b.png",r="/MyBlog/assets/1610868786927-c8087edb.png",m="/MyBlog/assets/1610868996313-9e3ec453.png",v="/MyBlog/assets/1610871562834-fa47ab2b.png",b={},g=n("h1",{id:"_07-ç½‘ç»œç¼–ç¨‹-äºŒ",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_07-ç½‘ç»œç¼–ç¨‹-äºŒ","aria-hidden":"true"},"#"),t(" 07 - ç½‘ç»œç¼–ç¨‹ï¼ˆäºŒï¼‰ ğŸ„")],-1),h={class:"table-of-contents"},w=i('<h2 id="åŸºäº-tcp-çš„-socket-é€šä¿¡æ¡ˆä¾‹è®²è§£" tabindex="-1"><a class="header-anchor" href="#åŸºäº-tcp-çš„-socket-é€šä¿¡æ¡ˆä¾‹è®²è§£" aria-hidden="true">#</a> åŸºäº TCP çš„ Socket é€šä¿¡æ¡ˆä¾‹è®²è§£</h2><h3 id="æ–‡ä»¶æœåŠ¡å™¨å®ç°" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶æœåŠ¡å™¨å®ç°" aria-hidden="true">#</a> æ–‡ä»¶æœåŠ¡å™¨å®ç°</h3><p><img src="'+u+'" alt="1610872258160"></p><h3 id="èŠå¤©å®¤å®ç°" tabindex="-1"><a class="header-anchor" href="#èŠå¤©å®¤å®ç°" aria-hidden="true">#</a> èŠå¤©å®¤å®ç°</h3><p><img src="'+k+'" alt="1610872274378"></p><p><img src="'+d+`" alt="1610872293282"></p><h2 id="åŸºäº-udp-åè®®çš„-socket-é€šä¿¡" tabindex="-1"><a class="header-anchor" href="#åŸºäº-udp-åè®®çš„-socket-é€šä¿¡" aria-hidden="true">#</a> åŸºäº UDP åè®®çš„ Socket é€šä¿¡</h2><h3 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°" aria-hidden="true">#</a> æ¦‚è¿°</h3><p>â€‹ UDP(User Datagram Protocol)ç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼Œåœ¨è¿™ç§åè®®ä¹‹ä¸‹ï¼Œé€šä¿¡çš„åŒæ–¹ä¹‹é—´ä¸éœ€è¦å»ºç«‹ç¨³å®šå¯é çš„è¿æ¥ï¼ŒUDP åè®®ä¸‹æ²¡æœ‰æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„æ¦‚å¿µï¼Œåªå­˜åœ¨å‘é€æ–¹å’Œæ¥æ”¶æ–¹ï¼ˆå‘é€æ–¹ä¹Ÿå¯èƒ½æ˜¯æ¥æ”¶æ–¹ï¼šä¾‹å¦‚é£ç§‹ï¼‰ï¼›æ•°æ®çš„ä¼ è¾“æ¨¡å¼æ˜¯ä»¥<strong>æŠ¥æ–‡çš„å½¢å¼å‘é€ï¼ˆTCP åŸºäºè¾“å…¥è¾“å‡ºæµï¼‰</strong>ï¼›ç±»ä¼¼äºå¿«é€’åŒ…è£¹çš„æŠ•é€’ï¼ŒUDP åè®®ä¸ä¿è¯æ•°æ®å‘é€çš„å®‰å…¨æ€§ï¼Œå¯èƒ½ä¼šå‡ºç°æ•°æ®æŠ¥åŒ…ä¸¢å¤±(ä¸¢åŒ…)ï¼Œå¯¼è‡´æ•°æ®ä¼ è¾“çš„å¡é¡¿ï¼Œä½†æ˜¯æ•°æ®æŠ¥åŒ…çš„å¶å°”ä¸¢å¤±å¯¹äºç”¨æˆ·æ¥è¯´æ— å…³ç´§è¦ï¼›æ•°æ®æŠ¥åŒ…çš„åˆ°è¾¾ä¹Ÿä¸ä¸€å®šæ˜¯æœ‰åºçš„ï¼Œå¯èƒ½ä¼šå‡ºç°åå‘å…ˆåˆ°ï¼›UDP åè®®çš„ä½¿ç”¨åœºæ™¯ååˆ†å¸¸è§ï¼š</p><p>ä¾‹å¦‚:</p><ul><li>è§†é¢‘ä¼šè®®</li><li>å±å¹•å¹¿æ’­</li><li>å¸¸è§çš„ç«¯æ¸¸</li></ul><blockquote><p>TCPï¼šæ‰“ç”µè¯ï¼ˆå¿…é¡»å…ˆæ¥é€šï¼Œæ‰èƒ½é€šè¯ï¼‰</p><p>UDPï¼šå‘å¿«é€’ï¼ˆæ— éœ€å»ºç«‹ç¨³å®šè¿æ¥ï¼‰</p></blockquote><h3 id="datagramsocket-udp-ç½‘ç»œé€šé“" tabindex="-1"><a class="header-anchor" href="#datagramsocket-udp-ç½‘ç»œé€šé“" aria-hidden="true">#</a> DatagramSocketï¼ˆUDP ç½‘ç»œé€šé“ï¼‰</h3><p>DatagramSocket ç”¨äºæ„å»ºä¸€ä¸ªæ— è¿æ¥çš„ç½‘ç»œé€šé“ï¼Œé€šè¿‡è¯¥å¯¹è±¡å¯ä»¥å®ç°æ¶ˆæ¯çš„å‘é€(send)å’Œæ¶ˆæ¯çš„æ¥æ”¶(receive)ã€‚</p><p><strong>å¸¸è§æ„é€ å™¨ï¼š</strong></p><ul><li>DatagramSocket()</li><li>DatagramSocket(int port)</li></ul><p>å¸¸è§æ–¹æ³•ï¼š</p><ul><li>send(DatagramPacket dp)ï¼šå‘é€æ•°æ®æŠ¥åŒ…</li><li>receive(DatagramPacket dp)ï¼šæ¥æ”¶æ•°æ®å­˜å‚¨åˆ°æ•°æ®æŠ¥åŒ…ä¸­</li></ul><h3 id="datagrampacket-æ•°æ®æŠ¥åŒ…" tabindex="-1"><a class="header-anchor" href="#datagrampacket-æ•°æ®æŠ¥åŒ…" aria-hidden="true">#</a> DatagramPacketï¼ˆæ•°æ®æŠ¥åŒ…ï¼‰</h3><p>DatagramPacket ç”¨äºè¡¨ç¤ºæ•°æ®æŠ¥åŒ…ï¼Œå†…éƒ¨é€šè¿‡å­—èŠ‚æ•°ç»„ä½œä¸ºç¼“å†²åŒºå­˜å‚¨æˆ–è€…æ¥æ”¶æ•°æ®.</p><p><strong>å¸¸è§æ„é€ å™¨ï¼š</strong></p><ul><li>DatagramPacket(byte[] buff,int len)</li><li>DatagramPacket(byte[] buff,int offset ,int len,InetAddress addr,int port)</li></ul><p><strong>å¸¸è§æ–¹æ³•ï¼š</strong></p><ul><li>getLength():è·å–æ•°æ®æŠ¥åŒ…è£¹ä¸­å®é™…çš„å­—èŠ‚é•¿åº¦</li></ul><h3 id="udp-é€šä¿¡å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#udp-é€šä¿¡å®ä¾‹" aria-hidden="true">#</a> UDP é€šä¿¡å®ä¾‹</h3><h4 id="å‘é€æ–¹" tabindex="-1"><a class="header-anchor" href="#å‘é€æ–¹" aria-hidden="true">#</a> å‘é€æ–¹</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sender</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">//åˆ›å»ºåŸºäºUDPåè®®çš„ç½‘ç»œé€šé“</span>
        <span class="token class-name">DatagramSocket</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å‡†å¤‡éœ€è¦å‘é€çš„æ¶ˆæ¯</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token string">&quot;å¤©ç‹ç›–åœ°è™ï¼Œå°é¸¡ç‚–è˜‘è‡!!!&quot;</span><span class="token punctuation">;</span>

        <span class="token comment">//åŸºäºéœ€è¦å‘é€çš„æ•°æ®å°†æ•°æ®æ‰“åŒ…æˆæ•°æ®æŠ¥åŒ…</span>
        <span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>
                msg<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token number">0</span><span class="token punctuation">,</span>
                msg<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
                <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               	<span class="token number">10000</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//å‘é€æ•°æ®æŠ¥åŒ…</span>
        ds<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ¥æ”¶æ–¹" tabindex="-1"><a class="header-anchor" href="#æ¥æ”¶æ–¹" aria-hidden="true">#</a> æ¥æ”¶æ–¹</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Receiver</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">//å æ®åœ¨æŒ‡å®šç«¯å£åˆ›å»ºç½‘ç»œé€šé“</span>
        <span class="token class-name">DatagramSocket</span> ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åˆ›å»ºå­—èŠ‚ç¼“å†²åŒº</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buff <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//æ„å»ºç©ºæ•°æ®æŠ¥åŒ…ç”¨äºæ¥æ”¶å‘é€æ–¹å‘é€çš„æ•°æ®</span>
        <span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span>buff<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//æ¥æ”¶æ•°æ®</span>
            ds<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//å°†å‘é€çš„æ–‡æœ¬ä¿¡æ¯è½¬æ¢ä¸ºString</span>
            <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>buff<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>dp<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> ip <span class="token operator">=</span> dp<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ip<span class="token operator">+</span><span class="token string">&quot;:&quot;</span><span class="token operator">+</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="udp-é€šä¿¡ä¹‹ä¸é£ç§‹é€šä¿¡å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#udp-é€šä¿¡ä¹‹ä¸é£ç§‹é€šä¿¡å®ä¾‹" aria-hidden="true">#</a> UDP é€šä¿¡ä¹‹ä¸é£ç§‹é€šä¿¡å®ä¾‹</h3><p>é£ç§‹çš„æ¶ˆæ¯å‘é€å®ç°ä¹Ÿæ˜¯åŸºäº UDP åè®®çš„ï¼Œå¦‚æœæˆ‘ä»¬ç†Ÿæ‚‰é£ç§‹æ¶ˆæ¯çš„ç»„ç»‡æ–¹å¼ï¼Œå³å¯é€šè¿‡ç¼–å†™ Java ç¨‹åºå‘é£ç§‹å‘é€æ¶ˆæ¯ï¼š</p><p>é£ç§‹çš„æ¶ˆæ¯å‘é€åè®®å¦‚ä¸‹:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ç‰ˆæœ¬å·:æ¶ˆæ¯è¯†åˆ«å·:å‘é€äººæ˜µç§°:å‘é€äººä¸»æœºåœ°å€:å‘½ä»¤å­—:æ¶ˆæ¯å†…å®¹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>å…¶ä¸­ï¼š</p><p>ç‰ˆæœ¬å·å›ºå®šä¸º<code>1</code></p><p>æ¶ˆæ¯è¯†åˆ«å·:ä¿æŒå”¯ä¸€å³å¯ï¼ˆä¸€èˆ¬ä½¿ç”¨ç³»ç»Ÿæ—¶é—´ï¼‰</p><p>å‘é€æ˜µç§°å¯ä»¥ä»»æ„ç¼–å†™</p><p>å‘é€ä¸»æœºåœ°å€å¯ä¼ªè£…ï¼Œå³ä»»æ„ç¼–å†™</p><p>å‘½ä»¤å­—ï¼š32 å›ºå®šè¡¨ç¤ºä¸ºæ¶ˆæ¯å‘é€</p><p>æ¶ˆæ¯å†…å®¹ï¼šå®é™…éœ€è¦å‘é€åˆ°ç›®æ ‡åœ°å€çš„æ¶ˆæ¯å†…å®¹</p><p>ä¾‹å¦‚:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>1:100:åˆ˜å¾·å:liudehua:32:helloé£ç§‹
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FeiQUtils</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * é£ç§‹åè®®ç‰ˆæœ¬å·ï¼Œé»˜è®¤:1
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">VERSION_CODE</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * å‘é€äººæ˜µç§°
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">NICK_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;SOFTEEM&quot;</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * å‘é€äººä¸»æœºåœ°å€:å¯ä¼ªè£…
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">HOST_NAME</span> <span class="token operator">=</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
     * å‘½ä»¤å­—ï¼š32è¡¨ç¤ºå‘é€æ¶ˆæ¯
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">COMM_CODE</span> <span class="token operator">=</span> <span class="token number">32</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">DatagramSocket</span> ds<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> ip<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">FeiQUtils</span><span class="token punctuation">(</span><span class="token class-name">String</span> ip<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SocketException</span> <span class="token punctuation">{</span>
        ds <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ip <span class="token operator">=</span> ip<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//åˆ›å»ºç½‘ç»œé€šé“</span>
        <span class="token comment">//å‡†å¤‡æ•°æ®</span>
        <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token constant">VERSION_CODE</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token constant">NICK_NAME</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token constant">HOST_NAME</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> <span class="token constant">COMM_CODE</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> msg<span class="token punctuation">;</span>
        <span class="token comment">//å°†éœ€è¦å‘é€çš„æ•°æ®æ‰“åŒ…æˆæ•°æ®æŠ¥åŒ…</span>
        <span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>
            content<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token number">0</span><span class="token punctuation">,</span>
            content<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
            <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span>ip<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token number">2425</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å‘é€æ¶ˆæ¯</span>
        ds<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">FeiQUtils</span> utils <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FeiQUtils</span><span class="token punctuation">(</span><span class="token string">&quot;192.168.6.255&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        utils<span class="token punctuation">.</span><span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token string">&quot;hello1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        utils<span class="token punctuation">.</span><span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token string">&quot;hello2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        utils<span class="token punctuation">.</span><span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token string">&quot;hello3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        utils<span class="token punctuation">.</span><span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token string">&quot;hello4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="udp-æ•°æ®å¹¿æ’­ä¹‹-multicastsocket" tabindex="-1"><a class="header-anchor" href="#udp-æ•°æ®å¹¿æ’­ä¹‹-multicastsocket" aria-hidden="true">#</a> UDP æ•°æ®å¹¿æ’­ä¹‹ MulticastSocket</h3><p>åœ¨ä¼ ç»Ÿçš„äº’è”ç½‘æ¶æ„ä¹‹ä¸‹ï¼Œä¸€å°ä¸»æœºéœ€è¦å°†æ¶ˆæ¯å‘é€çš„å¤šå°ä¸åŒçš„ä¸»æœºæ—¶ ä¸­é—´æ˜¯ç»è¿‡äº†äº¤æ¢æœº(è·¯ç”±å™¨)ï¼Œå¦‚æœéœ€è¦è¿›è¡Œæ¶ˆæ¯çš„ç¾¤å‘ï¼Œæ­¤æ—¶åœ¨ TCP åè®®ä¹‹ä¸‹ï¼Œå‘é€æ–¹éœ€è¦å°†æ¶ˆæ¯åˆ¶ä½œ N ä»½æ‹·è´å‘ç»™äº¤æ¢æœºï¼Œç„¶åäº¤æ¢æœºå†å°†è¿™äº›æ¶ˆæ¯åˆ†å‘ç»™å±€åŸŸç½‘ä¸­å…¶ä»–ä¸»æœºï¼Œè¿™æ ·ä¸€æ¥ï¼Œå¤§å¤§å¢åŠ ç½‘ç»œè´Ÿæ‹…ã€‚</p><p><img src="`+r+'" alt="1610868786927"></p><p>å› æ­¤ï¼Œåœ¨ UDP åè®®ä¸­ï¼Œæä¾›äº†ç»„æ’­åŠŸèƒ½ï¼ˆæ•°æ®å¹¿æ’­ï¼‰ï¼Œä½¿ç”¨ UDP æ•°æ®å¹¿æ’­ï¼Œåªéœ€è¦å°†æ¶ˆæ¯å‘é€ä¸€æ¬¡åˆ°äº¤æ¢æœºï¼Œäº¤æ¢æœºä¼šå°†æ¶ˆæ¯åˆ¶ä½œ N ä»½æ‹·è´ï¼Œå‘é€åˆ°ä½äºè¯¥å¹¿æ’­ç»„å†…çš„æ‰€æœ‰å…¶ä»–ä¸»æœºã€‚ç±»ä¼¼å¦‚ä¸‹ç»“æ„:</p><p><img src="'+m+`" alt="1610868996313"></p><p>ä½¿ç”¨ UDP æ•°æ®å¹¿æ’­æ—¶ï¼Œéœ€è¦æä¾›ä¸€ä¸ªæ•°æ®å¹¿æ’­åœ°å€ï¼Œè¯¥åœ°å€ä¸º IP åœ°å€çš„ D ç±»åœ°å€,å¯é€‰èŒƒå›´ä¸º:<code>224.0.0.0</code>~<code>239.255.255.255</code>ä¹‹é—´ï¼Œå¹¶ä¸”å¹¿æ’­æ¶ˆæ¯çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹éœ€è¦åŠ å…¥è¯¥å¹¿æ’­åœ°å€ï¼š</p><h4 id="å‘é€å¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#å‘é€å¹¿æ’­" aria-hidden="true">#</a> å‘é€å¹¿æ’­</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BoradcastSender</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">//å‡†å¤‡ç»„æ’­åœ°å€</span>
        <span class="token class-name">InetAddress</span> groupIP <span class="token operator">=</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">&quot;225.6.7.8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åˆ›å»ºå¹¿æ’­ç½‘ç»œé€šé“</span>
        <span class="token class-name">MulticastSocket</span> ms <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MulticastSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ä¸ºç½‘ç»œé€šé“ç»‘å®šç»„æ’­åœ°å€</span>
        ms<span class="token punctuation">.</span><span class="token function">joinGroup</span><span class="token punctuation">(</span>groupIP<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token string">&quot;ä»Šæ™šå…«ç‚¹åŠï¼Œåœ¨æ‘å§”ä¼šæœ‰å¤§å‹æ­Œèˆè¡¨æ¼”ï¼Œè¯·å„ä½æ‘æ°‘ç«¯å¥½å°æ¿å‡³å‡†æ—¶è§‚çœ‹ï¼ï¼ï¼&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>
            msg<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token number">0</span><span class="token punctuation">,</span>
            msg<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
            groupIP<span class="token punctuation">,</span>
            <span class="token number">9999</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å‘é€å¹¿æ’­</span>
        ms<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ms<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ¥æ”¶å¹¿æ’­" tabindex="-1"><a class="header-anchor" href="#æ¥æ”¶å¹¿æ’­" aria-hidden="true">#</a> æ¥æ”¶å¹¿æ’­</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BordercastReceiver</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//å‡†å¤‡ç»„æ’­åœ°å€</span>
        <span class="token class-name">InetAddress</span> groupIP <span class="token operator">=</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">&quot;225.6.7.8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//åˆ›å»ºå¹¿æ’­ç½‘ç»œé€šé“</span>
        <span class="token class-name">MulticastSocket</span> ms <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MulticastSocket</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//ä¸ºç½‘ç»œé€šé“ç»‘å®šç»„æ’­åœ°å€</span>
        ms<span class="token punctuation">.</span><span class="token function">joinGroup</span><span class="token punctuation">(</span>groupIP<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token comment">//åˆ›å»ºç©ºæ•°æ®æŠ¥åŒ…</span>
        <span class="token class-name">DatagramPacket</span> dp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>b<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            ms<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>dp<span class="token punctuation">.</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dp<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;å¹¿æ’­æ¶ˆæ¯ï¼š&quot;</span><span class="token operator">+</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h3><h2 id="ä½œä¸š" tabindex="-1"><a class="header-anchor" href="#ä½œä¸š" aria-hidden="true">#</a> ä½œä¸š</h2><ol><li><p>åŸºäº UDP åè®®å®ç°ä¸€ä¸ªèŠå¤©å®¤</p></li><li><p>åŸºäº TCP/IP åè®®å®Œæˆä¸€ä¸ªè¿œç¨‹ç™»é™†åŠŸèƒ½</p><p><img src="`+v+'" alt="1610871562834"></p></li></ol>',48);function y(f,D){const s=c("router-link");return o(),l("div",null,[g,n("nav",h,[n("ul",null,[n("li",null,[a(s,{to:"#åŸºäº-tcp-çš„-socket-é€šä¿¡æ¡ˆä¾‹è®²è§£"},{default:p(()=>[t("åŸºäº TCP çš„ Socket é€šä¿¡æ¡ˆä¾‹è®²è§£")]),_:1}),n("ul",null,[n("li",null,[a(s,{to:"#æ–‡ä»¶æœåŠ¡å™¨å®ç°"},{default:p(()=>[t("æ–‡ä»¶æœåŠ¡å™¨å®ç°")]),_:1})]),n("li",null,[a(s,{to:"#èŠå¤©å®¤å®ç°"},{default:p(()=>[t("èŠå¤©å®¤å®ç°")]),_:1})])])]),n("li",null,[a(s,{to:"#åŸºäº-udp-åè®®çš„-socket-é€šä¿¡"},{default:p(()=>[t("åŸºäº UDP åè®®çš„ Socket é€šä¿¡")]),_:1}),n("ul",null,[n("li",null,[a(s,{to:"#æ¦‚è¿°"},{default:p(()=>[t("æ¦‚è¿°")]),_:1})]),n("li",null,[a(s,{to:"#datagramsocket-udp-ç½‘ç»œé€šé“"},{default:p(()=>[t("DatagramSocketï¼ˆUDP ç½‘ç»œé€šé“ï¼‰")]),_:1})]),n("li",null,[a(s,{to:"#datagrampacket-æ•°æ®æŠ¥åŒ…"},{default:p(()=>[t("DatagramPacketï¼ˆæ•°æ®æŠ¥åŒ…ï¼‰")]),_:1})]),n("li",null,[a(s,{to:"#udp-é€šä¿¡å®ä¾‹"},{default:p(()=>[t("UDP é€šä¿¡å®ä¾‹")]),_:1})]),n("li",null,[a(s,{to:"#udp-é€šä¿¡ä¹‹ä¸é£ç§‹é€šä¿¡å®ä¾‹"},{default:p(()=>[t("UDP é€šä¿¡ä¹‹ä¸é£ç§‹é€šä¿¡å®ä¾‹")]),_:1})]),n("li",null,[a(s,{to:"#udp-æ•°æ®å¹¿æ’­ä¹‹-multicastsocket"},{default:p(()=>[t("UDP æ•°æ®å¹¿æ’­ä¹‹ MulticastSocket")]),_:1})]),n("li",null,[a(s,{to:"#"})])])]),n("li",null,[a(s,{to:"#ä½œä¸š"},{default:p(()=>[t("ä½œä¸š")]),_:1})])])]),w])}const P=e(b,[["render",y],["__file","index.html.vue"]]);export{P as default};
